CKEDITOR['dialog']['add']('specialchar',function(i){var e,l=i['lang']['specialchar'],k=function(c){var b,c=c['data']?c['data']['getTarget']():new CKEDITOR['dom']['element'](c);if('a'==c['getName']()&&(b=c['getChild'](0x0)['getHtml']()))c['removeClass']('cke_light_background'),e['hide'](),c=i['document']['createElement']('span'),c['setHtml'](b),i['insertText'](c['getText']());},m=CKEDITOR['tools']['addFunction'](k),j,g=function(c,b){var a,b=b||c['data']['getTarget']();'span'==b['getName']()&&(b=b['getParent']());if('a'==b['getName']()&&(a=b['getChild'](0x0)['getHtml']())){j&&d(null,j);var f=e['getContentElement']('info','htmlPreview')['getElement']();e['getContentElement']('info','charPreview')['getElement']()['setHtml'](a),f['setHtml'](CKEDITOR['tools']['htmlEncode'](a)),b['getParent']()['addClass']('cke_light_background'),j=b;}},d=function(c,b){b=b||c['data']['getTarget'](),'span'==b['getName']()&&(b=b['getParent']()),'a'==b['getName']()&&(e['getContentElement']('info','charPreview')['getElement']()['setHtml']('&nbsp;'),e['getContentElement']('info','htmlPreview')['getElement']()['setHtml']('&nbsp;'),b['getParent']()['removeClass']('cke_light_background'),j=void 0x0);},n=CKEDITOR['tools']['addFunction'](function(c){var c=new CKEDITOR['dom']['event'](c),b=c['getTarget'](),a;a=c['getKeystroke']();var f='rtl'==i['lang']['dir'];switch(a){case 0x26:if(a=b['getParent']()['getParent']()['getPrevious']())a=a['getChild']([b['getParent']()['getIndex'](),0x0]),a['focus'](),d(null,b),g(null,a);c['preventDefault']();break;case 0x28:if(a=b['getParent']()['getParent']()['getNext']()){if((a=a['getChild']([b['getParent']()['getIndex'](),0x0]))&&0x1==a['type'])a['focus'](),d(null,b),g(null,a);}c['preventDefault']();break;case 0x20:k({'data':c}),c['preventDefault']();break;case f?0x25:0x27:if(a=b['getParent']()['getNext']())a=a['getChild'](0x0),0x1==a['type']?(a['focus'](),d(null,b),g(null,a),c['preventDefault'](!0x0)):d(null,b);else{if(a=b['getParent']()['getParent']()['getNext']())(a=a['getChild']([0x0,0x0]))&&0x1==a['type']?(a['focus'](),d(null,b),g(null,a),c['preventDefault'](!0x0)):d(null,b);}break;case f?0x27:0x25:(a=b['getParent']()['getPrevious']())?(a=a['getChild'](0x0),a['focus'](),d(null,b),g(null,a),c['preventDefault'](!0x0)):(a=b['getParent']()['getParent']()['getPrevious']())?(a=a['getLast']()['getChild'](0x0),a['focus'](),d(null,b),g(null,a),c['preventDefault'](!0x0)):d(null,b);}});return{'title':l['title'],'minWidth':0x1ae,'minHeight':0x118,'buttons':[CKEDITOR['dialog']['cancelButton']],'charColumns':0x11,'onLoad':function(){for(var c=this['definition']['charColumns'],b=i['config']['specialChars'],a=CKEDITOR['tools']['getNextId']()+'_specialchar_table_label',f=['<table\x20role=\x22listbox\x22\x20aria-labelledby=\x22'+a+'\x22\x20style=\x22width:\x20320px;\x20height:\x20100%;\x20border-collapse:\x20separate;\x22\x20align=\x22center\x22\x20cellspacing=\x222\x22\x20cellpadding=\x222\x22\x20border=\x220\x22>'],d=0x0,g=b['length'],h,e;d<g;){f['push']('<tr\x20role=\x22presentation\x22>');for(var j=0x0;j<c;j++,d++){if(h=b[d]){h instanceof Array?(e=h[0x1],h=h[0x0]):(e=h['replace']('&','')['replace'](';','')['replace']('#',''),e=l[e]||h);var k='cke_specialchar_label_'+d+'_'+CKEDITOR['tools']['getNextNumber']();f['push']('<td\x20class=\x22cke_dark_background\x22\x20style=\x22cursor:\x20default\x22\x20role=\x22presentation\x22><a\x20href=\x22javascript:\x20void(0);\x22\x20role=\x22option\x22\x20aria-posinset=\x22'+(d+0x1)+'\x22','\x20aria-setsize=\x22'+g+'\x22','\x20aria-labelledby=\x22'+k+'\x22','\x20class=\x22cke_specialchar\x22\x20title=\x22',CKEDITOR['tools']['htmlEncode'](e),'\x22\x20onkeydown=\x22CKEDITOR.tools.callFunction(\x20'+n+',\x20event,\x20this\x20)\x22\x20onclick=\x22CKEDITOR.tools.callFunction('+m+',\x20this);\x20return\x20false;\x22\x20tabindex=\x22-1\x22><span\x20style=\x22margin:\x200\x20auto;cursor:\x20inherit\x22>'+h+'</span><span\x20class=\x22cke_voice_label\x22\x20id=\x22'+k+'\x22>'+e+'</span></a>');}else f['push']('<td\x20class=\x22cke_dark_background\x22>&nbsp;');f['push']('</td>');}f['push']('</tr>');}f['push']('</tbody></table>','<span\x20id=\x22'+a+'\x22\x20class=\x22cke_voice_label\x22>'+l['options']+'</span>'),this['getContentElement']('info','charContainer')['getElement']()['setHtml'](f['join'](''));},'contents':[{'id':'info','label':i['lang']['common']['generalTab'],'title':i['lang']['common']['generalTab'],'padding':0x0,'align':'top','elements':[{'type':'hbox','align':'top','widths':['320px','90px'],'children':[{'type':'html','id':'charContainer','html':'','onMouseover':g,'onMouseout':d,'focus':function(){var c=this['getElement']()['getElementsByTag']('a')['getItem'](0x0);setTimeout(function(){c['focus'](),g(null,c);},0x0);},'onShow':function(){var c=this['getElement']()['getChild']([0x0,0x0,0x0,0x0,0x0]);setTimeout(function(){c['focus'](),g(null,c);},0x0);},'onLoad':function(c){e=c['sender'];}},{'type':'hbox','align':'top','widths':['100%'],'children':[{'type':'vbox','align':'top','children':[{'type':'html','html':'<div></div>'},{'type':'html','id':'charPreview','className':'cke_dark_background','style':'border:1px\x20solid\x20#eeeeee;font-size:28px;height:40px;width:70px;padding-top:9px;font-family:\x27Microsoft\x20Sans\x20Serif\x27,Arial,Helvetica,Verdana;text-align:center;','html':'<div>&nbsp;</div>'},{'type':'html','id':'htmlPreview','className':'cke_dark_background','style':'border:1px\x20solid\x20#eeeeee;font-size:14px;height:20px;width:70px;padding-top:2px;font-family:\x27Microsoft\x20Sans\x20Serif\x27,Arial,Helvetica,Verdana;text-align:center;','html':'<div>&nbsp;</div>'}]}]}]}]}]};});