CKEDITOR['dialog']['add']('paste',function(c){function h(a){var b=new CKEDITOR['dom']['document'](a['document']),f=b['getBody'](),d=b['getById']('cke_actscrpt');d&&d['remove'](),f['setAttribute']('contenteditable',!0x0);if(CKEDITOR['env']['ie']&&0x8>CKEDITOR['env']['version'])b['getWindow']()['on']('blur',function(){b['$']['selection']['empty']();});b['on']('keydown',function(a){var a=a['data'],b;switch(a['getKeystroke']()){case 0x1b:this['hide'](),b=0x1;break;case 0x9:case CKEDITOR['SHIFT']+0x9:this['changeFocus'](0x1),b=0x1;}b&&a['preventDefault']();},this),c['fire']('ariaWidget',new CKEDITOR['dom']['element'](a['frameElement'])),b['getWindow']()['getFrame']()['removeCustomData']('pendingFocus')&&f['focus']();}var e=c['lang']['clipboard'];return c['on']('pasteDialogCommit',function(a){a['data']&&c['fire']('paste',{'type':'auto','dataValue':a['data']});},null,null,0x3e8),{'title':e['title'],'minWidth':CKEDITOR['env']['ie']&&CKEDITOR['env']['quirks']?0x172:0x15e,'minHeight':CKEDITOR['env']['quirks']?0xfa:0xf5,'onShow':function(){this['parts']['dialog']['$']['offsetHeight'],this['setupContent'](),this['parts']['title']['setHtml'](this['customTitle']||e['title']),this['customTitle']=null;},'onLoad':function(){(CKEDITOR['env']['ie7Compat']||CKEDITOR['env']['ie6Compat'])&&'rtl'==c['lang']['dir']&&this['parts']['contents']['setStyle']('overflow','hidden');},'onOk':function(){this['commitContent']();},'contents':[{'id':'general','label':c['lang']['common']['generalTab'],'elements':[{'type':'html','id':'securityMsg','html':'<div\x20style=\x22white-space:normal;width:340px\x22>'+e['securityMsg']+'</div>'},{'type':'html','id':'pasteMsg','html':'<div\x20style=\x22white-space:normal;width:340px\x22>'+e['pasteMsg']+'</div>'},{'type':'html','id':'editing_area','style':'width:100%;height:100%','html':'','focus':function(){var a=this['getInputElement'](),b=a['getFrameDocument']()['getBody']();!b||b['isReadOnly']()?a['setCustomData']('pendingFocus',0x1):b['focus']();},'setup':function(){var a=this['getDialog'](),b='<html\x20dir=\x22'+c['config']['contentsLangDirection']+'\x22\x20lang=\x22'+(c['config']['contentsLanguage']||c['langCode'])+'\x22><head><style>body{margin:3px;height:95%}</style></head><body><script\x20id=\x22cke_actscrpt\x22\x20type=\x22text/javascript\x22>window.parent.CKEDITOR.tools.callFunction('+CKEDITOR['tools']['addFunction'](h,a)+',this);</script></body></html>',f=CKEDITOR['env']['air']?'javascript:void(0)':CKEDITOR['env']['ie']?'javascript:void((function(){'+encodeURIComponent('document.open();('+CKEDITOR['tools']['fixDomain']+')();document.close();')+'})())\x22':'',d=CKEDITOR['dom']['element']['createFromHtml']('<iframe\x20class=\x22cke_pasteframe\x22\x20frameborder=\x220\x22\x20\x20allowTransparency=\x22true\x22\x20src=\x22'+f+'\x22\x20role=\x22region\x22\x20aria-label=\x22'+e['pasteArea']+'\x22\x20aria-describedby=\x22'+a['getContentElement']('general','pasteMsg')['domId']+'\x22\x20aria-multiple=\x22true\x22></iframe>');d['on']('load',function(a){a['removeListener'](),a=d['getFrameDocument'](),a['write'](b),c['focusManager']['add'](a['getBody']()),CKEDITOR['env']['air']&&h['call'](this,a['getWindow']()['$']);},a),d['setCustomData']('dialog',a),a=this['getElement'](),a['setHtml'](''),a['append'](d);if(CKEDITOR['env']['ie']){var g=CKEDITOR['dom']['element']['createFromHtml']('<span\x20tabindex=\x22-1\x22\x20style=\x22position:absolute\x22\x20role=\x22presentation\x22></span>');g['on']('focus',function(){setTimeout(function(){d['$']['contentWindow']['focus']();});}),a['append'](g),this['focus']=function(){g['focus'](),this['fire']('focus');};}this['getInputElement']=function(){return d;},CKEDITOR['env']['ie']&&(a['setStyle']('display','block'),a['setStyle']('height',d['$']['offsetHeight']+0x2+'px'));},'commit':function(){var a=this['getDialog']()['getParentEditor'](),b=this['getInputElement']()['getFrameDocument']()['getBody'](),c=b['getBogus'](),d;c&&c['remove'](),d=b['getHtml'](),setTimeout(function(){a['fire']('pasteDialogCommit',d);},0x0);}}]}]};});