var ctrlEducationHistory={'Load':function(){$('#education-history-form-dates')['focus']();if(TriSysApex['ModalDialogue']['ContactEducationHistory']['ContactEducationHistoryId']==0x0)return;var dataPacket={'ContactEducationHistoryId':TriSysApex['ModalDialogue']['ContactEducationHistory']['ContactEducationHistoryId']},payloadObject={};payloadObject['URL']='Contacts/ReadEducationHistory',payloadObject['OutboundDataPacket']=dataPacket,payloadObject['InboundDataFunction']=function(data){TriSysApex['UI']['HideWait']();var CReadEducationHistoryResponse=data;if(CReadEducationHistoryResponse){if(CReadEducationHistoryResponse['Success']){$('#education-history-form-dates')['val'](CReadEducationHistoryResponse['Dates']),$('#education-history-form-school')['val'](CReadEducationHistoryResponse['School']),$('#education-history-form-location')['val'](CReadEducationHistoryResponse['Location']),$('#education-history-form-qualifications')['val'](CReadEducationHistoryResponse['Qualifications']),$('#education-history-form-comments')['val'](CReadEducationHistoryResponse['Comments']);return;}else TriSysApex['UI']['ShowMessage'](CReadEducationHistoryResponse['ErrorMessage']);}},payloadObject['ErrorHandlerFunction']=function(request,status,error){TriSysApex['UI']['HideWait'](),TriSysApex['UI']['errorAlert']('ctrlEducationHistory.Load:\x20'+status+':\x20'+error+'.\x20responseText:\x20'+request['responseText']);},TriSysApex['UI']['ShowWait'](null,'Reading\x20Education\x20History...'),TriSysAPI['Data']['PostToWebAPI'](payloadObject);},'Save':function(lContactId){var CWriteEducationHistoryRequest={};CWriteEducationHistoryRequest['Dates']=$('#education-history-form-dates')['val'](),CWriteEducationHistoryRequest['School']=$('#education-history-form-school')['val'](),CWriteEducationHistoryRequest['Location']=$('#education-history-form-location')['val'](),CWriteEducationHistoryRequest['Qualifications']=$('#education-history-form-qualifications')['val'](),CWriteEducationHistoryRequest['Comments']=$('#education-history-form-comments')['val']();if(!CWriteEducationHistoryRequest['Dates']||!CWriteEducationHistoryRequest['School']){TriSysApex['UI']['ShowMessage']('Please\x20provide\x20the\x20dates\x20and\x20school/college.');return;}CWriteEducationHistoryRequest['ContactEducationHistoryId']=TriSysApex['ModalDialogue']['ContactEducationHistory']['ContactEducationHistoryId'],CWriteEducationHistoryRequest['ContactId']=lContactId;var payloadObject={};payloadObject['URL']='Contacts/WriteEducationHistory',payloadObject['OutboundDataPacket']=CWriteEducationHistoryRequest,payloadObject['InboundDataFunction']=function(data){TriSysApex['UI']['HideWait']();var CWriteEducationHistoryResponse=data;if(CWriteEducationHistoryResponse){if(CWriteEducationHistoryResponse['Success']){ctrlEducationHistory['PostSaveEvent'](CWriteEducationHistoryResponse['ContactEducationHistoryId']);return;}else TriSysApex['UI']['ShowMessage'](CWriteEducationHistoryResponse['ErrorMessage']);}},payloadObject['ErrorHandlerFunction']=function(request,status,error){TriSysApex['UI']['HideWait'](),TriSysApex['UI']['errorAlert']('ctrlEducationHistory.Save:\x20'+status+':\x20'+error+'.\x20responseText:\x20'+request['responseText']);},TriSysApex['UI']['ShowWait'](null,'Saving\x20Education\x20History...'),TriSysAPI['Data']['PostToWebAPI'](payloadObject);},'PostSaveEvent':function(lContactEducationHistoryId){var sGrid='contactForm-EducationHistoryGrid';TriSysSDK['Grid']['ClearCheckedRows'](sGrid),TriSysSDK['Grid']['RefreshData'](sGrid),TriSysApex['UI']['CloseModalPopup']();}};$(document)['ready'](function(){ctrlEducationHistory['Load']();});