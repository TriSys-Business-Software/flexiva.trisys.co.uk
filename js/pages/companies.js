var CompanyLookupForm={'Load':function(){var hideMenuItemPrefixes=['file-menu-pre-save-divider','file-menu-save-items','file-menu-pre-close-divider','file-menu-close-items'];TriSysSDK['FormMenus']['DrawGridMenu']('companyGridMenu','divCompanyGrid');var sCallbackFunction='CompanyLookupForm.ActionInvocation';TriSysActions['Menus']['Draw']('companyActionsMenu','Company',sCallbackFunction),TriSysSDK['SearchCriteria']['Load']('Company',0x0,'company-lookup-criteria',CompanyLookupForm['InvokeLookupFromCriteria']);},'InvokeLookupFromCriteria':function(sEntityName,lRecordId,sJson,dynamicColumns){var sGrid='divCompanyGrid';if(!TriSysApex['Constants']['AllowEmptySearchCriteria'])TriSysSDK['Grid']['Clear'](sGrid);if(!TriSysApex['Constants']['AllowEmptySearchCriteria']&&!sJson)return;if(!TriSysApex['Constants']['AllowEmptySearchCriteria']&&!ctrlSearchCriteria['isValidJsonRules'](sJson)){var sMessage='Please\x20supply\x20'+sEntityName+'\x20search\x20criteria.';TriSysApex['UI']['ShowMessage'](sMessage);return;}var fnPopulationByFunction={'API':'Companies/List','Parameters':function(request){request['SearchTreeEnabled']=!![],request['SearchTreeJson']=sJson,request['ColumnNames']=TriSysSDK['Grid']['Custom']['DisplayColumnNames'](sGrid);},'DataTableFunction':function(response){return response['List'];}},options={'DynamicColumns':dynamicColumns,'SelectedRowsCounterId':'companies-form-grid-selected-counter','Json':sJson};TriSysWeb['Pages']['Companies']['PopulateGrid'](sGrid,'grdCompanies','Companies',fnPopulationByFunction,null,options);},'ActionInvocation':function(sEntityName){var companyIds=TriSysSDK['Grid']['GetSelectedMultipleRowsFromGrid']('divCompanyGrid','Company_CompanyId');return companyIds;},'FileMenuCallback':function(sFileMenuID){var fm=TriSysSDK['FormMenus']['Constants'],sGrid='divCompanyGrid',sKeyField='Company_CompanyId',sWhat='company';switch(sFileMenuID){case fm['File_New']:TriSysApex['Pages']['CompanyForm']['NewRecord']();break;case fm['File_Open']:var lCompanyId=TriSysSDK['Grid']['GetSelectedSingletonRowRecordIdFromGrid'](sGrid,sKeyField,sWhat);if(lCompanyId>0x0)TriSysApex['FormsManager']['OpenForm']('Company',lCompanyId);break;case fm['File_Delete']:var lCompanyId=TriSysSDK['Grid']['GetSelectedSingletonRowRecordIdFromGrid'](sGrid,sKeyField,sWhat);if(lCompanyId>0x0){var sCompanyName=TriSysSDK['Grid']['GetSelectedSingletonRowFieldValueFromGrid'](sGrid,'Company_Name'),fnCallback=function(){TriSysSDK['Grid']['RefreshData'](sGrid);};TriSysApex['Pages']['CompanyForm']['DeleteRecord'](lCompanyId,sCompanyName,fnCallback);}break;}}};$(document)['ready'](function(){CompanyLookupForm['Load']();});