var PlacementLookupForm={'Load':function(){var hideMenuItemPrefixes=['file-menu-pre-save-divider','file-menu-save-items','file-menu-pre-close-divider','file-menu-close-items'];TriSysSDK['FormMenus']['DrawGridMenu']('placementsGridMenu','divPlacementGrid');var sCallbackFunction='PlacementLookupForm.ActionInvocation';TriSysActions['Menus']['Draw']('placementsActionsMenu','Placement',sCallbackFunction),TriSysSDK['SearchCriteria']['Load']('Placement',0x0,'placement-lookup-criteria',PlacementLookupForm['InvokeLookupFromCriteria']);},'InvokeLookupFromCriteria':function(sEntityName,lRecordId,sJson,dynamicColumns){var sGrid='divPlacementGrid';if(!TriSysApex['Constants']['AllowEmptySearchCriteria'])TriSysSDK['Grid']['Clear'](sGrid);if(!TriSysApex['Constants']['AllowEmptySearchCriteria']&&!sJson)return;if(!TriSysApex['Constants']['AllowEmptySearchCriteria']&&!ctrlSearchCriteria['isValidJsonRules'](sJson)){var sMessage='Please\x20supply\x20'+sEntityName+'\x20search\x20criteria.';TriSysApex['UI']['ShowMessage'](sMessage);return;}var fnPopulationByFunction={'API':'Placements/List','Parameters':function(request){request['SearchTreeEnabled']=!![],request['SearchTreeJson']=sJson,request['ColumnNames']=TriSysSDK['Grid']['Custom']['DisplayColumnNames'](sGrid);},'DataTableFunction':function(response){return response['List'];}},options={'DynamicColumns':dynamicColumns,'SelectedRowsCounterId':'placements-form-grid-selected-counter'};TriSysWeb['Pages']['Placements']['PopulateGrid'](sGrid,'grdPlacements','Placements',fnPopulationByFunction,options);},'ActionInvocation':function(sEntityName){var placementIds=TriSysSDK['Grid']['GetSelectedMultipleRowsFromGrid']('divPlacementGrid','Placement_PlacementId');return placementIds;},'FileMenuCallback':function(sFileMenuID){var fm=TriSysSDK['FormMenus']['Constants'],sGrid='divPlacementGrid',sKeyField='Placement_PlacementId',sWhat='placement';switch(sFileMenuID){case fm['File_New']:TriSysApex['Pages']['PlacementForm']['NewRecord']();break;case fm['File_Open']:var lPlacementId=TriSysSDK['Grid']['GetSelectedSingletonRowRecordIdFromGrid'](sGrid,sKeyField,sWhat);if(lPlacementId>0x0)TriSysApex['FormsManager']['OpenForm']('Placement',lPlacementId);break;case fm['File_Delete']:var lPlacementId=TriSysSDK['Grid']['GetSelectedSingletonRowRecordIdFromGrid'](sGrid,sKeyField,sWhat);if(lPlacementId>0x0){var sReference=TriSysSDK['Grid']['GetSelectedSingletonRowFieldValueFromGrid'](sGrid,'Placement_Reference'),sCompany=TriSysSDK['Grid']['GetSelectedSingletonRowFieldValueFromGrid'](sGrid,'PlacementCompany_Name'),sCandidate=TriSysSDK['Grid']['GetSelectedSingletonRowFieldValueFromGrid'](sGrid,'CandidateContact_FullName'),sJobTitle=TriSysSDK['Grid']['GetSelectedSingletonRowFieldValueFromGrid'](sGrid,'Placement_JobTitle'),fnAfterDelete=function(){TriSysSDK['Grid']['RefreshData'](sGrid);};TriSysApex['Pages']['PlacementForm']['DeleteRecord'](lPlacementId,sReference,sCompany,sCandidate,sJobTitle,fnAfterDelete);}break;}}};$(document)['ready'](function(){PlacementLookupForm['Load']();});