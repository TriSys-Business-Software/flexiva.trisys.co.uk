var RequirementLookupForm={'Load':function(){var hideMenuItemPrefixes=['file-menu-pre-save-divider','file-menu-save-items','file-menu-pre-close-divider','file-menu-close-items'];TriSysSDK['FormMenus']['DrawGridMenu']('requirementsGridMenu','divRequirementGrid');var sCallbackFunction='RequirementLookupForm.ActionInvocation';TriSysActions['Menus']['Draw']('requirementsActionsMenu','Requirement',sCallbackFunction),TriSysSDK['SearchCriteria']['Load']('Requirement',0x0,'requirement-lookup-criteria',RequirementLookupForm['InvokeLookupFromCriteria']);},'InvokeLookupFromCriteria':function(sEntityName,lRecordId,sJson,dynamicColumns){var sGrid='divRequirementGrid';if(!TriSysApex['Constants']['AllowEmptySearchCriteria'])TriSysSDK['Grid']['Clear'](sGrid);if(!TriSysApex['Constants']['AllowEmptySearchCriteria']&&!sJson)return;if(!TriSysApex['Constants']['AllowEmptySearchCriteria']&&!ctrlSearchCriteria['isValidJsonRules'](sJson)){var sMessage='Please\x20supply\x20'+sEntityName+'\x20search\x20criteria.';TriSysApex['UI']['ShowMessage'](sMessage);return;}var fnPopulationByFunction={'API':'Requirements/List','Parameters':function(request){request['SearchTreeEnabled']=!![],request['SearchTreeJson']=sJson,request['ColumnNames']=TriSysSDK['Grid']['Custom']['DisplayColumnNames'](sGrid);},'DataTableFunction':function(response){return response['List'];}},options={'DynamicColumns':dynamicColumns,'SelectedRowsCounterId':'requirements-form-grid-selected-counter'};TriSysWeb['Pages']['Requirements']['PopulateGrid'](sGrid,'grdRequirements','Requirements',fnPopulationByFunction,options);},'ActionInvocation':function(sEntityName){var requirementIds=TriSysSDK['Grid']['GetSelectedMultipleRowsFromGrid']('divRequirementGrid','Requirement_RequirementId');return requirementIds;},'FileMenuCallback':function(sFileMenuID){var fm=TriSysSDK['FormMenus']['Constants'],sGrid='divRequirementGrid',sKeyField='Requirement_RequirementId',sWhat='requirement';switch(sFileMenuID){case fm['File_New']:TriSysApex['Pages']['RequirementForm']['NewRecord']();break;case fm['File_Open']:var lRequirementId=TriSysSDK['Grid']['GetSelectedSingletonRowRecordIdFromGrid'](sGrid,sKeyField,sWhat);if(lRequirementId>0x0)TriSysApex['FormsManager']['OpenForm']('Requirement',lRequirementId);break;case fm['File_Delete']:var lRequirementId=TriSysSDK['Grid']['GetSelectedSingletonRowRecordIdFromGrid'](sGrid,sKeyField,sWhat);if(lRequirementId>0x0){var sReference=TriSysSDK['Grid']['GetSelectedSingletonRowFieldValueFromGrid'](sGrid,'Requirement_RequirementReference'),sCompany=TriSysSDK['Grid']['GetSelectedSingletonRowFieldValueFromGrid'](sGrid,'RequirementCompany_Name'),sJobTitle=TriSysSDK['Grid']['GetSelectedSingletonRowFieldValueFromGrid'](sGrid,'Requirement_JobTitle'),fnAfterDelete=function(){TriSysSDK['Grid']['RefreshData'](sGrid);};TriSysApex['Pages']['RequirementForm']['DeleteRecord'](lRequirementId,sReference,sCompany,sJobTitle,fnAfterDelete);}break;}}};$(document)['ready'](function(){RequirementLookupForm['Load']();});