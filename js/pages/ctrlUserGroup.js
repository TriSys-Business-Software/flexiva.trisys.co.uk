var ctrlUserGroup={'Load':function(){if(AdminConsole['EditingUserGroupId']>0x0){var group=TriSysApex['Cache']['UserGroupManager']['GroupFromId'](AdminConsole['EditingUserGroupId']);if(group){$('#user-group-name')['val'](group['Name']),$('#user-group-description')['val'](group['Description']);if(AdminConsole['EditingUserGroupId']==0x1)$('#user-group-name')['attr']('readonly','readonly');}}},'SaveButtonClick':function(){var group={'UserGroupId':AdminConsole['EditingUserGroupId']};group['Name']=$('#user-group-name')['val'](),group['Description']=$('#user-group-description')['val']();var sError=null;if(!group['Name']||!group['Description'])sError='Please\x20enter\x20a\x20group\x20name\x20and\x20description.';else{if(TriSysApex['Cache']['UserGroupManager']['isDuplicate'](group))sError='Group\x20name:\x20'+group['Name']+'\x20already\x20exists.';}if(sError){TriSysApex['UI']['ShowMessage'](sError);return;}ctrlUserGroup['SubmitToAPI'](group);},'SubmitToAPI':function(group){var CUpdateUserGroupRequest={'Group':group},payloadObject={};payloadObject['URL']='UserGroup/Update',payloadObject['OutboundDataPacket']=CUpdateUserGroupRequest,payloadObject['InboundDataFunction']=function(CUpdateUserGroupResponse){TriSysApex['UI']['HideWait']();if(CUpdateUserGroupResponse){if(CUpdateUserGroupResponse['Success']){TriSysApex['Cache']['cachedStandingDataInMemory']['UserGroups']=CUpdateUserGroupResponse['UserGroups'],AdminConsole['PopulateGroupTree'](),TriSysApex['UI']['CloseModalPopup']();return;}else TriSysApex['UI']['ShowMessage'](CUpdateUserGroupResponse['ErrorMessage']);}},payloadObject['ErrorHandlerFunction']=function(request,status,error){TriSysApex['UI']['HideWait'](),TriSysApex['UI']['errorAlert']('ctrlUserGroup.SubmitToAPI:\x20'+status+':\x20'+error+'.\x20responseText:\x20'+request['responseText']);},TriSysApex['UI']['ShowWait'](null,'Saving\x20Group...'),TriSysAPI['Data']['PostToWebAPI'](payloadObject);}};$(document)['ready'](function(){ctrlUserGroup['Load']();});