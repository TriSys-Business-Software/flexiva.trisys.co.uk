var TriSysExtension={'Load':function(){TriSysLoad['ApexFramework']['LoadDynamically'](function(){TriSysExtension['InitialiseMessageReceiver']();var dt=new Date()['toLocaleDateString']()+'\x20['+new Date()['getSeconds']()+'.'+new Date()['getMilliseconds']()+']';$('#trisys-contact')['html']('Instantiated\x20'+dt);});},'InitialiseMessageReceiver':function(){var messageEle=document['getElementById']('trisys-message');function receiveMessage(e){if(!e['origin'])return;if(e['origin']['indexOf']('trisys.co.uk')<0x0&&e['origin']['indexOf']('linkedin')<0x0&&e['origin']['indexOf']('google')<0x0)return;var extensionObject=e['data'];if(!extensionObject)return;else{if(extensionObject['Type']==TriSysApex['InterprocessCommunication']['MessageType_TriSysToBrowser']){}else{if(extensionObject['Type']==TriSysApex['InterprocessCommunication']['MessageType_ExtensionToTriSys']){if(extensionObject['Instruction']==TriSysApex['InterprocessCommunication']['NoApexTabFound'])console['log']('Apex\x20not\x20found:\x20TODO\x20-\x20sign\x20up\x20or\x20launch...');}else{TriSysExtension['ProcessReceivedMessage'](extensionObject);var sURL=extensionObject['URL'];messageEle['innerHTML']='Message\x20Received:\x20'+sURL,console['log'](sURL);}}}}window['addEventListener']('message',receiveMessage);},'ProcessReceivedMessage':function(extensionObject){var lookupObject={};switch(extensionObject['Type']){case TriSysApex['InterprocessCommunication']['MessageType_LinkedInToTriSys']:lookupObject['LinkedIn']=extensionObject;break;case TriSysApex['InterprocessCommunication']['MessageType_GMailToTriSys']:lookupObject['GMail']=extensionObject;break;default:return;}TriSysExtension['ReadEntityDetailsFromApex'](lookupObject);},'ReadEntityDetailsFromApex':function(lookupObject){var sContactName='',sJobTitle='',sCompany='',sImage=null;if(lookupObject['LinkedIn']){sContactName=lookupObject['LinkedIn']['FullName'],sJobTitle=lookupObject['LinkedIn']['JobTitle'],sCompany=lookupObject['LinkedIn']['Company'],sImage=lookupObject['LinkedIn']['Photo'];var sAt='\x20at\x20',iAtIndex=-0x1;if(sJobTitle)iAtIndex=sJobTitle['indexOf'](sAt);(!sCompany||iAtIndex>0x0)&&(iAtIndex>0x0&&(sCompany=sJobTitle['substring'](iAtIndex+sAt['length']),sJobTitle=sJobTitle['substring'](0x0,iAtIndex)));if(!sImage)sImage=TriSysApex['Constants']['DefaultContactGreyImage'];}else{if(lookupObject['GMail']){}}$('#contact-name')['html'](sContactName),$('#contact-jobtitle')['html'](sJobTitle),$('#company-name')['html'](sCompany),$('#contact-photo')['attr']('src',sImage);},'OpenContactForm':function(){TriSysApex['InterprocessCommunication']['ClientOpenForm']('Contact',0xc6ce),TriSysExtension['FocusOnApexBrowserTab']();},'OpenCompanyForm':function(){TriSysApex['InterprocessCommunication']['ClientOpenForm']('Company',0x1),TriSysExtension['FocusOnApexBrowserTab']();},'ShowTopRegion':function(){var extensionObject={'Type':TriSysApex['InterprocessCommunication']['MessageType_TriSysToBrowser'],'Instruction':TriSysApex['InterprocessCommunication']['ShowBrowserTopRegion']};parent['postMessage'](extensionObject,'*');},'HideTopRegion':function(){var extensionObject={'Type':TriSysApex['InterprocessCommunication']['MessageType_TriSysToBrowser'],'Instruction':TriSysApex['InterprocessCommunication']['HideBrowserTopRegion']};parent['postMessage'](extensionObject,'*');},'ClosePopupWindow':function(){var extensionObject={'Type':TriSysApex['InterprocessCommunication']['MessageType_TriSysToBrowser'],'Instruction':TriSysApex['InterprocessCommunication']['CloseBrowserPopupWindow']};parent['postMessage'](extensionObject,'*');},'FocusOnApexBrowserTab':function(){var extensionObject={'Type':TriSysApex['InterprocessCommunication']['MessageType_TriSysToBrowser'],'Instruction':TriSysApex['InterprocessCommunication']['ActivateApexTab']};parent['postMessage'](extensionObject,'*');},'ReParsePage':function(){var extensionObject={'Type':TriSysApex['InterprocessCommunication']['MessageType_TriSysToBrowser'],'Instruction':TriSysApex['InterprocessCommunication']['ReParsePage']};parent['postMessage'](extensionObject,'*');}};$(document)['ready'](function(){TriSysExtension['Load']();});