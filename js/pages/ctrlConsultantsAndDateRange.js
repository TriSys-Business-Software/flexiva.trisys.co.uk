var ctrlConsultantsAndDateRange={'Load':function(sParentID,parameters,fnCallback){var sRoot='ctrlConsultantsAndDateRange-Root';TriSysSDK['Controls']['General']['RenameElementIdsWithParentIdPrefixOrSuffix'](sRoot,sParentID,!![]);var sPrefix=sParentID+'-';$('#'+sRoot)['attr']('id',sPrefix+sRoot),sRoot=sPrefix+sRoot;var bPhone=TriSysApex['Device']['isPhone']();if(bPhone)ctrlConsultantsAndDateRange['PhoneTweaks'](sPrefix);var sUserListID=sPrefix+'user-list',sDateRangeID=sPrefix+'date-period-drop-down',sBlockID=sPrefix+'consultant-block',sConsultantLabelID=sPrefix+'consultant-label',lBlockWidth=$('#'+sBlockID)['width'](),lLabelWidth=$('#'+sConsultantLabelID)['width'](),lLabelLeft=$('#'+sConsultantLabelID)['position']()['left'],lListLeft=$('#'+sUserListID)['position']()['left'],lUserListWidth=lBlockWidth-lListLeft-0xa;$('#'+sUserListID)['width'](lUserListWidth);var fnChangeUsers=function(){ctrlConsultantsAndDateRange['CallbackOrchestrator'](sUserListID,sDateRangeID,fnCallback);};TriSysSDK['CShowForm']['MultiUserCombo'](sUserListID,fnChangeUsers);var dtStart=null,dtEnd=null;if(parameters)TriSysSDK['CShowForm']['SetValuesArrayInList'](sUserListID,parameters['UserNames']),dtStart=parameters['StartDate'],dtEnd=parameters['EndDate'];else{var userCredentials=TriSysApex['LoginCredentials']['UserCredentials'](),sUserName=userCredentials['LoggedInUser']['ForenameAndSurname'];TriSysSDK['CShowForm']['SetSkillsInList'](sUserListID,sUserName);}var fnEvent=function(dtStart,dtEnd){ctrlConsultantsAndDateRange['CallbackOrchestrator'](sUserListID,sDateRangeID,fnCallback);};TriSysSDK['DatePeriodDropDown']['Load'](sPrefix+'date-period-drop-down',dtStart,dtEnd,fnEvent);},'CallbackOrchestrator':function(sUserListID,sDateRangeID,fnCallback){var userNameArray=TriSysSDK['CShowForm']['GetSelectedSkillsFromListAsArray'](sUserListID),dtStart=TriSysSDK['DatePeriodDropDown']['GetStartDate'](sDateRangeID),dtEnd=TriSysSDK['DatePeriodDropDown']['GetEndDate'](sDateRangeID);fnCallback(userNameArray,dtStart,dtEnd);},'RequestParameters':function(sParentID,fnCallback){var sPrefix=sParentID+'-',sUserListID=sPrefix+'user-list',sDateRangeID=sPrefix+'date-period-drop-down';ctrlConsultantsAndDateRange['CallbackOrchestrator'](sUserListID,sDateRangeID,fnCallback);},'PhoneTweaks':function(sPrefix){$('#'+sPrefix+'consultant-block')['removeClass']()['addClass']('col-sm-12'),$('#'+sPrefix+'date-range-block')['removeClass']()['addClass']('col-sm-12'),$('#'+sPrefix+'date-range-label')['css']('margin-left','0px'),$('#'+sPrefix+'date-range-block-separator')['show']();}};