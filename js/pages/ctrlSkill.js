var ctrlSkill={'Load':function(){if(AdminConsole['SelectedSkillCategoryId']>0x0){var skillCategory=TriSysApex['Cache']['SkillCategoriesManager']['CategoryFromId'](AdminConsole['SelectedSkillCategoryId']);if(skillCategory){$('#skill-category')['val'](skillCategory['Category']);if(AdminConsole['EditingSkillId']>0x0){var skill=TriSysApex['Cache']['SkillManager']['SkillFromId'](AdminConsole['EditingSkillId']);skill&&($('#skill-name')['val'](skill['Skill']),$('#skill-description')['val'](skill['Description']),TriSysSDK['CShowForm']['SetCheckBoxValue']('skill-locked',skill['Locked']));}}}$('#skill-name')['focus']();},'SaveButtonClick':function(){var skill={'SkillId':AdminConsole['EditingSkillId'],'SkillCategoryId':AdminConsole['SelectedSkillCategoryId']};if(skill['Locked']){TriSysApex['UI']['ShowMessage']('Attribute\x20is\x20locked.');return;}skill['Skill']=$('#skill-name')['val'](),skill['Description']=$('#skill-description')['val'](),skill['Locked']=TriSysSDK['CShowForm']['CheckBoxValue']('skill-locked');var sError=null;if(!skill['Skill'])sError='Please\x20enter\x20an\x20attribute\x20name.';else{if(TriSysApex['Cache']['SkillManager']['isDuplicate'](skill))sError='Attribute:\x20'+skill['Skill']+'\x20already\x20exists.';}if(sError){TriSysApex['UI']['ShowMessage'](sError);return;}if(!skill['Description'])skill['Description']=skill['Skill'];ctrlSkill['SubmitToAPI'](skill);},'SubmitToAPI':function(skill){var CUpdateSkillRequest={'Skill':skill},payloadObject={};payloadObject['URL']='Skills/Update',payloadObject['OutboundDataPacket']=CUpdateSkillRequest,payloadObject['InboundDataFunction']=function(CUpdateSkillResponse){TriSysApex['UI']['HideWait']();if(CUpdateSkillResponse){if(CUpdateSkillResponse['Success']){TriSysApex['Cache']['cachedStandingDataInMemory']['Skills']=CUpdateSkillResponse['Skills'],AdminConsole['PopulateSkillGrid'](AdminConsole['SelectedSkillCategory']),TriSysApex['UI']['CloseModalPopup']();return;}else TriSysApex['UI']['ShowMessage'](CUpdateSkillResponse['ErrorMessage']);}},payloadObject['ErrorHandlerFunction']=function(request,status,error){TriSysApex['UI']['HideWait'](),TriSysApex['UI']['errorAlert']('ctrlSkill.SubmitToAPI:\x20'+status+':\x20'+error+'.\x20responseText:\x20'+request['responseText']);},TriSysApex['UI']['ShowWait'](null,'Saving\x20Attribute...'),TriSysAPI['Data']['PostToWebAPI'](payloadObject);}};$(document)['ready'](function(){ctrlSkill['Load']();});