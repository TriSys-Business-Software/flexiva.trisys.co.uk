var ctrlSnooze={'SnoozeDateTimeID':'snooze-DateTime','SnoozeDateTimeColumn':'snooze-DateTime-column','SnoozePickID':'snooze-pick','SnoozePeriods':[{'ID':'1-minute','Label':'1\x20Minute','Minutes':0x1,'Weeks':0x0,'Months':0x0},{'ID':'5-minutes','Label':'5\x20Minutes','Minutes':0x5,'Weeks':0x0,'Months':0x0,'Selected':!![]},{'ID':'10-minutes','Label':'10\x20Minutes','Minutes':0xa,'Weeks':0x0,'Months':0x0},{'ID':'15-minutes','Label':'15\x20Minutes','Minutes':0xf,'Weeks':0x0,'Months':0x0},{'ID':'30-minutes','Label':'30\x20Minutes','Minutes':0x1e,'Weeks':0x0,'Months':0x0},{'ID':'1-hour','Label':'1\x20Hour','Minutes':0x3c,'Weeks':0x0,'Months':0x0},{'ID':'2-hours','Label':'2\x20Hours','Minutes':0x78,'Weeks':0x0,'Months':0x0},{'ID':'5-hours','Label':'5\x20Hours','Minutes':0x12c,'Weeks':0x0,'Months':0x0},{'ID':'24-hours','Label':'24\x20Hours','Minutes':0x5a0,'Weeks':0x0,'Months':0x0},{'ID':'1-week','Label':'1\x20Week','Minutes':0x0,'Weeks':0x1,'Months':0x0},{'ID':'1-month','Label':'1\x20Month','Minutes':0x0,'Weeks':0x0,'Months':0x1},{'ID':'pick','Label':'Pick\x20Date/Time','Minutes':0x0,'Weeks':0x0,'Months':0x0}],'Load':function(){TriSysSDK['CShowForm']['dateTimePicker'](ctrlSnooze['SnoozeDateTimeID']);var dtFollowUp=TriSysActions['FollowUp']['FollowUpDateTomorrow']();TriSysSDK['CShowForm']['setDateTimePickerValue'](ctrlSnooze['SnoozeDateTimeID'],dtFollowUp);for(var i=0x0;i<ctrlSnooze['SnoozePeriods']['length'];i++){var period=ctrlSnooze['SnoozePeriods'][i],sID='snooze-'+period['ID'];$('#'+sID)['kendoRadioButton']({'checked':period['Selected'],'label':'\x20\x20'+period['Label'],'size':'large'}),$('#'+sID)['on']('click',function(e){var sClickedID=e['target']['id'];if(sClickedID==ctrlSnooze['SnoozePickID'])$('#'+ctrlSnooze['SnoozeDateTimeColumn'])['show']();else $('#'+ctrlSnooze['SnoozeDateTimeColumn'])['hide']();ctrlSnooze['SetSelectedPeriod'](sClickedID);});}},'PreventRecursion':![],'SetSelectedPeriod':function(sClickedID){for(var i=0x0;i<ctrlSnooze['SnoozePeriods']['length'];i++){var period=ctrlSnooze['SnoozePeriods'][i];period['Selected']='snooze-'+period['ID']==sClickedID?!![]:![];}},'GetSelectedPeriod':function(){for(var i=0x0;i<ctrlSnooze['SnoozePeriods']['length'];i++){var period=ctrlSnooze['SnoozePeriods'][i];if(period['Selected'])return period;}},'OKButtonClick':function(){var period=ctrlSnooze['GetSelectedPeriod']();if(period){var dtFollowUp=null;if(period['ID']=='pick'){dtFollowUp=TriSysSDK['CShowForm']['getDateTimePickerValue'](ctrlSnooze['SnoozeDateTimeID']);if(!dtFollowUp)return TriSysApex['UI']['ShowMessage']('Please\x20choose\x20a\x20valid\x20date/time.'),![];}return ctrlSnooze['SendSnoozeToWebAPI'](period,dtFollowUp),!![];}return![];},'SendSnoozeToWebAPI':function(period,dtAlarm){var CSnoozeRequest={'TaskId':TriSysApex['Alarms']['Snooze']['TaskIdArray'],'Minutes':period['Minutes'],'Weeks':period['Weeks'],'Months':period['Months'],'AlarmDateTime':dtAlarm},payloadObject={};payloadObject['URL']='Task/Snooze',payloadObject['OutboundDataPacket']=CSnoozeRequest,payloadObject['InboundDataFunction']=function(CSnoozeResponse){TriSysApex['UI']['HideWait']();if(CSnoozeResponse){if(CSnoozeResponse['Success'])return;else TriSysApex['UI']['ShowMessage'](CSnoozeResponse['ErrorMessage']);}},payloadObject['ErrorHandlerFunction']=function(request,status,error){TriSysApex['UI']['HideWait'](),TriSysApex['UI']['ShowMessage']('ctrlSnooze.SendSnoozeToWebAPI:\x20'+status+':\x20'+error+'.\x20responseText:\x20'+request['responseText']);},TriSysApex['UI']['ShowWait'](null,'Snoozing...'),TriSysAPI['Data']['PostToWebAPI'](payloadObject);}};$(document)['ready'](function(){ctrlSnooze['Load']();});