var ctrlProvisioningProgress={'Load':function(sGUID,ConfirmCustomerRegistrationResponse){ctrlProvisioningProgress['PeriodicallyCheckForCompletion'](sGUID);},'PeriodicallyCheckForCompletion':function(sGUID){setTimeout(function(){ctrlProvisioningProgress['MonitorProvisioning'](sGUID);},0x3a98);},'MonitorProvisioning':function(sGUID){var payloadObject={},CProvisioningStatusRequest={'GUID':sGUID};payloadObject['URL']='PaymentGateway/ProvisioningStatus',payloadObject['OutboundDataPacket']=CProvisioningStatusRequest,payloadObject['InboundDataFunction']=function(CProvisioningStatusResponse){if(CProvisioningStatusResponse){var bSuccess=CProvisioningStatusResponse['Success'];if(bSuccess){var bProvisioned=CProvisioningStatusResponse['Provisioned'];bProvisioned?ctrlProvisioningProgress['CompletedProvisioning'](CProvisioningStatusResponse):ctrlProvisioningProgress['PeriodicallyCheckForCompletion'](sGUID);}else TriSysApex['UI']['ShowMessage'](CProvisioningStatusResponse['ErrorMessage']);}},payloadObject['ErrorHandlerFunction']=function(request,status,error){TriSysApex['UI']['errorAlert']('ctrlProvisioningProgress.MonitorProvisioning:\x20'+status+':\x20'+error+'.\x20responseText:\x20'+request['responseText']);},TriSysAPI['Data']['PostToWebAPI'](payloadObject);},'CompletedProvisioning':function(CProvisioningStatusResponse){$('#provisioning-progress-begin')['hide'](),$('#provisioning-progress-completed')['show'](),TriSysApex['UI']['CloseModalPopup']();var sURL='https://resourcer.trisys.co.uk/#supportlogin~'+CProvisioningStatusResponse['Base64SupportCredentials'];setTimeout(function(){window['location']['replace'](sURL),loginPage['Load']();},0xa);}};