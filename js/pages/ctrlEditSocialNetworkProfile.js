var ctrlEditSocialNetworkProfile={'Load':function(){TriSysSDK['SocialNetworks']['GetContactProfiles'](ctrlSocialNetworkPanel['ModalDialogue']['ContactId'],ctrlEditSocialNetworkProfile['DisplayThisProfile']);},'DisplayThisProfile':function(profiles){if(!profiles)return;for(var i=0x0;i<profiles['length'];i++){var profile=profiles[i];if(profile['ProfileNumber']==ctrlSocialNetworkPanel['ModalDialogue']['SocialNetwork']){var sPrefix='#edit-social-network-profile-';$(sPrefix+'url')['val'](profile['URL']),$(sPrefix+'photo')['val'](profile['PhotoImage']),$(sPrefix+'fullname')['val'](profile['ContactName']),$(sPrefix+'jobtitle')['val'](profile['JobTitle']),$(sPrefix+'company')['val'](profile['CompanyName']),$(sPrefix+'summary')['val'](profile['Summary']);}}},'SaveButtonClick':function(){var profile={'ContactId':ctrlSocialNetworkPanel['ModalDialogue']['ContactId'],'ProfileNumber':ctrlSocialNetworkPanel['ModalDialogue']['SocialNetwork']},sPrefix='#edit-social-network-profile-';profile['URL']=$(sPrefix+'url')['val'](),profile['PhotoImage']=$(sPrefix+'photo')['val'](),profile['ContactName']=$(sPrefix+'fullname')['val'](),profile['JobTitle']=$(sPrefix+'jobtitle')['val'](),profile['CompanyName']=$(sPrefix+'company')['val'](),profile['Summary']=$(sPrefix+'summary')['val']();var bValidInput=profile['URL'];if(!bValidInput){TriSysApex['UI']['ShowMessage']('Please\x20copy\x20the\x20social\x20network\x20URL.');return;}ctrlEditSocialNetworkProfile['SubmitProfile'](profile);},'SubmitProfile':function(profile){var CSocialNetworkProfileWriteRequest={'Profile':profile},payloadObject={};payloadObject['URL']='SocialNetwork/Write',payloadObject['OutboundDataPacket']=CSocialNetworkProfileWriteRequest,payloadObject['Asynchronous']=!![],payloadObject['InboundDataFunction']=function(data){TriSysApex['UI']['HideWait']();if(data){var CSocialNetworkProfileWriteResponse=data;if(CSocialNetworkProfileWriteResponse['Success'])ctrlEditSocialNetworkProfile['AfterSubmission'](CSocialNetworkProfileWriteResponse['Profile']);}},TriSysApex['UI']['ShowWait'](null,'Saving\x20Profile...'),TriSysAPI['Data']['PostToWebAPI'](payloadObject);},'AfterSubmission':function(profile){TriSysApex['UI']['CloseModalPopup'](),ctrlSocialNetworkPanel['DisplayProfile'](profile,ctrlSocialNetworkPanel['ModalDialogue']['ProfileDivID']);}};$(document)['ready'](function(){ctrlEditSocialNetworkProfile['Load']();});