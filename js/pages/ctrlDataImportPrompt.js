var ctrlDataImportPrompt={'Load':function(lRecordCount,sEntityName){var sMessage='Are\x20you\x20sure\x20that\x20you\x20wish\x20to\x20proceed\x20with\x20importing\x20this\x20'+sEntityName+'\x20data\x20into\x20your\x20database?';$('#dataimportprompt-question')['html'](sMessage),TriSysSDK['CShowForm']['entityTypeCombo'](sEntityName,'dataimportprompt-EntityType',null);var userCredentials=TriSysApex['LoginCredentials']['UserCredentials'](),sName=userCredentials['LoggedInUser']['ForenameAndSurname'],sComments='Imported\x20by\x20'+sName+'\x20on\x20'+moment()['format']('dddd\x20DD\x20MMMM\x20YYYY');$('#dataimportprompt-comments')['text'](sComments);var sourceTypes=null;if(sEntityName=='Contact')sourceTypes=ctrlDataImportPrompt['GetSourceList']('ContactSource'),TriSysSDK['CShowForm']['populateComboFromDataSource']('dataimportprompt-Source',sourceTypes,0x0);else sEntityName=='Company'&&(sourceTypes=ctrlDataImportPrompt['GetSourceList']('Source'),TriSysSDK['CShowForm']['populateComboFromDataSource']('dataimportprompt-Source',sourceTypes,0x0));var sourceData=ctrlDataImportPrompt['GetSourceList']('Import');sourceData&&TriSysSDK['CShowForm']['populateMultiSelectComboFromDataSource']('dataimportprompt-ImportSkills',sourceData);},'GetSourceList':function(sCategory){var sourceData=[],skills=TriSysApex['Cache']['SkillManager']['SkillsInCategory'](sCategory);if(skills)return skills['forEach'](function(skill){var sourceStruct={'value':skill['SkillId'],'text':skill['Skill']};sourceData['push'](sourceStruct);}),sourceData;},'ReadOptions':function(){var sEntityType=TriSysSDK['CShowForm']['GetTextFromCombo']('dataimportprompt-EntityType'),sComments=$('#dataimportprompt-comments')['text'](),lstImportSkills=TriSysSDK['CShowForm']['GetSelectedSkillsFromList']('dataimportprompt-ImportSkills',null,!![]),sSource=TriSysSDK['CShowForm']['GetTextFromCombo']('dataimportprompt-Source'),options={'EntityType':sEntityType,'Comments':sComments,'ImportSkills':lstImportSkills,'Source':sSource};return options;}};