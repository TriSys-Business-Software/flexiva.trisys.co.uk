var ctrlSkillCategory={'Load':function(){var bCategoryNameEditable=![];if(AdminConsole['EditingSkillCategoryId']>0x0){var skillCategory=TriSysApex['Cache']['SkillCategoriesManager']['CategoryFromId'](AdminConsole['EditingSkillCategoryId']);if(skillCategory){$('#skill-category-name')['val'](skillCategory['Category']),$('#skill-category-description')['val'](skillCategory['Description']),TriSysSDK['CShowForm']['SetCheckBoxValue']('skill-category-locked',skillCategory['Locked']);if(!skillCategory['Locked'])bCategoryNameEditable=!![];}}else bCategoryNameEditable=!![];bCategoryNameEditable&&($('#skill-category-name')['removeAttr']('readonly'),$('#skill-category-name')['focus']());},'SaveButtonClick':function(fnCallback,options){var skillCategory=null;if(AdminConsole['EditingSkillCategoryId']>0x0)skillCategory=TriSysApex['Cache']['SkillCategoriesManager']['CategoryFromId'](AdminConsole['EditingSkillCategoryId']);else skillCategory={'SkillCategoryId':0x0};if(skillCategory){if(skillCategory['Locked'])return TriSysApex['UI']['ShowMessage']('Category\x20is\x20locked.'),![];skillCategory['Category']=$('#skill-category-name')['val'](),skillCategory['Description']=$('#skill-category-description')['val'](),skillCategory['Locked']=TriSysSDK['CShowForm']['CheckBoxValue']('skill-category-locked');options&&(options['RemoveSpaces']&&(skillCategory['Category']=skillCategory['Category']['replace'](/ /g,''),$('#skill-category-name')['val'](skillCategory['Category'])));if(!skillCategory['Category']||!skillCategory['Description'])return TriSysApex['UI']['ShowMessage']('Please\x20enter\x20a\x20name\x20and\x20description.'),![];var potentialDuplicateSkillCategory=TriSysApex['Cache']['SkillCategoriesManager']['CategoryFromName'](skillCategory['Category']);if(potentialDuplicateSkillCategory&&potentialDuplicateSkillCategory['SkillCategoryId']!=skillCategory['SkillCategoryId'])return TriSysApex['UI']['ShowMessage']('Category\x20name\x20must\x20be\x20unique.'),![];return skillCategory['Category']=ctrlSkillCategory['FilterOutProblematicsCharacters'](skillCategory['Category']),ctrlSkillCategory['SubmitToAPI'](skillCategory,fnCallback),!![];}},'FilterOutProblematicsCharacters':function(sSkillCategory){return sSkillCategory=sSkillCategory['replace'](/'/g,''),sSkillCategory=sSkillCategory['replace'](/&/g,'and'),sSkillCategory=sSkillCategory['replace'](/\+/g,''),sSkillCategory=sSkillCategory['replace'](/%/g,'percent'),sSkillCategory=sSkillCategory['replace'](/"/g,''),sSkillCategory=sSkillCategory['replace'](/\[/g,''),sSkillCategory=sSkillCategory['replace'](/]/g,''),sSkillCategory=sSkillCategory['replace'](/\(/g,''),sSkillCategory=sSkillCategory['replace'](/\)/g,''),sSkillCategory;},'SubmitToAPI':function(skillCategory,fnCallback){var CUpdateSkillCategoryRequest={'SkillCategory':skillCategory},payloadObject={};payloadObject['URL']='SkillCategory/Update',payloadObject['OutboundDataPacket']=CUpdateSkillCategoryRequest,payloadObject['InboundDataFunction']=function(CUpdateSkillCategoryResponse){TriSysApex['UI']['HideWait']();if(CUpdateSkillCategoryResponse){if(CUpdateSkillCategoryResponse['Success']){TriSysApex['Cache']['cachedStandingDataInMemory']['SkillCategories']=CUpdateSkillCategoryResponse['SkillCategories'],AdminConsole['PopulateSkillCategoryGrid']();if(fnCallback)fnCallback(skillCategory);return;}else TriSysApex['UI']['ShowMessage'](CUpdateSkillCategoryResponse['ErrorMessage']);}},payloadObject['ErrorHandlerFunction']=function(request,status,error){TriSysApex['UI']['HideWait'](),TriSysApex['UI']['errorAlert']('ctrlSkillCategory.SubmitToAPI:\x20'+status+':\x20'+error+'.\x20responseText:\x20'+request['responseText']);},TriSysApex['UI']['ShowWait'](null,'Saving\x20Category...'),TriSysAPI['Data']['PostToWebAPI'](payloadObject);}};$(document)['ready'](function(){ctrlSkillCategory['Load']();});