var ctrlSystemSetting={'Load':function(){if(AdminConsole['SystemSettingId']>0x0){var systemSetting=TriSysApex['Cache']['SystemSettingManager']['Get'](AdminConsole['SystemSettingId']);systemSetting&&($('#system-setting-name')['val'](systemSetting['Name']),$('#system-setting-value')['val'](systemSetting['Value']),$('#system-setting-description')['val'](systemSetting['Description']));}},'SaveButtonClick':function(){var systemSetting=TriSysApex['Cache']['SystemSettingManager']['Get'](AdminConsole['SystemSettingId']);if(!systemSetting)systemSetting={};systemSetting['Name']=$('#system-setting-name')['val'](),systemSetting['Value']=$('#system-setting-value')['val'](),systemSetting['Description']=$('#system-setting-description')['val']();var sError=null;if(!systemSetting['Name']||!systemSetting['Value']||!systemSetting['Description'])sError='Please\x20enter\x20name,\x20value\x20and\x20description.';else{if(TriSysApex['Cache']['SystemSettingManager']['isDuplicate'](systemSetting))sError='System\x20setting:\x20'+systemSetting['Name']+'\x20already\x20exists.';}if(sError){TriSysApex['UI']['ShowMessage'](sError);return;}ctrlSystemSetting['SubmitToAPI'](systemSetting);},'SubmitToAPI':function(systemSetting){var CUpdateSystemSettingRequest={'SystemSetting':systemSetting},payloadObject={};payloadObject['URL']='SystemSetting/Update',payloadObject['OutboundDataPacket']=CUpdateSystemSettingRequest,payloadObject['InboundDataFunction']=function(CUpdateSystemSettingResponse){TriSysApex['UI']['HideWait']();if(CUpdateSystemSettingResponse){if(CUpdateSystemSettingResponse['Success']){TriSysApex['Cache']['SystemSettingManager']['Set'](CUpdateSystemSettingResponse['SystemSettings']),AdminConsole['PopulateSystemSettingsGrid'](),TriSysApex['UI']['CloseModalPopup']();return;}else TriSysApex['UI']['ShowMessage'](CUpdateSkillResponse['ErrorMessage']);}},payloadObject['ErrorHandlerFunction']=function(request,status,error){TriSysApex['UI']['HideWait'](),TriSysApex['UI']['errorAlert']('ctrlSystemSetting.SubmitToAPI:\x20'+status+':\x20'+error+'.\x20responseText:\x20'+request['responseText']);},TriSysApex['UI']['ShowWait'](null,'Saving\x20System\x20Setting...'),TriSysAPI['Data']['PostToWebAPI'](payloadObject);},'BigEditValue':function(){var txt=$('#system-setting-value'),sValue=txt['val'](),fnEditedValue=function(sText){return txt['val'](sText),!![];},sSystemSetting=$('#system-setting-name')['val'](),options={'Label':sSystemSetting,'Value':sValue};TriSysApex['ModalDialogue']['BigEdit']['Popup'](sSystemSetting,'gi-pen',fnEditedValue,options);}};$(document)['ready'](function(){ctrlSystemSetting['Load']();});