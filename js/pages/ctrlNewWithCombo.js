var ctrlNewWithCombo={'SaveFunctionCallback':null,'_Options':null,'Load':function(options,fnSubmitCallback){ctrlNewWithCombo['SaveFunctionCallback']=fnSubmitCallback,ctrlNewWithCombo['_Options']=options;if(options){if(options['TextLabel'])$('#ctrlNewWithCombo-TextLabel')['html'](options['TextLabel']);if(options['Value'])$('#ctrlNewWithCombo-Name')['val'](options['Value']);options['Instructions']&&($('#ctrlNewWithCombo-Instructions-tr')['show'](),$('#ctrlNewWithCombo-Instructions')['html'](options['Instructions']));$('#ctrlNewWithCombo-Name')['keyup'](function(e){if(e['keyCode']==0xd){var bSaved=ctrlNewWithCombo['Save']();e['stopPropagation']();}});if(options['ComboLabel'])$('#ctrlNewWithCombo-ComboLabel')['html'](options['ComboLabel']);if(options['ComboList'])TriSysSDK['CShowForm']['populateComboFromListOfString']('ctrlNewWithCombo-Combo',options['ComboList']);if(options['ComboSelectedItem'])TriSysSDK['CShowForm']['SetTextInCombo']('ctrlNewWithCombo-Combo',options['ComboSelectedItem']);options['AdditionalComboList']&&options['AdditionalComboList']['forEach'](function(combo,index){const iRowIndex=index+0x3;$('#ctrlNewWithCombo-Row-'+iRowIndex)['show'](),$('#ctrlNewWithCombo-ComboLabel-Row-'+iRowIndex)['html'](combo['Label']),TriSysSDK['CShowForm']['populateComboFromListOfString']('ctrlNewWithCombo-Combo-Row-'+iRowIndex,combo['List']);});if(options['TextLabelPositionRow']&&options['TextLabelPositionRow']>0x1)for(var iRowIndex=0x1;iRowIndex<options['TextLabelPositionRow'];iRowIndex++){ctrlNewWithCombo['MoveRowDown']('ctrlNewWithCombo-Row-1');}}},'MoveRowDown':function(sID){var row=$('#'+sID);if(row['length']===0x0)return console['error']('Row\x20not\x20found'),![];var nextRow=row['next']('tr');if(nextRow['length']===0x0)return console['error']('Already\x20at\x20the\x20bottom'),![];nextRow['after'](row);},'Save':function(){var sName=$('#ctrlNewWithCombo-Name')['val'](),sComboValue=TriSysSDK['CShowForm']['GetTextFromCombo']('ctrlNewWithCombo-Combo'),bError=![],sField=$('#ctrlNewWithCombo-TextLabel')['html']();if(!sName)bError=TriSysApex['Toasters']['ErrorValidatingField'](sField);if(bError)return![];var lstAdditionalValue=[];ctrlNewWithCombo['_Options']['AdditionalComboList']&&ctrlNewWithCombo['_Options']['AdditionalComboList']['forEach'](function(combo,index){const iRowIndex=index+0x3,sValue=TriSysSDK['CShowForm']['GetTextFromCombo']('ctrlNewWithCombo-Combo-Row-'+iRowIndex);if(sValue)lstAdditionalValue['push'](sValue);});if(ctrlNewWithCombo['SaveFunctionCallback'])return ctrlNewWithCombo['SaveFunctionCallback'](sName,sComboValue,lstAdditionalValue);}};