var ctrlDuration={'NumberID':'ctrlDuration-Number','PeriodID':'ctrlDuration-TimePeriod','Load':function(sPrefix,options){var periods=[{'text':'minutes','value':'minutes'},{'text':'hours','value':'hours'},{'text':'days','value':'days'},{'text':'weeks','value':'weeks'},{'text':'months','value':'months'},{'text':'years','value':'years'}],iDefaultIndex=0x0;if(options){if(options['DefaultPeriod'])switch(options['DefaultPeriod']['replace']('s','')){case'hour':iDefaultIndex=0x1;break;case'day':iDefaultIndex=0x2;break;case'week':iDefaultIndex=0x3;break;case'month':iDefaultIndex=0x4;break;case'year':iDefaultIndex=0x5;break;}}var fnChangePeriod=function(value,sText,sFieldID){options&&(options['OnChangeEventHandler']&&options['OnChangeEventHandler'](sFieldID,ctrlDuration['GetValue'](sPrefix)));};TriSysSDK['CShowForm']['populateComboFromDataSource'](sPrefix+ctrlDuration['PeriodID'],periods,iDefaultIndex,fnChangePeriod);var iDefault=0xf;if(options){if(options['DefaultDurationValue'])iDefault=options['DefaultDurationValue'];}var fieldDescription={'MinValue':0x1,'MaxValue':0x400,'SpinIncrement':0x1,'DefaultValue':iDefault},sFieldID=sPrefix+ctrlDuration['NumberID'];TriSysSDK['Controls']['NumericSpinner']['Initialise'](sFieldID,fieldDescription),TriSysSDK['Controls']['NumericSpinner']['DecimalPlaces'](sFieldID,0x0);if(options){if(options['OnChangeEventHandler']){var fnChangedNumber=function(sID,fValue){options['OnChangeEventHandler'](sID,ctrlDuration['GetValue'](sPrefix));};TriSysApex['FieldEvents']['AddNumberChangeFieldOfInterest'](sFieldID,fnChangedNumber);}}},'SetValue':function(sPrefix,sDuration){if(!sDuration)return;var parts=sDuration['split']('\x20'),fAmount=parseInt(parts[0x0]),sDuration=parts[0x1];TriSysSDK['Controls']['NumericSpinner']['SetValue'](sPrefix+ctrlDuration['NumberID'],fAmount),TriSysSDK['CShowForm']['SetTextInCombo'](sPrefix+ctrlDuration['PeriodID'],sDuration);},'GetValue':function(sPrefix){var fAmount=TriSysSDK['Controls']['NumericSpinner']['GetValue'](sPrefix+ctrlDuration['NumberID']),sDuration=TriSysSDK['CShowForm']['GetTextFromCombo'](sPrefix+ctrlDuration['PeriodID']);return fAmount+'\x20'+sDuration;}};