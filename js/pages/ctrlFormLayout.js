var ctrlFormLayout={'MaximumColumnCount':0xc,'MaximumRowCount':0x20,'Load':function(rows){var iHeightFactor=0x12c,iHeight=$(window)['height']()-iHeightFactor;$('#form-layout-main-block')['css']('height',iHeight+'px'),ctrlFormLayout['Draw'](rows);},'Draw':function(rows){var firstRow=rows[0x0],iColumnCount=firstRow['Columns']['length'],iRowCount=rows['length'],lstColumnWidths=[],lstInnerColumns=[];for(var i=0x0;i<firstRow['Columns']['length'];i++){var col=firstRow['Columns'][i];lstColumnWidths['push'](col['Width']);if(col['Rows']&&col['Rows']['length']>0x0){var innerCols=col['Rows'][0x0]['Columns'];lstInnerColumns['push'](innerCols);}}var sColumnsSpinner='formLayout-Columns',fieldDescription={'MinValue':0x1,'MaxValue':ctrlFormLayout['MaximumColumnCount'],'SpinIncrement':0x1};TriSysSDK['Controls']['NumericSpinner']['Initialise'](sColumnsSpinner,fieldDescription),TriSysApex['FieldEvents']['AddNumberChangeFieldOfInterest'](sColumnsSpinner,ctrlFormLayout['ChangeColumnCount']),TriSysSDK['Controls']['NumericSpinner']['SetValue'](sColumnsSpinner,iColumnCount),TriSysSDK['Controls']['NumericSpinner']['DecimalPlaces'](sColumnsSpinner,0x0);var sRowsSpinner='formLayout-Rows';fieldDescription={'MinValue':0x1,'MaxValue':ctrlFormLayout['MaximumRowCount'],'SpinIncrement':0x1},TriSysSDK['Controls']['NumericSpinner']['Initialise'](sRowsSpinner,fieldDescription),TriSysSDK['Controls']['NumericSpinner']['SetValue'](sRowsSpinner,iRowCount),TriSysSDK['Controls']['NumericSpinner']['DecimalPlaces'](sRowsSpinner,0x0);for(var i=0x1;i<=ctrlFormLayout['MaximumColumnCount'];i++){var sColumnWidthSpinner='formLayout-Column'+i+'Width';fieldDescription={'MinValue':0x1,'MaxValue':ctrlFormLayout['MaximumColumnCount'],'SpinIncrement':0x1},TriSysSDK['Controls']['NumericSpinner']['Initialise'](sColumnWidthSpinner,fieldDescription);var iColumnWidth=0x1;if(i<=lstColumnWidths['length'])iColumnWidth=lstColumnWidths[i-0x1];TriSysSDK['Controls']['NumericSpinner']['SetValue'](sColumnWidthSpinner,iColumnWidth),TriSysSDK['Controls']['NumericSpinner']['DecimalPlaces'](sColumnWidthSpinner,0x0);var iInnerColumnCount=0x1;if(i<=lstInnerColumns['length'])iInnerColumnCount=lstInnerColumns[i-0x1]['length'];var sInnerColumnsSpinner='formLayout-InnerColumns'+i;fieldDescription={'MinValue':0x1,'MaxValue':ctrlFormLayout['MaximumColumnCount'],'SpinIncrement':0x1},TriSysSDK['Controls']['NumericSpinner']['Initialise'](sInnerColumnsSpinner,fieldDescription),TriSysApex['FieldEvents']['AddNumberChangeFieldOfInterest'](sInnerColumnsSpinner,ctrlFormLayout['ChangeInnerColumnCount']),TriSysSDK['Controls']['NumericSpinner']['SetValue'](sInnerColumnsSpinner,iInnerColumnCount>0x0?iInnerColumnCount:0x1),TriSysSDK['Controls']['NumericSpinner']['DecimalPlaces'](sInnerColumnsSpinner,0x0);for(var j=0x1;j<=ctrlFormLayout['MaximumColumnCount'];j++){var iColumnInnerWidth=0x1;if(i<=lstInnerColumns['length']){var innerCols=lstInnerColumns[i-0x1];if(j<=innerCols['length'])iColumnInnerWidth=innerCols[j-0x1]['Width'];}var sInnerColumnsColumnWidthSpinner='formLayout-InnerColumns'+i+'-Column'+j+'Width';fieldDescription={'MinValue':0x1,'MaxValue':ctrlFormLayout['MaximumColumnCount'],'SpinIncrement':0x1},TriSysSDK['Controls']['NumericSpinner']['Initialise'](sInnerColumnsColumnWidthSpinner,fieldDescription),TriSysSDK['Controls']['NumericSpinner']['SetValue'](sInnerColumnsColumnWidthSpinner,iColumnInnerWidth),TriSysSDK['Controls']['NumericSpinner']['DecimalPlaces'](sInnerColumnsColumnWidthSpinner,0x0);}ctrlFormLayout['ChangeInnerColumnCount'](sInnerColumnsSpinner,iInnerColumnCount>0x0?iInnerColumnCount:0x1);}ctrlFormLayout['ChangeColumnCount'](sColumnsSpinner,iColumnCount);},'ChangeColumnCount':function(sFieldID,fValue){for(var i=0x1;i<=ctrlFormLayout['MaximumColumnCount'];i++){var sID='formLayout-innercolumn'+i+'-count',bShow=fValue>=i,elem=$('#'+sID);bShow?elem['show']():elem['hide'](),sID='formLayout-innercolumn'+i+'-widths',elem=$('#'+sID),bShow?elem['show']():elem['hide'](),sID='formLayout-column'+i+'-width',elem=$('#'+sID),bShow?elem['show']():elem['hide']();}},'ChangeInnerColumnCount':function(sFieldID,fValue){var parts=sFieldID['split']('formLayout-InnerColumns'),iColumnNumber=parseInt(parts[0x1]);for(var i=0x1;i<=ctrlFormLayout['MaximumColumnCount'];i++){var sID='formLayout-innercolumn'+iColumnNumber+'-width-'+i,bShow=fValue>=i,elem=$('#'+sID);bShow?elem['show']():elem['hide']();}},'Apply':function(){var sValidationFailReason='',iColumns=TriSysSDK['Controls']['NumericSpinner']['GetValue']('formLayout-Columns'),iTotalWidth=0x0;for(var i=0x1;i<=iColumns;i++){var iWidth=TriSysSDK['Controls']['NumericSpinner']['GetValue']('formLayout-Column'+i+'Width');iTotalWidth+=iWidth;}if(iTotalWidth!=ctrlFormLayout['MaximumColumnCount'])sValidationFailReason='Total\x20sum\x20of\x20all\x20'+iColumns+'\x20columns\x20must\x20equal\x20'+ctrlFormLayout['MaximumColumnCount']+',\x20not\x20'+iTotalWidth;else for(var i=0x1;i<=iColumns;i++){var iInnerColumnCount=TriSysSDK['Controls']['NumericSpinner']['GetValue']('formLayout-InnerColumns'+i);iTotalWidth=0x0;for(var j=0x1;j<=iInnerColumnCount;j++){var iWidth=TriSysSDK['Controls']['NumericSpinner']['GetValue']('formLayout-InnerColumns'+i+'-Column'+j+'Width');iTotalWidth+=iWidth;}if(iTotalWidth!=ctrlFormLayout['MaximumColumnCount']){sValidationFailReason='Total\x20sum\x20of\x20all\x20'+iInnerColumnCount+'\x20inner\x20columns\x20in\x20column\x20'+i+'\x20must\x20equal\x20'+ctrlFormLayout['MaximumColumnCount']+',\x20not\x20'+iTotalWidth;break;}}if(sValidationFailReason['length']>0x0){TriSysApex['UI']['ShowMessage'](sValidationFailReason);return;}var iNumberOfRows=TriSysSDK['Controls']['NumericSpinner']['GetValue']('formLayout-Rows'),rows=[];for(var iRow=0x1;iRow<=iNumberOfRows;iRow++){var row={'Columns':[]};for(var iColumn=0x1;iColumn<=iColumns;iColumn++){var iColumnWidth=TriSysSDK['Controls']['NumericSpinner']['GetValue']('formLayout-Column'+iColumn+'Width'),col={'Width':iColumnWidth,'Rows':[]},iInnerColumnCount=TriSysSDK['Controls']['NumericSpinner']['GetValue']('formLayout-InnerColumns'+iColumn),columnRow={'Columns':[]};for(var j=0x1;j<=iInnerColumnCount;j++){var iInnerColumnWidth=TriSysSDK['Controls']['NumericSpinner']['GetValue']('formLayout-InnerColumns'+iColumn+'-Column'+j+'Width'),innerColumn={'Width':iInnerColumnWidth};columnRow['Columns']['push'](innerColumn);}col['Rows']['push'](columnRow),row['Columns']['push'](col);}rows['push'](row);}return rows;}};