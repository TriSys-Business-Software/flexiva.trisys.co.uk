var Redirector={'Load':function(){debugger;var sURL=window['location']['href'],slashParts=sURL['split']('/'),sAPIKeyId=slashParts[slashParts['length']-0x1],sForm=slashParts[slashParts['length']-0x2],sGUID=slashParts[slashParts['length']-0x3];$('#Redirector-Debug')['html']('sAPIKeyId='+sAPIKeyId+'<br/>'+'GUID='+sGUID+'<br/>'+'Form='+sForm),sGUID&&sAPIKeyId&&sForm&&Redirector['IdentifyLoginCredentialsFromGUID'](sURL,sGUID,sAPIKeyId,sForm);},'IdentifyLoginCredentialsFromGUID':function(sURL,sGUID,sAPIKeyId,sForm){var CReadCampaignRecipientLoginCredentialsRequest={'GUID':sGUID,'APIKeyId':sAPIKeyId,'URL':sURL},payloadObject={};payloadObject['URL']='Marketing/ReadCampaignRecipientLoginCredentials',payloadObject['OutboundDataPacket']=CReadCampaignRecipientLoginCredentialsRequest,payloadObject['InboundDataFunction']=function(CReadCampaignRecipientLoginCredentialsResponse){if(CReadCampaignRecipientLoginCredentialsResponse){debugger;if(CReadCampaignRecipientLoginCredentialsResponse['Success']){var sLoginName=null,sPassword=null,sLoginType=CReadCampaignRecipientLoginCredentialsResponse['LoginType'];if(CReadCampaignRecipientLoginCredentialsResponse['LoginName'])sLoginName=$['base64']['decode'](CReadCampaignRecipientLoginCredentialsResponse['LoginName']);if(CReadCampaignRecipientLoginCredentialsResponse['Password'])sPassword=$['base64']['decode'](CReadCampaignRecipientLoginCredentialsResponse['Password']);switch(sLoginType){case'User':var credentialPacket={'EMailAddress':sLoginName,'Password':sPassword};TriSysWeb['Security']['WritePersistedLoginCredentials'](credentialPacket);break;case'Client':case'Candidate':TriSysWebJobs['Security']['CacheLoginCredentialsAsCookies'](sLoginName,sPassword,!![]);break;}var sRedirectURL=CReadCampaignRecipientLoginCredentialsResponse['RedirectURL'];if(sRedirectURL){if(sForm)TriSysWebJobs['Security']['CachePostLoginFormName'](sForm);window['location']['href']=sRedirectURL;return;}if(sForm)for(var i=0x0;i<TriSysApex['Forms']['Configuration']['Pages']['length'];i++){var page=TriSysApex['Forms']['Configuration']['Pages'][i];switch(sLoginType){case'User':if(page['PostLoginPageForUser'])page['PostLoginPageForUser']=![];if(page['FormName']['toLowerCase']()==sForm['toLowerCase']())page['PostLoginPageForUser']=!![];break;case'Client':if(page['PostLoginPageForClient'])page['PostLoginPageForClient']=![];if(page['FormName']['toLowerCase']()==sForm['toLowerCase']())page['PostLoginPageForClient']=!![];break;case'Candidate':if(page['PostLoginPageForCandidate'])page['PostLoginPageForCandidate']=![];if(page['FormName']['toLowerCase']()==sForm['toLowerCase']())page['PostLoginPageForCandidate']=!![];break;}}var options={'ignoreURLParameters':!![]};TriSysApex['FormsManager']['OpenForm'](sLoginType+'Login',0x0,!![],options);}else $('#Redirector-Spinner')['hide'](),$('#Redirector-Message')['html'](CReadCampaignRecipientLoginCredentialsResponse['ErrorMessage']),$('#Redirector-Debug')['hide']();}},payloadObject['ErrorHandlerFunction']=function(request,status,error){TriSysApex['UI']['errorAlert']('Redirector.IdentifyLoginCredentialsFromGUID:\x20'+status+':\x20'+error+'.\x20responseText:\x20'+request['responseText']);},TriSysAPI['Data']['PostToWebAPI'](payloadObject);}};