var ctrlModalEntitySelection={'Load':function(){var sqlParameters=TriSysApex['ModalDialogue']['Selection']['CurrentSelectionParameterObject'],sEntityName=sqlParameters['EntityName'],sSearchDiv='modal-entity-lookup-criteria',sSearchDivForEntity=sSearchDiv+'-'+sEntityName;$('#'+sSearchDiv)['attr']('id',sSearchDivForEntity),TriSysSDK['SearchCriteria']['Load'](sEntityName,0x0,sSearchDivForEntity,ctrlModalEntitySelection['InvokeLookupFromCriteria']);},'InvokeLookupFromCriteria':function(sEntityName,lRecordId,sJson,dynamicColumns){var sController=sEntityName+'s';if(sEntityName=='Company')sController='Companies';var fnPopulationByFunction={'API':sController+'/List','Parameters':function(request){request['SearchTreeEnabled']=!![],request['SearchTreeJson']=sJson;var sqlParameters=TriSysApex['ModalDialogue']['Selection']['CurrentSelectionParameterObject'];if(sqlParameters['ParameterFunction'])sqlParameters['ParameterFunction'](request);},'DataTableFunction':function(response){return response['List'];}};ctrlModalEntitySelection['PopulateGrid'](sEntityName,'divModalEntitySelectionGrid','grd'+sController,sController,fnPopulationByFunction,dynamicColumns);},'PopulateGrid':function(sEntityName,sDiv,sGridName,sTitle,fnPopulationByFunction,dynamicColumns){var sqlParameters=TriSysApex['ModalDialogue']['Selection']['CurrentSelectionParameterObject'],iModalRecordsPerPage=TriSysApex['UserOptions']['RecordsPerPage']()/0x2;TriSysSDK['Grid']['VirtualMode']({'Div':sDiv,'ID':sGridName,'Title':sTitle,'RecordsPerPage':iModalRecordsPerPage,'PopulationByFunction':fnPopulationByFunction,'Columns':sqlParameters['Columns'],'KeyColumnName':null,'DrillDownFunction':null,'SingleRowSelect':!![],'Height':TriSysApex['Pages']['Index']['FormHeight']()*(0x2/0x3),'RowDoubleClick':sqlParameters['CallbackFunction'],'Grouping':TriSysApex['UserOptions']['GridGrouping']()});}};$(document)['ready'](function(){ctrlModalEntitySelection['Load']();});