var ctrlPlacementTypeChart={'LoadedInTile':function(sTileID,persistedSettings){var sPrefix=sTileID+'-';try{ctrlPlacementTypeChart['Load'](sPrefix);}catch(e){}},'Load':function(sPrefix){var sChart=sPrefix+'placement-type-chart',fnPopulationByFunction={'API':'DashboardMetric/PlacementTypes','DataTableFunction':function(response){return response['List'];}},fnProcessDataTable=function(dataTable){var lPermanent=0x0,lContract=0x0,lTemporary=0x0,dt=dataTable;for(var i=0x0;i<dt['length'];i++){var dr=dt[i],sPlacementType=dr['PlacementType'],iCount=dr['Counter'];switch(sPlacementType){case'Permanent':lPermanent=iCount;break;case'Contract':lContract=iCount;break;case'Temporary':lTemporary=iCount;break;}}var figures={'Permanent':lPermanent,'Contract':lContract,'Temporary':lTemporary};ctrlPlacementTypeChart['DrawChart'](sChart,figures);};TriSysSDK['Database']['GetDataSetFromFunction'](fnPopulationByFunction,fnProcessDataTable);},'DrawChart':function(sChart,figures){var lColorPermanent=TriSysProUI['NavBarInverseColour'](),lColorContract=TriSysProUI['BackColour'](),lColorTemp=TriSysProUI['ThemedSidebarBackgroundLight'](0.25);if(TriSysProUI['CurrentThemeNameLike']('Night'))lColorContract=TriSysProUI['LightenColour'](lColorContract,0.1);var fTotal=figures['Permanent']+figures['Contract']+figures['Temporary'],fnCalcPercentage=function(fValue,fTotal){var fPercentage=0x0;if(fValue>0x0)fPercentage=fValue/fTotal*0x64;return fPercentage;},fPermanentPercentage=fnCalcPercentage(figures['Permanent'],fTotal),fContractPercentage=fnCalcPercentage(figures['Contract'],fTotal),fTemporaryPercentage=fnCalcPercentage(figures['Temporary'],fTotal),seriesData=[],seriesColors=[];if(fPermanentPercentage>0x0){seriesColors['push'](lColorPermanent);var typeData={'category':'Permanent','value':fPermanentPercentage};seriesData['push'](typeData);}if(fContractPercentage>0x0){seriesColors['push'](lColorContract);var typeData={'category':'Contract','value':fContractPercentage};seriesData['push'](typeData);}if(fTemporaryPercentage>0x0){seriesColors['push'](lColorTemp);var typeData={'category':'Temporary','value':fTemporaryPercentage};seriesData['push'](typeData);}var lHeight=0x1f4,sCSSHeight=$('#'+sChart)['css']('height');if(sCSSHeight)lHeight=parseInt(sCSSHeight['replace']('px',''));var sPosition='top',sPositionAttribute='trisys-chart-property-legend-position',sPositionAttributeValue=$('#'+sChart)['attr'](sPositionAttribute);if(sPositionAttributeValue)sPosition=sPositionAttributeValue;$('#'+sChart)['kendoChart']({'legend':{'position':sPosition,'labels':{'font':TriSysSDK['KendoUICharts']['Font']}},'chartArea':{'height':lHeight},'seriesDefaults':{'labels':{'template':'#=\x20category\x20#\x20-\x20#=\x20kendo.format(\x27{0:P}\x27,\x20percentage)#','position':'outsideEnd','visible':![],'background':'transparent','font':TriSysSDK['KendoUICharts']['Font']}},'seriesColors':seriesColors,'series':[{'type':'pie','data':seriesData}],'tooltip':{'visible':!![],'template':'<span\x20style=\x22color:white;\x22>#=\x20category\x20#\x20-\x20#=\x20kendo.format(\x22{0:P}\x22,\x20percentage)\x20#</span>'}});}};