var AppStudioDataSources={'Load':function(configurator){AppStudioDataSources['Persistence']['Configurator']=configurator,AppStudioDataSources['InitialiseFields'](configurator),AppStudioDataSources['PopulateDataSources'](configurator,AppStudioDataSources['AfterTreePopulated']),ctrlAppStudioConfigurator['MakeAllBlocksTheSameHeight']([AppStudioDataSources['Settings']['TreeViewID'],'ctrlDataSources-Properties']);},'SetAllFieldsReadOnly':function(){const sPrefixDataSourceProperties='ctrlDataSources-DataSource-',lstFieldDataSourceProperties=[{'FieldId':'Name','FieldType':TriSysSDK['Controls']['FieldTypes']['Text']},{'FieldId':'Description','FieldType':TriSysSDK['Controls']['FieldTypes']['Text']},{'FieldId':'Authorisation','FieldType':TriSysSDK['Controls']['FieldTypes']['Text'],'Lookup':!![]},{'FieldId':'Authorisation-Username','FieldType':TriSysSDK['Controls']['FieldTypes']['Text']},{'FieldId':'Authorisation-Password','FieldType':TriSysSDK['Controls']['FieldTypes']['Text']},{'FieldId':'Authorisation-Token','FieldType':TriSysSDK['Controls']['FieldTypes']['Text']},{'FieldId':'Authorisation-Key','FieldType':TriSysSDK['Controls']['FieldTypes']['Text']},{'FieldId':'Authorisation-Value','FieldType':TriSysSDK['Controls']['FieldTypes']['Text']},{'FieldId':'Authorisation-AddTo','FieldType':TriSysSDK['Controls']['FieldTypes']['Text'],'Lookup':!![]}];lstFieldDataSourceProperties['forEach'](function(field){TriSysSDK['CShowForm']['ElementReadOnly'](sPrefixDataSourceProperties+field['FieldId'],field['FieldType'],!![],field['Lookup']);});const sPrefixFolderProperties='ctrlDataSources-Folder-',lstFieldFolderProperties=lstFieldDataSourceProperties;lstFieldFolderProperties['forEach'](function(field){TriSysSDK['CShowForm']['ElementReadOnly'](sPrefixFolderProperties+field['FieldId'],field['FieldType'],!![],field['Lookup']);});const sPrefixRequestProperties='ctrlDataSources-Request-',lstFieldRequestProperties=[{'FieldId':'URL','FieldType':TriSysSDK['Controls']['FieldTypes']['Text']},{'FieldId':'Name','FieldType':TriSysSDK['Controls']['FieldTypes']['Text']},{'FieldId':'Description','FieldType':TriSysSDK['Controls']['FieldTypes']['Text']},{'FieldId':'Verb','FieldType':TriSysSDK['Controls']['FieldTypes']['Text'],'Lookup':!![]},{'FieldId':'Authorisation','FieldType':TriSysSDK['Controls']['FieldTypes']['Text'],'Lookup':!![]},{'FieldId':'Authorisation-Username','FieldType':TriSysSDK['Controls']['FieldTypes']['Text']},{'FieldId':'Authorisation-Password','FieldType':TriSysSDK['Controls']['FieldTypes']['Text']},{'FieldId':'Authorisation-Token','FieldType':TriSysSDK['Controls']['FieldTypes']['Text']},{'FieldId':'Authorisation-AddTo','FieldType':TriSysSDK['Controls']['FieldTypes']['Text'],'Lookup':!![]},{'FieldId':'Body-Format','FieldType':TriSysSDK['Controls']['FieldTypes']['Text'],'Lookup':!![]},{'FieldId':'Parameters-Format','FieldType':TriSysSDK['Controls']['FieldTypes']['Text'],'Lookup':!![]}];lstFieldRequestProperties['forEach'](function(field){TriSysSDK['CShowForm']['ElementReadOnly'](sPrefixRequestProperties+field['FieldId'],field['FieldType'],!![],field['Lookup']);});},'AfterTreePopulated':function(configurator,treeViewData){configurator['SelectionModeOnly']&&($('#ctrlDataSources-LeftButtons')['hide'](),$('#ctrlDataSources-RightButtons')['hide'](),$('#ctrlDataSources-properties-request-panel-fields-refreshButton')['hide'](),AppStudioDataSources['SetAllFieldsReadOnly']());if(configurator['DataSourceRequest']){const fnAfterExpansion=function(){AppStudioDataSources['ClaudeAI']['findNodeWithRequestId'](configurator['DataSourceRequest']['RequestId']);};setTimeout(fnAfterExpansion,0xc8);}},'InitialiseFields':function(configurator){var sFormName='ctrlDataSources';TriSysSDK['CShowForm']['InitialiseFields'](sFormName),AppStudioDataSources['FieldChangeCallbacks']();var sTab='ctrlDataSources-properties-dataSource-tab-details';TriSysSDK['Controls']['Button']['Click'](sTab);var sTab='ctrlDataSources-properties-folder-tab-details';TriSysSDK['Controls']['Button']['Click'](sTab);var sTab='ctrlDataSources-properties-request-tab-details';TriSysSDK['Controls']['Button']['Click'](sTab),$('#ctrlDataSources-properties-request-panel-results-tabstrip-left')['kendoTabStrip']({'tabPosition':'left','animation':{'open':{'effects':'fadeIn'}}});var iWidth=$(window)['width']();iWidth<=0x640&&($('#ctrlDataSources-Add-Button')['hide'](),$('#ctrlDataSources-Clone-Button')['hide'](),$('#ctrlDataSources-Import-Button')['hide']());var iParentWidth=$('#ctrlDataSources-Request')['width'](),iWidthFactor=0x64,elemResultsTableDiv=$('#ctrlDataSources-properties-request-panel-results-table-div');elemResultsTableDiv['css']('max-width',iParentWidth-iWidthFactor+'px');},'LoadedReSTresultsViewer':function(){},'FieldChangeCallbacks':function(){const lstField=[{'ID':'ctrlDataSources-DataSource-Name','UpdateField':'dataSource.Name','textField':!![]},{'ID':'ctrlDataSources-DataSource-Description','UpdateField':'dataSource.Description'},{'ID':'ctrlDataSources-DataSource-Authorisation-Username','UpdateField':'dataSource.Authorisation.Username'},{'ID':'ctrlDataSources-DataSource-Authorisation-Password','UpdateField':'dataSource.Authorisation.Password'},{'ID':'ctrlDataSources-DataSource-Authorisation-Token','UpdateField':'dataSource.Authorisation.Token'},{'ID':'ctrlDataSources-DataSource-Authorisation-AddTo','UpdateField':'dataSource.Authorisation.AddTo','Combo':!![]},{'ID':'ctrlDataSources-Folder-Name','UpdateField':'folder.Name','textField':!![]},{'ID':'ctrlDataSources-Folder-Description','UpdateField':'folder.Description'},{'ID':'ctrlDataSources-Folder-Authorisation-Username','UpdateField':'folder.Authorisation.Username'},{'ID':'ctrlDataSources-Folder-Authorisation-Password','UpdateField':'folder.Authorisation.Password'},{'ID':'ctrlDataSources-Folder-Authorisation-Token','UpdateField':'folder.Authorisation.Token'},{'ID':'ctrlDataSources-Folder-Authorisation-AddTo','UpdateField':'folder.Authorisation.AddTo','Combo':!![]},{'ID':'ctrlDataSources-Request-Name','UpdateField':'request.Name','textField':!![]},{'ID':'ctrlDataSources-Request-Description','UpdateField':'request.Description'},{'ID':'ctrlDataSources-Request-URL','UpdateField':'request.Url'},{'ID':'ctrlDataSources-Request-Authorisation-Username','UpdateField':'request.Authorisation.Username'},{'ID':'ctrlDataSources-Request-Authorisation-Password','UpdateField':'request.Authorisation.Password'},{'ID':'ctrlDataSources-Request-Authorisation-Token','UpdateField':'request.Authorisation.Token'},{'ID':'ctrlDataSources-Request-Authorisation-AddTo','UpdateField':'request.Authorisation.AddTo','Combo':!![]},{'ID':'ctrlDataSources-Request-Body-Format','UpdateField':'request.Body.Format','Combo':!![]},{'ID':'ctrlDataSources-Request-Parameters-Format','UpdateField':'request.ParameterFormat','Combo':!![]}];lstField['push']({'ID':'ctrlDataSources-properties-request-panel-fields-FieldCaption','textField':!![],'UpdateFunction':AppStudioDataSources['Fields']['ChangedFieldProperty']}),lstField['push']({'ID':'ctrlDataSources-properties-request-panel-fields-FieldType','Combo':!![],'UpdateFunction':AppStudioDataSources['Fields']['ChangedFieldProperty']}),lstField['push']({'ID':'ctrlDataSources-properties-request-panel-fields-FieldVisible','Boolean':!![],'UpdateFunction':AppStudioDataSources['Fields']['ChangedFieldProperty']}),lstField['push']({'ID':'ctrlDataSources-properties-request-panel-fields-FieldKey','Boolean':!![],'UpdateFunction':AppStudioDataSources['Fields']['ChangedFieldProperty']}),lstField['forEach'](function(field){var fnChange=function(sValue,sFieldID){if(field['UpdateFunction']){field['UpdateFunction'](sValue,sFieldID);return;}const treeView=$('#'+AppStudioDataSources['Settings']['TreeViewID'])['data']('kendoTreeView');var selectedNode=treeView['select']();if(selectedNode['length']==0x1){var dataItem=treeView['dataItem'](selectedNode),sourceField=$('#'+sFieldID)[0x0];if(document['activeElement']===sourceField){field['textField']&&(dataItem['set']('text',sValue),$('#'+AppStudioDataSources['Settings']['PropertyNameID'])['text'](sValue));var properties=field['UpdateField']['split']('.'),current=dataItem;for(var i=0x0;i<properties['length']-0x1;i++){var prop=properties[i];!current[prop]&&(current[prop]={}),current=current[prop];}current[properties[properties['length']-0x1]]=sValue,AppStudioDataSources['Persistence']['Save']('Updated\x20field:\x20'+sFieldID);}}};if(field['Combo']){var dropDownList=$('#'+field['ID'])['data']('kendoDropDownList');dropDownList['bind']('change',function(e){var selectedValue=this['value']();fnChange(selectedValue,field['ID']);});}else{const elem=$('#'+field['ID']);var fnValueChangedEventHandler=function(e){var sValue=$(this)['val']();if(field['Boolean']){var bChecked=TriSysSDK['CShowForm']['GetCheckBoxValue'](field['ID']);sValue=bChecked;}fnChange(sValue,field['ID']);};elem['on']('input',fnValueChangedEventHandler),elem['on']('change',fnValueChangedEventHandler);}});},'PopulateDataSources':function(configurator,fnPopulated){TriSysFlexiva['DataSources']['WebAPI']['Read'](function(sJSON){if(sJSON){const treeViewObjectArray=JSON['parse'](sJSON);AppStudioDataSources['PopulateTreeView'](treeViewObjectArray),fnPopulated(configurator,treeViewObjectArray);}});},'PopulateTreeView':function(treeDataSource){var sTemplate='<img\x20src=\x27#=\x20item.imageUrl\x20#\x27\x20alt=\x27\x27\x20class=\x27tree-icon\x27/>\x20#=\x20item.text\x20#';const dataSourceConfiguration={'dataSource':treeDataSource,'dragAndDrop':!![],'checkboxes':![],'loadOnDemand':![],'select':AppStudioDataSources['SelectTreeItem'],'drop':AppStudioDataSources['Drop'],'template':sTemplate};var treeView=$('#'+AppStudioDataSources['Settings']['TreeViewID'])['kendoTreeView'](dataSourceConfiguration)['data']('kendoTreeView');function expandRootNodes(){var rootNodes=treeView['dataSource']['view']();for(var i=0x0;i<rootNodes['length'];i++){var node=treeView['findByUid'](rootNodes[i]['uid']);treeView['expand'](node);}}setTimeout(expandRootNodes,0x64);},'SelectTreeItem':function(e){var fnCompensateForFieldChangeEventLag=function(thisElement){AppStudioDataSources['SelectedTreeViewItem']=thisElement['dataItem'](e['node']),AppStudioDataSources['SelectedNodeElement']=e['node'],AppStudioDataSources['SelectedNodeTreeViewID']=thisElement['element']['attr']('id'),AppStudioDataSources['ShowProperties'](AppStudioDataSources['SelectedTreeViewItem']);};setTimeout(()=>{fnCompensateForFieldChangeEventLag(this,e);},0x1);},'SelectedRequest':function(){const properties=AppStudioDataSources['SelectedTreeViewItem'];if(properties&&properties['request'])return properties['request'];return null;},'ShowProperties':function(properties){const sPrefix='ctrlDataSources-',sDataSource=sPrefix+'DataSource',sFolder=sPrefix+'Folder',sRequest=sPrefix+'Request';$('#'+sDataSource)['hide'](),$('#'+sFolder)['hide'](),$('#'+sRequest)['hide']();const elemTitle=$('#'+AppStudioDataSources['Settings']['PropertiesTitleID']);properties?elemTitle['show']():elemTitle['hide']();var sPropertyType='',sIcon='',sPropertyName='';const elemType=$('#ctrlDataSources-Properties-Type');elemType['text'](sPropertyType),$('#'+AppStudioDataSources['Settings']['PropertyNameID'])['text'](sPropertyName);if(!properties)return;if(properties['dataSource']){sPropertyName=properties['dataSource']['Name'],sPropertyType='<i\x20class=\x22fa\x20fa-database\x20themed-color\x22></i>\x20&nbsp;\x20Data\x20Source',$('#'+sDataSource)['show'](),TriSysSDK['CShowForm']['writeFieldValueToWidget'](sDataSource+'-ID',properties['dataSource']['DataSourceId'],{'FieldTypeId':TriSysSDK['Controls']['FieldTypes']['Text']}),TriSysSDK['CShowForm']['writeFieldValueToWidget'](sDataSource+'-Name',properties['dataSource']['Name'],{'FieldTypeId':TriSysSDK['Controls']['FieldTypes']['Text']}),TriSysSDK['CShowForm']['writeFieldValueToWidget'](sDataSource+'-Description',properties['dataSource']['Description'],{'FieldTypeId':TriSysSDK['Controls']['FieldTypes']['Text']}),$('#'+sDataSource+'-Created')['text'](moment(properties['dataSource']['Created'])['format']('ddd\x20DD\x20MMMM\x20YYYY'));const sUserDetails=TriSysApex['LoginCredentials']['UserCredentials']()['LoggedInUser']['CRMContact']['FullName'];$('#'+sDataSource+'-UserDetails')['text'](sUserDetails);const sPhoto=TriSysApex['LoginCredentials']['UserCredentials']()['LoggedInUser']['Contact']['ContactPhoto'];sPhoto&&$('#'+sDataSource+'-UserPhoto')['attr']('src',sPhoto);if(!properties['dataSource']['Authorisation'])properties['dataSource']['Authorisation']={};var sAuthorisationType=TriSysFlexiva['Settings']['Constants']['AuthorisationType_None'];if(properties['dataSource']['Authorisation']['Type'])sAuthorisationType=properties['dataSource']['Authorisation']['Type'];TriSysSDK['CShowForm']['writeFieldValueToWidget'](sDataSource+'-Authorisation',sAuthorisationType,{'FieldTypeId':TriSysSDK['Controls']['FieldTypes']['SkillCombo']}),TriSysSDK['CShowForm']['writeFieldValueToWidget'](sDataSource+'-Authorisation-Username',properties['dataSource']['Authorisation']['Username'],{'FieldTypeId':TriSysSDK['Controls']['FieldTypes']['Text']}),TriSysSDK['CShowForm']['writeFieldValueToWidget'](sDataSource+'-Authorisation-Password',properties['dataSource']['Authorisation']['Password'],{'FieldTypeId':TriSysSDK['Controls']['FieldTypes']['Text']}),TriSysSDK['CShowForm']['writeFieldValueToWidget'](sDataSource+'-Authorisation-Token',properties['dataSource']['Authorisation']['Token'],{'FieldTypeId':TriSysSDK['Controls']['FieldTypes']['Text']}),TriSysSDK['CShowForm']['writeFieldValueToWidget'](sDataSource+'-Authorisation-AddTo',properties['dataSource']['Authorisation']['AddTo'],{'FieldTypeId':TriSysSDK['Controls']['FieldTypes']['SkillCombo']});if(!properties['dataSource']['Authorisation']['Grid'])properties['dataSource']['Authorisation']['Grid']=[];const dataSourceAuthorisationKeyValuePairOptions={'ID':AppStudioDataSources['Settings']['DataSourceAuthorisationAPIGridID'],'Data':properties['dataSource']['Authorisation']['Grid'],'PostAddRowCallback':'AppStudioDataSources.Variables.RegisterTextBoxEvents','ObjectName':AppStudioDataSources['Persistence']['Configurator']['SelectionModeOnly']?null:'API\x20Key','SaveFunctionCallback':'AppStudioDataSources.DataSourceAuthorisationGridSave','ReadOnly':AppStudioDataSources['Persistence']['Configurator']['SelectionModeOnly']};TriSysFlexiva['Configurators']['KeyValuePairs']['Load'](dataSourceAuthorisationKeyValuePairOptions),AppStudioDataSources['ShowAuthorisationFields'](sAuthorisationType,sDataSource+'-Authorisation');}else{if(properties['folder']){sPropertyName=properties['folder']['Name'],sPropertyType='<i\x20class=\x22fa\x20fa-folder\x20themed-color\x22></i>\x20&nbsp;\x20Folder',$('#'+sFolder)['show'](),TriSysSDK['CShowForm']['writeFieldValueToWidget'](sFolder+'-Name',properties['folder']['Name'],{'FieldTypeId':TriSysSDK['Controls']['FieldTypes']['Text']}),TriSysSDK['CShowForm']['writeFieldValueToWidget'](sFolder+'-Description',properties['folder']['Description'],{'FieldTypeId':TriSysSDK['Controls']['FieldTypes']['Text']});if(!properties['folder']['Authorisation'])properties['folder']['Authorisation']={};var sAuthorisationType=TriSysFlexiva['Settings']['Constants']['AuthorisationType_None'];if(properties['folder']['Authorisation']['Type'])sAuthorisationType=properties['folder']['Authorisation']['Type'];TriSysSDK['CShowForm']['writeFieldValueToWidget'](sFolder+'-Authorisation',sAuthorisationType,{'FieldTypeId':TriSysSDK['Controls']['FieldTypes']['SkillCombo']}),TriSysSDK['CShowForm']['writeFieldValueToWidget'](sFolder+'-Authorisation-Username',properties['folder']['Authorisation']['Username'],{'FieldTypeId':TriSysSDK['Controls']['FieldTypes']['Text']}),TriSysSDK['CShowForm']['writeFieldValueToWidget'](sFolder+'-Authorisation-Password',properties['folder']['Authorisation']['Password'],{'FieldTypeId':TriSysSDK['Controls']['FieldTypes']['Text']}),TriSysSDK['CShowForm']['writeFieldValueToWidget'](sFolder+'-Authorisation-Token',properties['folder']['Authorisation']['Token'],{'FieldTypeId':TriSysSDK['Controls']['FieldTypes']['Text']}),TriSysSDK['CShowForm']['writeFieldValueToWidget'](sFolder+'-Authorisation-AddTo',properties['folder']['Authorisation']['AddTo'],{'FieldTypeId':TriSysSDK['Controls']['FieldTypes']['SkillCombo']});if(!properties['folder']['Authorisation']['Grid'])properties['folder']['Authorisation']['Grid']=[];const folderAuthorisationKeyValuePairOptions={'ID':AppStudioDataSources['Settings']['FolderAuthorisationAPIGridID'],'Data':properties['folder']['Authorisation']['Grid'],'PostAddRowCallback':'AppStudioDataSources.Variables.RegisterTextBoxEvents','ObjectName':AppStudioDataSources['Persistence']['Configurator']['SelectionModeOnly']?null:'API\x20Key','SaveFunctionCallback':'AppStudioDataSources.FolderAuthorisationGridSave','ReadOnly':AppStudioDataSources['Persistence']['Configurator']['SelectionModeOnly']};TriSysFlexiva['Configurators']['KeyValuePairs']['Load'](folderAuthorisationKeyValuePairOptions),AppStudioDataSources['ShowAuthorisationFields'](sAuthorisationType,sFolder+'-Authorisation');}else{if(properties['request']){sPropertyName=properties['request']['Name'],sPropertyType='<i\x20class=\x22gi\x20gi-globe_af\x20themed-color\x22></i>\x20&nbsp;\x20Request',$('#'+sRequest)['show'](),TriSysSDK['CShowForm']['writeFieldValueToWidget'](sRequest+'-ID',properties['request']['RequestId'],{'FieldTypeId':TriSysSDK['Controls']['FieldTypes']['Text']}),TriSysSDK['CShowForm']['writeFieldValueToWidget'](sRequest+'-Name',properties['request']['Name'],{'FieldTypeId':TriSysSDK['Controls']['FieldTypes']['Text']}),TriSysSDK['CShowForm']['writeFieldValueToWidget'](sRequest+'-Verb',properties['request']['Verb'],{'FieldTypeId':TriSysSDK['Controls']['FieldTypes']['SkillCombo']}),$('#'+sRequest+'-Verb-Image1')['attr']('src',TriSysFlexiva['DataSources']['GUI']['VerbImage'](properties['request']['Verb'])),$('#'+sRequest+'-Verb-Image2')['attr']('src',TriSysFlexiva['DataSources']['GUI']['VerbImage'](properties['request']['Verb'])),TriSysSDK['CShowForm']['writeFieldValueToWidget'](sRequest+'-Description',properties['request']['Description'],{'FieldTypeId':TriSysSDK['Controls']['FieldTypes']['Text']}),TriSysSDK['CShowForm']['writeFieldValueToWidget'](sRequest+'-URL',properties['request']['Url'],{'FieldTypeId':TriSysSDK['Controls']['FieldTypes']['Text']});if(!properties['request']['Authorisation'])properties['request']['Authorisation']={};var sAuthorisationType=TriSysFlexiva['Settings']['Constants']['AuthorisationType_InheritFromParent'];if(properties['request']['Authorisation']&&properties['request']['Authorisation']['Type'])sAuthorisationType=properties['request']['Authorisation']['Type'];TriSysSDK['CShowForm']['writeFieldValueToWidget'](sRequest+'-Authorisation',sAuthorisationType,{'FieldTypeId':TriSysSDK['Controls']['FieldTypes']['SkillCombo']}),TriSysSDK['CShowForm']['writeFieldValueToWidget'](sRequest+'-Authorisation-Username',properties['request']['Authorisation']['Username'],{'FieldTypeId':TriSysSDK['Controls']['FieldTypes']['Text']}),TriSysSDK['CShowForm']['writeFieldValueToWidget'](sRequest+'-Authorisation-Password',properties['request']['Authorisation']['Password'],{'FieldTypeId':TriSysSDK['Controls']['FieldTypes']['Text']}),TriSysSDK['CShowForm']['writeFieldValueToWidget'](sRequest+'-Authorisation-Token',properties['request']['Authorisation']['Token'],{'FieldTypeId':TriSysSDK['Controls']['FieldTypes']['Text']}),TriSysSDK['CShowForm']['writeFieldValueToWidget'](sRequest+'-Authorisation-AddTo',properties['request']['Authorisation']['AddTo'],{'FieldTypeId':TriSysSDK['Controls']['FieldTypes']['SkillCombo']});if(!properties['request']['Authorisation']['Grid'])properties['request']['Authorisation']['Grid']=[];const requestAuthorisationKeyValuePairOptions={'ID':AppStudioDataSources['Settings']['RequestAuthorisationAPIGridID'],'Data':properties['request']['Authorisation']['Grid'],'PostAddRowCallback':'AppStudioDataSources.Variables.RegisterTextBoxEvents','ObjectName':AppStudioDataSources['Persistence']['Configurator']['SelectionModeOnly']?null:'API\x20Key','SaveFunctionCallback':'AppStudioDataSources.RequestAuthorisationGridSave','ReadOnly':AppStudioDataSources['Persistence']['Configurator']['SelectionModeOnly']};TriSysFlexiva['Configurators']['KeyValuePairs']['Load'](requestAuthorisationKeyValuePairOptions),AppStudioDataSources['ShowAuthorisationFields'](sAuthorisationType,sRequest+'-Authorisation');if(!properties['request']['Parameters'])properties['request']['Parameters']=[];const parameterKeyValuePairOptions={'ID':AppStudioDataSources['Settings']['RequestParametersGridID'],'Data':properties['request']['Parameters'],'PostAddRowCallback':'AppStudioDataSources.Variables.RegisterTextBoxEvents','ObjectName':AppStudioDataSources['Persistence']['Configurator']['SelectionModeOnly']?null:'Parameter','SaveFunctionCallback':'AppStudioDataSources.ParameterGridSave','ReadOnly':AppStudioDataSources['Persistence']['Configurator']['SelectionModeOnly'],'ColumnLabelFunction':function(iColumnIndex){if(iColumnIndex==0x0)return'Field';},'ColumnFieldFunction':'AppStudioDataSources.Fields.DataSourceParameterFields','AddRowCallback':'AppStudioDataSources.Fields.AddDataSourceParameterFieldRow'};TriSysFlexiva['Configurators']['KeyValuePairs']['Load'](parameterKeyValuePairOptions);if(!properties['request']['ParameterFormat'])properties['request']['ParameterFormat']=TriSysFlexiva['Settings']['Constants']['ParameterFormat_Args'];TriSysSDK['CShowForm']['writeFieldValueToWidget'](sRequest+'-Parameters-Format',properties['request']['ParameterFormat'],{'FieldTypeId':TriSysSDK['Controls']['FieldTypes']['SkillCombo']});if(!properties['request']['Headers'])properties['request']['Headers']=[];const headerKeyValuePairOptions={'ID':AppStudioDataSources['Settings']['RequestHeadersGridID'],'Data':properties['request']['Headers'],'PostAddRowCallback':'AppStudioDataSources.Variables.RegisterTextBoxEvents','ObjectName':AppStudioDataSources['Persistence']['Configurator']['SelectionModeOnly']?null:'Header','SaveFunctionCallback':'AppStudioDataSources.HeaderGridSave','ReadOnly':AppStudioDataSources['Persistence']['Configurator']['SelectionModeOnly']};TriSysFlexiva['Configurators']['KeyValuePairs']['Load'](headerKeyValuePairOptions);if(!properties['request']['Body'])properties['request']['Body']={'Format':TriSysFlexiva['Settings']['Constants']['BodyFormat_JSON']};TriSysSDK['CShowForm']['writeFieldValueToWidget'](sRequest+'-Body-Format',properties['request']['Body']['Format'],{'FieldTypeId':TriSysSDK['Controls']['FieldTypes']['SkillCombo']}),AppStudioDataSources['SelectedRequestBodyFormat'](properties['request']['Body']['Format']);if(!properties['request']['Body']['Grid'])properties['request']['Body']['Grid']=[];const bodyKeyValuePairOptions={'ID':AppStudioDataSources['Settings']['RequestBodyGridID'],'Data':properties['request']['Body']['Grid'],'PostAddRowCallback':'AppStudioDataSources.Variables.RegisterTextBoxEvents','ObjectName':AppStudioDataSources['Persistence']['Configurator']['SelectionModeOnly']?null:'Body\x20Field','SaveFunctionCallback':'AppStudioDataSources.BodyGridSave','ReadOnly':AppStudioDataSources['Persistence']['Configurator']['SelectionModeOnly']};TriSysFlexiva['Configurators']['KeyValuePairs']['Load'](bodyKeyValuePairOptions);if(!properties['request']['Body'])properties['request']['Body']={};if(!properties['request']['Body']['Json'])properties['request']['Body']['Json']='{\x0a\x0a}';const fnJsonChangedInEditor=function(sCode){properties['request']['Body']['Json']=sCode,AppStudioDataSources['Persistence']['Save']('Updated\x20body\x20JSON:\x20'+AppStudioDataSources['Settings']['RequestBodyGridID']);};AppStudioDataSources['CodeEditorInitialisation'](![],properties['request']['Body']['Json'],fnJsonChangedInEditor),$('#ctrlDataSources-properties-request-panel-results-span')['text'](''),$('#ctrlDataSources-properties-request-panel-results-table')['hide'](),$('#ctrlDataSources-properties-request-panel-results-grid')['hide'](),AppStudioDataSources['AddDebugMessage'](null,!![]),AppStudioDataSources['Fields']['DisplayRequestFields'](properties['request']);}}}elemType['html'](sPropertyType),$('#'+AppStudioDataSources['Settings']['PropertyNameID'])['text'](sPropertyName);},'DataSourceAuthorisationGridSave':function(lstRow){console['log'](lstRow['length']+'\x20data\x20source\x20authorisation\x20API\x20key\x20rows:'+AppStudioDataSources['Settings']['DataSourceAuthorisationAPIGridID']);const treeItem=AppStudioDataSources['SelectedTreeViewItem'];if(!treeItem)return;const dataSource=treeItem['dataSource'];dataSource['Authorisation']['Grid']=lstRow,AppStudioDataSources['Persistence']['Save']('Updated\x20data\x20source\x20auth\x20API\x20keys:\x20'+AppStudioDataSources['Settings']['DataSourceAuthorisationAPIGridID']);},'FolderAuthorisationGridSave':function(lstRow){console['log'](lstRow['length']+'\x20folder\x20authorisation\x20API\x20key\x20rows:'+AppStudioDataSources['Settings']['FolderAuthorisationAPIGridID']);const treeItem=AppStudioDataSources['SelectedTreeViewItem'];if(!treeItem)return;const folder=treeItem['folder'];folder['Authorisation']['Grid']=lstRow,AppStudioDataSources['Persistence']['Save']('Updated\x20folder\x20auth\x20API\x20keys:\x20'+AppStudioDataSources['Settings']['FolderAuthorisationAPIGridID']);},'RequestAuthorisationGridSave':function(lstRow){console['log'](lstRow['length']+'\x20request\x20authorisation\x20API\x20key\x20rows:'+AppStudioDataSources['Settings']['RequestAuthorisationAPIGridID']);const treeItem=AppStudioDataSources['SelectedTreeViewItem'];if(!treeItem)return;const request=treeItem['request'];request['Authorisation']['Grid']=lstRow,AppStudioDataSources['Persistence']['Save']('Updated\x20request\x20auth\x20API\x20keys:\x20'+AppStudioDataSources['Settings']['RequestAuthorisationAPIGridID']);},'ParameterGridSave':function(lstRow){console['log'](lstRow['length']+'\x20parameter\x20rows:'+AppStudioDataSources['Settings']['RequestParametersGridID']);const treeItem=AppStudioDataSources['SelectedTreeViewItem'];if(!treeItem)return;const request=treeItem['request'];request['Parameters']=lstRow,AppStudioDataSources['Persistence']['Save']('Updated\x20parameters:\x20'+AppStudioDataSources['Settings']['RequestParametersGridID']);},'HeaderGridSave':function(lstRow){console['log'](lstRow['length']+'\x20header\x20rows:'+AppStudioDataSources['Settings']['RequestHeadersGridID']);const treeItem=AppStudioDataSources['SelectedTreeViewItem'];if(!treeItem)return;const request=treeItem['request'];request['Headers']=lstRow,AppStudioDataSources['Persistence']['Save']('Updated\x20headers:\x20'+AppStudioDataSources['Settings']['RequestHeadersGridID']);},'BodyGridSave':function(lstRow){console['log'](lstRow['length']+'\x20body\x20rows:'+AppStudioDataSources['Settings']['RequestBodyGridID']);const treeItem=AppStudioDataSources['SelectedTreeViewItem'];if(!treeItem)return;const request=treeItem['request'];request['Body']['Grid']=lstRow,AppStudioDataSources['Persistence']['Save']('Updated\x20body\x20grid:\x20'+AppStudioDataSources['Settings']['RequestBodyGridID']);},'TabButtonCallback':function(sTabID){switch(sTabID){case'ctrlDataSources-properties-request-panel-body':AppStudioDataSources['CodeEditorInitialisation'](!![]);break;}},'CodeEditorInitialisation':function(bSizeOnly,sCode,fnCallbackOnCodeChange){const sJsonEditorID='ctrlDataSources-properties-request-panel-body-json';typeof window['monacoEditorState']==='undefined'&&(window['monacoEditorState']={'isLoaded':![],'instances':{},'disposeHandlers':{}});!window['monacoEditorState']['instances']&&(window['monacoEditorState']['instances']={});!window['monacoEditorState']['disposeHandlers']&&(window['monacoEditorState']['disposeHandlers']={});if(bSizeOnly){var iHeightFactor=0xff;const iTop=$('#'+sJsonEditorID)['offset']()['top'],lHeight=$(window)['height']()-iTop-iHeightFactor;$('#'+sJsonEditorID)['css']('height',lHeight+'px');if(window['monacoEditorState']['instances'][sJsonEditorID])try{window['monacoEditorState']['instances'][sJsonEditorID]['layout']();}catch(e){console['log']('Error\x20resizing\x20Monaco\x20editor:',e);}return;}function disposeEditor(){if(window['monacoEditorState']['instances'][sJsonEditorID])try{Array['isArray'](window['monacoEditorState']['disposeHandlers'][sJsonEditorID])&&window['monacoEditorState']['disposeHandlers'][sJsonEditorID]['forEach'](handler=>{handler&&typeof handler['dispose']==='function'&&handler['dispose']();}),window['monacoEditorState']['disposeHandlers'][sJsonEditorID]=[],typeof window['monacoEditorState']['instances'][sJsonEditorID]['dispose']==='function'&&window['monacoEditorState']['instances'][sJsonEditorID]['dispose'](),$('#'+sJsonEditorID)['empty'](),delete window['monacoEditorState']['instances'][sJsonEditorID];}catch(e){console['log']('Error\x20disposing\x20Monaco\x20editor:',e);}}function initializeEditor(){disposeEditor();!window['monacoEditorState']['disposeHandlers'][sJsonEditorID]&&(window['monacoEditorState']['disposeHandlers'][sJsonEditorID]=[]);var sOriginalContent=sCode;try{var codeEditor=TriSysFlexiva['CodeEditor']['ConvertDivToMonacoEditor']({'ID':sJsonEditorID,'Code':sCode,'Mode':'json','ReadOnly':AppStudioDataSources['Persistence']['Configurator']['SelectionModeOnly']});codeEditor['updateOptions']({'tabSize':0x4,'insertSpaces':!![],'detectIndentation':![],'indentSize':0x4}),window['monacoEditorState']['instances'][sJsonEditorID]=codeEditor;AppStudioDataSources['Variables']&&typeof AppStudioDataSources['Variables']['InitialiseVariableSubSystem']==='function'&&AppStudioDataSources['Variables']['InitialiseVariableSubSystem'](codeEditor);var blurHandler=codeEditor['onDidBlurEditorWidget'](()=>{codeEditor['getValue']()!==sOriginalContent&&(fnCallbackOnCodeChange(codeEditor['getValue']()),sOriginalContent=codeEditor['getValue']());});return window['monacoEditorState']['disposeHandlers'][sJsonEditorID]['push'](blurHandler),codeEditor;}catch(e){return console['log']('Error\x20initializing\x20Monaco\x20editor:',e),null;}}if(window['monacoEditorState']['isLoaded'])initializeEditor();else try{TriSysFlexiva['CodeEditor']['LoadMonacoEditor'](function(){window['monacoEditorState']['isLoaded']=!![],initializeEditor();});}catch(e){console['log']('Error\x20loading\x20Monaco\x20editor:',e);}},'Drop':function(e){var treeView=this,draggedItem=treeView['dataItem'](e['sourceNode']),destinationItem=this['dataItem'](e['destinationNode']),rootNode=treeView['element']['find']('.k-item')['first'](),droppedNode=e['sourceNode'],bOver=e['dropPosition']=='over',bBefore=e['dropPosition']=='before',bAfter=e['dropPosition']=='after';if((destinationItem['dataSource']||destinationItem['folder']||destinationItem['request'])&&draggedItem['dataSource']){var bCaveat=destinationItem['dataSource']&&(bBefore||bAfter);if(!bCaveat){e['preventDefault'](),TriSysApex['UI']['ShowMessage']('Cannot\x20drop\x20a\x20data\x20source\x20onto\x20another\x20node.');return;}}if(destinationItem['request']&&draggedItem['folder']){e['preventDefault'](),TriSysApex['UI']['ShowMessage']('Cannot\x20drop\x20a\x20folder\x20onto\x20a\x20request.');return;}if(destinationItem['request']&&draggedItem['request']&&bOver){e['preventDefault'](),TriSysApex['UI']['ShowMessage']('Cannot\x20drop\x20a\x20request\x20onto\x20another\x20request.');return;}setTimeout(function(){AppStudioDataSources['Persistence']['Save']('Dropped\x20node:\x20\x27'+draggedItem['text']+'\x27\x20onto\x20node:\x20\x27'+destinationItem['text']+'\x27');},0x64);},'AuthorisationListForRequest':function(){return AppStudioDataSources['AuthorisationList'](!![]);},'AuthorisationList':function(bInheritFromParent){var auth=[];if(bInheritFromParent)auth['push'](TriSysFlexiva['Settings']['Constants']['AuthorisationType_InheritFromParent']);auth['push'](TriSysFlexiva['Settings']['Constants']['AuthorisationType_None']),auth['push'](TriSysFlexiva['Settings']['Constants']['AuthorisationType_Basic']),auth['push'](TriSysFlexiva['Settings']['Constants']['AuthorisationType_BearerToken']),auth['push'](TriSysFlexiva['Settings']['Constants']['AuthorisationType_APIKey']);var lst=[];return auth['forEach'](function(item){lst['push']({'text':item,'value':item});}),lst;},'AuthorisationKeyAddToList':function(){var auth=[TriSysFlexiva['Settings']['Constants']['AuthorisationAddTo_Header'],TriSysFlexiva['Settings']['Constants']['AuthorisationAddTo_QueryParameters']],lst=[];return auth['forEach'](function(sItem){lst['push']({'text':sItem,'value':sItem});}),lst;},'VerbList':function(){var verbs=[];verbs['push']('GET'),verbs['push']('POST'),verbs['push']('PATCH'),verbs['push']('PUT'),verbs['push']('DELETE');var lst=[];return verbs['forEach'](function(item){lst['push']({'text':item,'value':item});}),lst;},'SelectedVerb':function(sVerb,sText,sFieldID){$('#ctrlDataSources-Request-Verb-Image1')['attr']('src',TriSysFlexiva['DataSources']['GUI']['VerbImage'](sVerb)),$('#ctrlDataSources-Request-Verb-Image2')['attr']('src',TriSysFlexiva['DataSources']['GUI']['VerbImage'](sVerb));const treeView=$('#'+AppStudioDataSources['Settings']['TreeViewID'])['data']('kendoTreeView');var selectedNode=treeView['select'](),selectedDataItem=treeView['dataItem'](selectedNode);selectedDataItem['set']('imageUrl',TriSysFlexiva['DataSources']['GUI']['VerbImage'](sVerb)),selectedDataItem['request']['Verb']=sVerb,AppStudioDataSources['Persistence']['Save']('Updated\x20field:\x20'+sFieldID);},'SelectedDataSourceAuthorisation':function(sType,sText,sFieldID){const treeView=$('#'+AppStudioDataSources['Settings']['TreeViewID'])['data']('kendoTreeView');var selectedNode=treeView['select'](),selectedDataItem=treeView['dataItem'](selectedNode);if(!selectedDataItem['dataSource']['Authorisation'])selectedDataItem['dataSource']['Authorisation']={'Type':null};selectedDataItem['dataSource']['Authorisation']['Type']=sType,AppStudioDataSources['ShowAuthorisationFields'](sType,sFieldID),AppStudioDataSources['Persistence']['Save']('Updated\x20data\x20source\x20field:\x20'+sFieldID);},'SelectedFolderAuthorisation':function(sType,sText,sFieldID){const treeView=$('#'+AppStudioDataSources['Settings']['TreeViewID'])['data']('kendoTreeView');var selectedNode=treeView['select'](),selectedDataItem=treeView['dataItem'](selectedNode);if(!selectedDataItem['folder']['Authorisation'])selectedDataItem['folder']['Authorisation']={'Type':null};selectedDataItem['folder']['Authorisation']['Type']=sType,AppStudioDataSources['ShowAuthorisationFields'](sType,sFieldID),AppStudioDataSources['Persistence']['Save']('Updated\x20folder\x20field:\x20'+sFieldID);},'SelectedRequestAuthorisation':function(sType,sText,sFieldID){const treeView=$('#'+AppStudioDataSources['Settings']['TreeViewID'])['data']('kendoTreeView');var selectedNode=treeView['select'](),selectedDataItem=treeView['dataItem'](selectedNode);if(!selectedDataItem['request']['Authorisation'])selectedDataItem['request']['Authorisation']={'Type':null};selectedDataItem['request']['Authorisation']['Type']=sType,AppStudioDataSources['ShowAuthorisationFields'](sType,sFieldID),AppStudioDataSources['Persistence']['Save']('Updated\x20request\x20field:\x20'+sFieldID);},'ShowAuthorisationFields':function(sType,sFieldID){var lstAuthFields=[{'ID':sFieldID+'-Username','Type':TriSysFlexiva['Settings']['Constants']['AuthorisationType_Basic']},{'ID':sFieldID+'-Password','Type':TriSysFlexiva['Settings']['Constants']['AuthorisationType_Basic']},{'ID':sFieldID+'-Token','Type':TriSysFlexiva['Settings']['Constants']['AuthorisationType_BearerToken']},{'ID':sFieldID+'-AddTo','Type':TriSysFlexiva['Settings']['Constants']['AuthorisationType_APIKey']},{'ID':sFieldID+'-KeyValuePairs','Type':TriSysFlexiva['Settings']['Constants']['AuthorisationType_APIKey']}];lstAuthFields['forEach'](function(field){var elemFieldRow=$('#'+field['ID']+'-tr');switch(sType){case TriSysFlexiva['Settings']['Constants']['AuthorisationType_None']:case TriSysFlexiva['Settings']['Constants']['AuthorisationType_InheritFromParent']:elemFieldRow['hide']();break;default:field['Type']==sType?elemFieldRow['show']():elemFieldRow['hide']();break;}});},'ParametersFormatListForRequest':function(){return AppStudioDataSources['ParameterFormatList']();},'ParameterFormatList':function(){var me=TriSysFlexiva['Settings']['Constants'],format=[{'text':me['ParameterFormat_Args_Description'],'value':me['ParameterFormat_Args']},{'text':me['ParameterFormat_Query_Description'],'value':me['ParameterFormat_Query']}];const lst=[];return format['forEach'](function(item){lst['push'](item);}),lst;},'BodyFormatListForRequest':function(){return AppStudioDataSources['BodyFormatList']();},'BodyFormatList':function(){var me=TriSysFlexiva['Settings']['Constants'],format=[{'text':me['BodyFormat_JSON_Description'],'value':me['BodyFormat_JSON']},{'text':me['BodyFormat_Tree_Description'],'value':me['BodyFormat_Tree']},{'text':me['BodyFormat_Grid_Description'],'value':me['BodyFormat_Grid']}];const lst=[];return format['forEach'](function(item){lst['push'](item);}),lst;},'SelectedRequestBodyFormat':function(sFormat,sDescription,sFieldID){const sPrefix='ctrlDataSources-properties-request-panel-body-';$('div[id^=\x22'+sPrefix+'\x22]')['hide'](),$('#'+sPrefix+sFormat['toLowerCase']())['show']();},'Add':function(sWhat){const selectedItem=AppStudioDataSources['SelectedTreeViewItem'],bSelectedDataSource=selectedItem&&selectedItem['dataSource'],bSelectedFolder=selectedItem&&selectedItem['folder'],bSelectedRequest=selectedItem&&selectedItem['request'],treeView=$('#'+AppStudioDataSources['Settings']['TreeViewID'])['data']('kendoTreeView'),sAddedBy='\x20added\x20by\x20'+TriSysApex['LoginCredentials']['UserCredentials']()['LoggedInUser']['CRMContact']['FullName']+'\x20on\x20'+moment()['format']('dddd\x20DD\x20MMMM\x20YYYY');switch(sWhat){case'Data\x20Source':const fnAddNewDataSource=function(sName){const newDataSource={'DataSourceId':TriSysSDK['Miscellaneous']['GUID'](),'Name':sName,'Description':'Data\x20Source'+sAddedBy,'Created':moment(),'UserId':TriSysApex['LoginCredentials']['UserCredentials']()['LoggedInUser']['UserId'],'Authorisation':{'Type':TriSysFlexiva['Settings']['Constants']['AuthorisationType_None'],'AddTo':TriSysFlexiva['Settings']['Constants']['AuthorisationAddTo_Header']}},newItem={'text':sName,'imageUrl':AppStudioDataSources['Settings']['DatabaseImage'],'dataSource':newDataSource};var newNodeElement=treeView['append'](newItem,null),newTreeNode=$(newNodeElement);return treeView['select'](newTreeNode),treeView['trigger']('select',{'node':newTreeNode}),AppStudioDataSources['Persistence']['Save']('Added\x20new\x20data\x20source'),!![];};var sMessage='Add\x20New\x20Data\x20Source',options={'Label':'Name'};TriSysApex['ModalDialogue']['New']['Popup'](sMessage,'fa-database',fnAddNewDataSource,options);break;case'Folder':if(!bSelectedDataSource&&!bSelectedFolder){TriSysApex['UI']['ShowMessage']('Please\x20select\x20a\x20data\x20source\x20or\x20a\x20folder.');return;}const fnAddNewFolder=function(sName){const newFolder={'FolderId':TriSysSDK['Miscellaneous']['GUID'](),'Name':sName,'Description':'Folder'+sAddedBy,'Authorisation':{'Type':TriSysFlexiva['Settings']['Constants']['AuthorisationType_InheritFromParent'],'AddTo':TriSysFlexiva['Settings']['Constants']['AuthorisationAddTo_Header']}},newNode={'text':sName,'imageUrl':AppStudioDataSources['Settings']['FolderImage'],'folder':newFolder};var selectedNode=treeView['select'](),newNodeElement=treeView['append'](newNode,selectedNode),newTreeNode=$(newNodeElement);return treeView['select'](newTreeNode),treeView['trigger']('select',{'node':newTreeNode}),AppStudioDataSources['Persistence']['Save']('Added\x20new\x20folder'),!![];};var sMessage='Add\x20New\x20Folder',options={'Label':'Name'};TriSysApex['ModalDialogue']['New']['Popup'](sMessage,'fa-folder',fnAddNewFolder,options);break;case'Request':if(!bSelectedDataSource&&!bSelectedFolder){TriSysApex['UI']['ShowMessage']('Please\x20select\x20a\x20data\x20source\x20or\x20a\x20folder.');return;}const fnAddNewRequest=function(sName){const sNewVerb='GET',sNewURL='https://api.service.com/namespace/function',newRequest={'RequestId':TriSysSDK['Miscellaneous']['GUID'](),'Name':sName,'Description':'Request'+sAddedBy,'Verb':sNewVerb,'Url':sNewURL,'Authorisation':{'Type':TriSysFlexiva['Settings']['Constants']['AuthorisationType_InheritFromParent'],'AddTo':TriSysFlexiva['Settings']['Constants']['AuthorisationAddTo_Header']}},newNode={'text':sName,'imageUrl':TriSysFlexiva['DataSources']['GUI']['VerbImage'](sNewVerb),'request':newRequest};var selectedNode=treeView['select'](),newNodeElement=treeView['append'](newNode,selectedNode),newTreeNode=$(newNodeElement);return treeView['select'](newTreeNode),treeView['trigger']('select',{'node':newTreeNode}),AppStudioDataSources['Persistence']['Save']('Added\x20new\x20request'),!![];};var sMessage='Add\x20New\x20Request',options={'Label':'Name'};TriSysApex['ModalDialogue']['New']['Popup'](sMessage,'gi-globe_af',fnAddNewRequest,options);break;}},'Copy':function(){const treeView=$('#'+AppStudioDataSources['Settings']['TreeViewID'])['data']('kendoTreeView');var selectedNode=treeView['select']();if(selectedNode['length']>0x0){var selectedDataItem=treeView['dataItem'](selectedNode),sClonedSuffix='\x20(Copy\x20'+moment()['format']('dddd\x20DD\x20MMMM\x20YYYY')+'\x20@\x20'+moment()['format']('HH:mm:ss')+')';const fnClone=function(sName){var parentNode=treeView['parent'](selectedNode),clonedDataItem=$['extend'](!![],{},selectedDataItem['toJSON']());clonedDataItem['text']=sName,clonedDataItem['dataSource']?clonedDataItem['dataSource']['Name']=sName:null,clonedDataItem['folder']?clonedDataItem['folder']['Name']=sName:null,clonedDataItem['request']?clonedDataItem['request']['Name']=sName:null;const newNodeElement=treeView['append'](clonedDataItem,parentNode),fnRecurse=function(rootNode){var dataItem=treeView['dataItem'](rootNode);if(!dataItem)return;if(dataItem['dataSource'])dataItem['dataSource']['DataSourceId']=TriSysSDK['Miscellaneous']['GUID']();else dataItem['request']&&(dataItem['request']['RequestId']=TriSysSDK['Miscellaneous']['GUID']());var children=$(rootNode)['find']('>\x20.k-group\x20>\x20li');children['each'](function(){fnRecurse(this);});};fnRecurse(newNodeElement);var newTreeNode=$(newNodeElement);return treeView['select'](newTreeNode),treeView['trigger']('select',{'node':newTreeNode}),AppStudioDataSources['Persistence']['Save']('Cloned\x20a\x20tree\x20node'),!![];},whatObject=AppStudioDataSources['GetWhatIsSelectedVisuals'](selectedDataItem);var sMessage='Clone\x20'+whatObject['What'],sNewName=selectedDataItem['text'];if(sNewName)sNewName=sNewName['replace'](/\(Copy.*\)$/,'')['trim']();sNewName+=sClonedSuffix;var options={'Label':'Name','Value':sNewName};TriSysApex['ModalDialogue']['New']['Popup'](sMessage,whatObject['Icon'],fnClone,options);}},'GetWhatIsSelectedVisuals':function(selectedDataItem){var sWhat='Data\x20Source',sIcon='fa-database';return selectedDataItem['folder']&&(sWhat='Folder',sIcon='fa-folder'),selectedDataItem['request']&&(sWhat='Request',sIcon='gi-globe_af'),{'What':sWhat,'Icon':sIcon};},'Import':function(){TriSysApex['UI']['ShowMessage']('Import\x20a\x20data\x20source\x20from\x20a\x20list\x20of\x20popular\x20sources...');},'SendRequest':function(){debugger;const selectedItem=AppStudioDataSources['SelectedTreeViewItem'],request=selectedItem&&selectedItem['request'];if(!request)return;if(!/^(http|https):\/\/.*/['test'](request['Url'])){TriSysApex['UI']['ErrorMessage']('The\x20request:\x20'+request['Url']+'\x20is\x20not\x20a\x20valid\x20URL.');return;}AppStudioDataSources['TestModeVisuals'](!![]);const fnCallback=function(error,data){AppStudioDataSources['TestModeVisuals'](![]);var sTab='ctrlDataSources-properties-request-tab-results';TriSysSDK['Controls']['Button']['Click'](sTab);var sData=null;if(error)sData=JSON['stringify'](error,null,0x4);else data!==null&&data!==undefined&&(typeof data==='boolean'?sData=data['toString']():sData=JSON['stringify'](data,null,0x4));sData=AppStudioDataSources['Miscellaneous']['syntaxHighlight'](sData),$('#ctrlDataSources-properties-request-panel-results-span')['html']('<pre>'+sData+'</pre>');if(data&&typeof data!=='boolean'){var lstField=AppStudioDataSources['Fields']['ExtractFieldsFromJSON'](data['DataTable']['List']);if(lstField){var lstColumn=AppStudioDataSources['Fields']['ExtractFieldsFromJSON'](data['Columns']);AppStudioDataSources['ConvertToTable'](AppStudioDataSources['Fields']['TableFriendly'](lstColumn),'columns'),AppStudioDataSources['ConvertToTable'](AppStudioDataSources['Fields']['TableFriendly'](lstField),'fields'),AppStudioDataSources['Fields']['LastRequestedFieldList']=lstField;if(AppStudioDataSources['Fields']['GetSortableListItemCount']()==0x0)AppStudioDataSources['Fields']['Refresh'](!![]);}AppStudioDataSources['ConvertToTable'](data['DataTable']['List'],'table'),AppStudioDataSources['ConvertToGrid'](data['DataTable']['List']);}},requestCopy=JSON['parse'](JSON['stringify'](request));var treeViewHierarchy=AppStudioDataSources['Persistence']['ReadTreeView'](AppStudioDataSources['Settings']['TreeViewID']);TriSysFlexiva['DataSources']['Requests']['DetermineSendRequestAuthorisation'](requestCopy,treeViewHierarchy);const sSendURLAfterURLConfirmed=function(sURL){requestCopy['Url']=sURL;if(requestCopy['Body']['Format']==TriSysFlexiva['Settings']['Constants']['BodyFormat_JSON']&&requestCopy['Body']['Json']&&requestCopy['Body']['Json']['indexOf'](':')>0x0){const sSendURLAfterJsonPayloadConfirmed=function(sJSON){return requestCopy['Body']['Json']=sJSON,TriSysFlexiva['DataSources']['Requests']['SendRequestToWebAPI'](requestCopy,fnCallback,{'DebugMessageCallback':AppStudioDataSources['AddDebugMessage'],'ParametersSubstituted':!![],'BodySubstituted':!![]}),!![];};var jsonPayloadOptions={'Instructions':'Please\x20confirm\x20the\x20request\x20Json\x20payload\x20which\x20will\x20be\x20submitted.\x20\x0a\x09\x09\x09\x09\x09\x09\x09Note\x20that\x20the\x20URL\x20parameters\x20have\x20already\x20been\x20replaced\x20with\x20custom\x20variables\x20which\x20you\x0a\x09\x09\x09\x09\x09\x09\x09can\x20both\x20view\x20and\x20override\x20at\x20your\x20convenience.','ButtonLabel':'Confirm\x20Json\x20Payload','Label':'Json','Value':requestCopy['Body']['Json'],'CancelFunction':function(){return AppStudioDataSources['TestModeVisuals'](![]),!![];},'CloseTopRightButtonFunction':function(){AppStudioDataSources['TestModeVisuals'](![]),TriSysApex['UI']['CloseModalPopup']();}};const fnSecondPrompt=function(){TriSysApex['ModalDialogue']['BigEdit']['Popup']('Edit\x20Json\x20Payload','gi-edit',sSendURLAfterJsonPayloadConfirmed,jsonPayloadOptions);};setTimeout(fnSecondPrompt,0x64);}else TriSysFlexiva['DataSources']['Requests']['SendRequestToWebAPI'](requestCopy,fnCallback,{'DebugMessageCallback':AppStudioDataSources['AddDebugMessage'],'ParametersSubstituted':!![]});return!![];},sURL=requestCopy['Url'];var options={'Instructions':'Please\x20confirm\x20the\x20request\x20URL\x20which\x20will\x20be\x20submitted.\x20\x0a\x09\x09\x09\x09\x09\x09\x09Note\x20that\x20the\x20URL\x20parameters\x20have\x20already\x20been\x20replaced\x20with\x20custom\x20variables\x20which\x20you\x0a\x09\x09\x09\x09\x09\x09\x09can\x20both\x20view\x20and\x20override\x20at\x20your\x20convenience.','ButtonLabel':'Confirm\x20Request\x20URL','Label':'URL','Value':sURL,'CancelFunction':function(){return AppStudioDataSources['TestModeVisuals'](![]),!![];},'CloseTopRightButtonFunction':function(){AppStudioDataSources['TestModeVisuals'](![]),TriSysApex['UI']['CloseModalPopup']();}};TriSysApex['ModalDialogue']['BigEdit']['Popup']('Edit\x20Request\x20URL','gi-edit',sSendURLAfterURLConfirmed,options);},'AddDebugMessage':function(sMessage,bClearAll){const elemDebug=$('#ctrlDataSources-properties-request-panel-results-debug');if(bClearAll)elemDebug['html']('');if(sMessage)elemDebug['append'](moment()['format']('HH:mm:ss')+':\x20'+sMessage+'<br>');},'ConvertToTable':function(data,sSuffix){const fnDrawTable=function(objColumnsAndData,sSuffix){var data=objColumnsAndData['data'];const table=document['getElementById']('ctrlDataSources-properties-request-panel-results-'+sSuffix);table['style']['display']='block';const thead=table['querySelector']('thead'),tbody=table['querySelector']('tbody');thead['innerHTML']='',tbody['innerHTML']='';if(data['length']>0x0&&typeof data[0x0]==='object'){const keys=Object['keys'](data[0x0]),headerRow=document['createElement']('tr');keys['forEach'](key=>{const th=document['createElement']('th');th['textContent']=key,headerRow['appendChild'](th);}),thead['appendChild'](headerRow),data['forEach'](rowData=>{const row=document['createElement']('tr');keys['forEach'](key=>{const cell=document['createElement']('td');var sData=rowData[key];if(typeof sData==='string'&&sData&&sData['indexOf']('http')==0x0&&TriSysSDK['Controls']['FileManager']['isImageFile'](sData)){const img=document['createElement']('img');img['src']=sData,img['style']['width']='64px',cell['appendChild'](img);}else cell['textContent']=sData!==null?sData:'';row['appendChild'](cell);}),tbody['appendChild'](row);});}},flattenObject=function(obj,parent='',res={}){for(let key in obj){if(obj['hasOwnProperty'](key)){const propName=parent?parent+'.'+key:key;typeof obj[key]==='object'&&!Array['isArray'](obj[key])&&obj[key]!==null?flattenObject(obj[key],propName,res):res[propName]=obj[key];}}return res;},exampleData=[{'Client':'client1','Email':'client1@example.com','Subscription':'Trial','Country':'UK','Phone':'12345','Jolly':'Hockey','Stick':'St\x20Trinians','Jolly2':'Hockey','Stick2':'St\x20Trinians','Jolly3':'Hockey','Stick3':'St\x20Trinians','Jolly4':'Hockey','Stick4':'St\x20Trinians','Jolly5':'Hockey','Stick5':'St\x20Trinians','Jolly6':'Hockey','Stick6':'St\x20Trinians','Jolly7':'Hockey','Stick7':'St\x20Trinians','Jolly8':'Hockey','Stick8':'St\x20Trinians','Jolly9':'Hockey','Stick9':'St\x20Trinians'},{'Client':'client2','Email':'client2@example.com','Subscription':'VIP','Country':'US','Phone':'67890'},{'Client':'client3','Email':'client3@example.com','Subscription':'Basic','Country':'AU','Phone':'54321'}];fnDrawTable(AppStudioDataSources['fnTransformData'](data),sSuffix);return;},'fnTransformData':function(jsonData){let columns=[],data=[],objectName=null;return typeof jsonData==='object'&&!Array['isArray'](jsonData)?(objectName=Object['keys'](jsonData)[0x0],data=jsonData[objectName]):data=jsonData,data['length']>0x0&&(columns=Object['keys'](data[0x0])),{'objectName':objectName,'columns':columns,'data':data};},'ConvertToGrid':function(data){var objColumnsAndData=AppStudioDataSources['fnTransformData'](data),sGridID='ctrlDataSources-properties-request-panel-results-grid';$('#'+sGridID)['show']();var sGridName=sGridID-'-GridInstance',fnRowClickHandler=function(e,gridObject,gridLayout){var rowData=TriSysSDK['Grid']['GetFirstGridCheckedItem'](gridObject);if(rowData){}};const lstColumn=[],iColumnsToShow=0x5;objColumnsAndData['columns']['forEach'](function(sColumn,index){var bHidden=index>=iColumnsToShow,column={'field':sColumn,'title':sColumn,'type':'string','hidden':bHidden};lstColumn['push'](column);}),TriSysSDK['Grid']['VirtualMode']({'Div':sGridID,'ID':sGridName,'Title':objColumnsAndData['objectName'],'RecordsPerPage':TriSysApex['UserOptions']['RecordsPerPage'](),'SQL':null,'PopulationByObject':objColumnsAndData['data'],'Columns':lstColumn,'PersistColumnLayout':![],'MultiRowSelect':![],'Grouping':!![],'ColumnFilters':!![],'DrillDownFunction':function(rowData){var sRow='';lstColumn['forEach'](function(column){var sSelectedFieldValue=column['field']+':\x20'+rowData[column['field']];if(sRow['length']>0x0)sRow+='<br>';sRow+=sSelectedFieldValue;}),TriSysApex['UI']['ShowMessage'](sRow);},'RowClickHandler':fnRowClickHandler,'PostPopulationCallback':function(){TriSysSDK['Grid']['SelectFirstRow'](sridID);}}),setTimeout(function(){TriSysSDK['Grid']['SelectFirstRow'](sGridID);},0x3e8);},'TestModeVisuals':function(bTesting){var btn=$('#ctrlDataSources-Request-Test-Button'),spinner=$('#ctrlDataSources-Request-Spinner');bTesting?btn['hide']():btn['show'](),bTesting?spinner['show']():spinner['hide']();},'Delete':function(){const treeView=$('#'+AppStudioDataSources['Settings']['TreeViewID'])['data']('kendoTreeView');var selectedNode=treeView['select']();if(selectedNode['length']>0x0){const selectedDataItem=treeView['dataItem'](selectedNode),whatObject=AppStudioDataSources['GetWhatIsSelectedVisuals'](selectedDataItem),sMessage='Delete\x20'+whatObject['What']+':\x20'+selectedDataItem['text']+'?';TriSysApex['UI']['questionYesNo'](sMessage,'Delete','Yes',function(){return treeView['remove'](selectedNode),AppStudioDataSources['ShowProperties'](null),AppStudioDataSources['Persistence']['Save']('Deleted\x20a\x20tree\x20node'),!![];},'No');}},'Persistence':{'Configurator':null,'Save':function(sFromWhere){if(AppStudioDataSources['Persistence']['Configurator']['SelectionModeOnly'])return;AppStudioDataSources['Persistence']['SaveAndDebugTreeViewNodes'](),console['log']('AppStudioDataSources.Persistence.Save:\x20'+sFromWhere);},'SaveAndDebugTreeViewNodes':function(){var treeViewHierarchy=AppStudioDataSources['Persistence']['ReadTreeView'](AppStudioDataSources['Settings']['TreeViewID']);AppStudioDataSources['Persistence']['WriteToWebAPI'](treeViewHierarchy);},'WriteToWebAPI':function(treeViewHierarchy,fnCallback){const sJSON=JSON['stringify'](treeViewHierarchy),sBase64JSON=TriSysAPI['Encryption']['Base64']['encode'](sJSON);var payloadObject={};payloadObject['URL']='AppStudio/WriteCustomDataSources',payloadObject['OutboundDataPacket']={'JSON':sBase64JSON},payloadObject['InboundDataFunction']=function(CWriteCustomDataSourcesResponse){if(CWriteCustomDataSourcesResponse&&CWriteCustomDataSourcesResponse['Success']&&fnCallback)fnCallback(CWriteCustomDataSourcesResponse);},payloadObject['ErrorHandlerFunction']=function(request,status,error){console['log'](TriSysAPI['Data']['BaseAddress']()+':\x20'+status+':\x20'+error+'.\x20responseText:\x20'+request['responseText']);},TriSysAPI['Data']['PostToWebAPI'](payloadObject);},'ReadTreeView':function(sID){var treeView=$('#'+sID)['data']('kendoTreeView'),treeViewHierarchy=AppStudioDataSources['Persistence']['getTreeViewHierarchy'](treeView);return treeViewHierarchy;},'getTreeViewHierarchy':function(treeView){var hierarchy=[];function fnTraverseNodes(nodes){return nodes['map'](function(node){var item={'text':node['text'],'imageUrl':node['imageUrl'],'items':[]};if(node['dataSource'])item['dataSource']=node['dataSource'];if(node['folder'])item['folder']=node['folder'];return node['request']&&(item['request']=node['request'],item['attr']={'RequestId':node['request']['RequestId']}),node['items']&&node['items']['length']>0x0&&(item['items']=fnTraverseNodes(node['items'])),item;});}var rootNodes=treeView['dataSource']['view']();return hierarchy=fnTraverseNodes(rootNodes),hierarchy;},'Columns':[{'field':'DataSourceId','title':'Id','type':'number','width':0xdc,'hidden':!![]},{'field':'Name','title':'Name','type':'string','width':0xdc,'hidden':![]},{'field':'Created','title':'Created','type':'date','format':'{0:dd\x20MMM\x20yyyy\x20}'}],'TreeViewDataSource':function(){var lstItems=[],dataSources=AppStudioDataSources['Persistence']['DataSources'];const lstDataSource=[];return dataSources['forEach'](function(dataSource){const lstGroupItems=[];var fnEnumerateThroughFolders=function(folders){folders['forEach'](function(folder){const item={'text':folder['Name'],'imageUrl':AppStudioDataSources['Settings']['FolderImage'],'folder':folder};lstGroupItems['push'](item),folder['Requests']&&fnEnumerateThroughRequests(folder['Requests']);});},fnEnumerateThroughRequests=function(requests){requests['forEach'](function(request){var bAddRequest=!![];if(bAddRequest){const item={'text':request['Name'],'imageUrl':TriSysFlexiva['DataSources']['GUI']['VerbImage'](request['Verb']),'request':request};lstGroupItems['push'](item),request['Folders']&&fnEnumerateThroughFolders(request['Folders']);}});};dataSource['Requests']&&fnEnumerateThroughRequests(dataSource['Requests']);dataSource['Folders']&&fnEnumerateThroughFolders(dataSource['Folders']);const treeGroup={'text':dataSource['Name'],'sourceFolder':!![],'expanded':![],'draggable':![],'imageUrl':AppStudioDataSources['Settings']['DatabaseImage'],'dataSource':dataSource,'items':lstGroupItems};lstDataSource['push'](treeGroup);}),lstDataSource;},'DataSources':[{'DataSourceId':TriSysSDK['Miscellaneous']['GUID'](),'Name':'CustomGPT.ai','Description':'Wrapper\x20for\x20OpenAI\x20ChatGPT\x20which\x20we\x20use\x20on\x20numerous\x20Platformix\x20web\x20sites.','Created':'2024-10-08T11:00:00Z','UserId':0x1,'Authorisation':{'Type':'Bearer\x20Token','Basic':{'Username':'','Password':''},'BearerToken':'','APIKey':{'Key':'','Value':'','AddTo':'Header\x20or\x20Query\x20Parameters'}},'Requests':[{'RequestId':TriSysSDK['Miscellaneous']['GUID'](),'Verb':'GET','Url':'https://app.customgpt.ai/api/v1/projects/{{projectId}}/conversations','Name':'Get\x20all\x20conversations','Description':'Read\x20all\x20conversations\x20for\x20a\x20specific\x20project','Authorisation':{'Type':'Basic','Basic':{'Username':'','Password':''},'BearerToken':'','APIKey':{'Key':'','Value':'','AddTo':'Header\x20or\x20Query\x20Parameters'}},'Parameters':[{'Name':'projectId','Value':'8003','Required':!![]}],'Headers':[{'Key':'Content-Type','Value':'application/json','Description':'Not\x20required,\x20but\x20shown\x20as\x20an\x20example'}],'Body':{'Mode':'None','Form':[{'Key':'name','Value':'new\x20conversation'}],'JSON':{'key':'value'},'XML':'<key>value</key>'},'Scripts':{'PreRequest':'','PostResponse':''}}],'Folders':[{'Name':'Category\x201','Description':'A\x20folder\x20where\x20requests\x20can\x20be\x20grouped.'},{'Name':'Category\x202','Description':'Another\x20folder\x20where\x20requests\x20can\x20be\x20grouped.'}]},{'DataSourceId':TriSysSDK['Miscellaneous']['GUID'](),'Name':'TriSys\x20Web\x20API','Created':'2024-10-08T11:41:00Z','UserId':0x1,'Requests':[{'RequestId':TriSysSDK['Miscellaneous']['GUID'](),'Verb':'POST','Url':'https://www.flexiva.com/api/1','Name':'Post\x20all\x20data','Enabled':!![]},{'RequestId':TriSysSDK['Miscellaneous']['GUID'](),'Verb':'PUT','Url':'https://www.flexiva.com/api/1','Name':'Put\x20all\x20data','Enabled':!![]},{'RequestId':TriSysSDK['Miscellaneous']['GUID'](),'Verb':'PATCH','Url':'https://www.flexiva.com/api/1','Name':'Patch\x20all\x20data','Enabled':!![]},{'RequestId':TriSysSDK['Miscellaneous']['GUID'](),'Verb':'GET','Url':'https://www.flexiva.com/api/1','Name':'Get\x20all\x20data','Enabled':!![]},{'RequestId':TriSysSDK['Miscellaneous']['GUID'](),'Verb':'DELETE','Url':'https://www.flexiva.com/api/1','Name':'Delete\x20all\x20data','Enabled':!![]}]}],'DataSourcesTree':[{'text':'The\x20first\x20data\x20source\x20to\x20be\x20persisted.','imageUrl':'images/trisys/app-studio/database.png?ts=202410081400','items':[{'text':'Sub\x20Folder\x201','imageUrl':'images/trisys/app-studio/folder.png?ts=202410081401','items':[{'text':'A\x20post','imageUrl':'images/trisys/app-studio/POST-30x30.png?ts=202410090905','items':[],'request':{'RequestId':'e3828e8f-f21b-4a46-0eec-f63e0f306fe7','Name':'A\x20post','Description':'Request\x20added\x20by\x20Josie\x20Musto\x20on\x20Wednesday\x2009\x20October\x202024','Verb':'POST','Url':'https://api.service.com/namespace/function'}},{'text':'A\x20Patch','imageUrl':'images/trisys/app-studio/PATCH-30x30.png?ts=202410090905','items':[],'request':{'RequestId':'28402764-1d48-c990-9c15-eb52b53b9e68','Name':'A\x20Patch','Description':'Request\x20added\x20by\x20Josie\x20Musto\x20on\x20Wednesday\x2009\x20October\x202024','Verb':'PATCH','Url':'https://api.service.com/namespace/function'}},{'text':'A\x20Get','imageUrl':'images/trisys/app-studio/GET-30x30.png?ts=202410090905','items':[],'request':{'RequestId':'cf442c89-486b-bafb-accd-5457807b20c9','Name':'A\x20Get','Description':'Request\x20added\x20by\x20Josie\x20Musto\x20on\x20Wednesday\x2009\x20October\x202024','Verb':'GET','Url':'https://api.service.com/namespace/function'}}],'folder':{'FolderId':'df31293b-b524-99a3-dead-a969bf38d7a9','Name':'Sub\x20Folder\x201','Description':'Folder\x20added\x20by\x20Josie\x20Musto\x20on\x20Wednesday\x2009\x20October\x202024.'}},{'text':'Sub\x20Folder\x202','imageUrl':'images/trisys/app-studio/folder.png?ts=202410081401','items':[{'text':'A\x20Delete','imageUrl':'images/trisys/app-studio/DELETE-30x30.png?ts=202410090905','items':[],'request':{'RequestId':'32453ad4-7032-5e9b-28ed-86d52ac21ce4','Name':'A\x20Delete','Description':'Request\x20added\x20by\x20Josie\x20Musto\x20on\x20Wednesday\x2009\x20October\x202024','Verb':'DELETE','Url':'https://api.service.com/namespace/function'}},{'text':'A\x20post\x20(Copy\x20Wednesday\x2009\x20October\x202024\x20@\x2016:43:32)','imageUrl':'images/trisys/app-studio/POST-30x30.png?ts=202410090905','items':[],'request':{'RequestId':'8802d49e-cb5f-239e-795b-7e7489a19e77','Name':'A\x20post\x20(Copy\x20Wednesday\x2009\x20October\x202024\x20@\x2016:43:32)','Description':'Request\x20added\x20by\x20Josie\x20Musto\x20on\x20Wednesday\x2009\x20October\x202024','Verb':'POST','Url':'https://api.service.com/namespace/function'}},{'text':'A\x20Patch\x20(Copy\x20Wednesday\x2009\x20October\x202024\x20@\x2016:43:41)','imageUrl':'images/trisys/app-studio/PATCH-30x30.png?ts=202410090905','items':[],'request':{'RequestId':'9f8104d5-f690-ef88-32f6-02b7cceabe11','Name':'A\x20Patch\x20(Copy\x20Wednesday\x2009\x20October\x202024\x20@\x2016:43:41)','Description':'Request\x20added\x20by\x20Josie\x20Musto\x20on\x20Wednesday\x2009\x20October\x202024','Verb':'PATCH','Url':'https://api.service.com/namespace/function'}}],'folder':{'FolderId':'4bcdf2c7-fd7f-c300-67ec-b9a2c3adc6b2','Name':'Sub\x20Folder\x202','Description':'Folder\x20added\x20by\x20Josie\x20Musto\x20on\x20Wednesday\x2009\x20October\x202024'}},{'text':'Sub\x20Folder\x203','imageUrl':'images/trisys/app-studio/folder.png?ts=202410081401','items':[{'text':'A\x20Put','imageUrl':'images/trisys/app-studio/PUT-30x30.png?ts=202410090905','items':[],'request':{'RequestId':'f7982f3a-8c48-d4e8-c23a-5973c1def11f','Name':'A\x20Put','Description':'Request\x20added\x20by\x20Josie\x20Musto\x20on\x20Wednesday\x2009\x20October\x202024','Verb':'PUT','Url':'https://api.service.com/namespace/function'}},{'text':'A\x20Get\x20(Copy\x20Wednesday\x2009\x20October\x202024\x20@\x2016:43:26)','imageUrl':'images/trisys/app-studio/GET-30x30.png?ts=202410090905','items':[],'request':{'RequestId':'df48c4ef-be80-cd37-524a-d86774e47b30','Name':'A\x20Get\x20(Copy\x20Wednesday\x2009\x20October\x202024\x20@\x2016:43:26)','Description':'Request\x20added\x20by\x20Josie\x20Musto\x20on\x20Wednesday\x2009\x20October\x202024','Verb':'GET','Url':'https://api.service.com/namespace/function'}}],'folder':{'FolderId':'74e2d87c-5517-9cc1-e228-a387637843a8','Name':'Sub\x20Folder\x203','Description':'Folder\x20added\x20by\x20Josie\x20Musto\x20on\x20Wednesday\x2009\x20October\x202024'}}],'dataSource':{'DataSourceId':'9aa802dd-dcc7-8106-8351-628d2c59e1ae','Name':'The\x20first\x20data\x20source\x20to\x20be\x20persisted.','Description':'Data\x20Source\x20added\x20by\x20Josie\x20Musto\x20on\x20Wednesday\x2009\x20October\x202024','Created':'2024-10-09T15:08:03.708Z','UserId':0x2ea}}]},'Variables':{'_LastFocusedElement':null,'_MonacoEditor':null,'InitialiseVariableSubSystem':function(codeEditor){AppStudioDataSources['Variables']['_MonacoEditor']=codeEditor,AppStudioDataSources['Variables']['RegisterTextBoxEvents']();const monacoEditor=AppStudioDataSources['Variables']['_MonacoEditor'];monacoEditor['onDidFocusEditorText'](()=>{AppStudioDataSources['Variables']['_LastFocusedElement']={'type':'monaco','element':monacoEditor,'position':monacoEditor['getPosition'](),'selection':monacoEditor['getSelection']()};});},'RegisterTextBoxEvents':function(id){const sPrefix=id?'#'+id+'\x20':'';$(sPrefix+'input,\x20textarea')['on']('focus\x20click',function(){AppStudioDataSources['Variables']['_LastFocusedElement']={'type':'input','element':this,'start':this['selectionStart'],'end':this['selectionEnd']};});},'PasteAtCursor':function(textToPaste){const lastFocusedElement=AppStudioDataSources['Variables']['_LastFocusedElement'];console['log']('Pasting:',textToPaste),console['log']('LastFocusedElement:',lastFocusedElement);if(!lastFocusedElement)return;if(lastFocusedElement['type']==='input'){const element=lastFocusedElement['element'],start=lastFocusedElement['start'],end=lastFocusedElement['end'],currentValue=$(element)['val'](),newValue=currentValue['substring'](0x0,start)+textToPaste+currentValue['substring'](end);$(element)['val'](newValue)['trigger']('change'),element['setSelectionRange'](start+textToPaste['length'],start+textToPaste['length']),element['focus']();}else{if(lastFocusedElement['type']==='monaco'){const editor=lastFocusedElement['element'],selection=editor['getSelection']();editor['executeEdits']('',[{'range':selection,'text':textToPaste,'forceMoveMarkers':!![]}]),editor['focus']();}}},'Insert':function(clickedElement){const lstVariableName=TriSysFlexiva['CustomVariables']['Management']['ListOfAllVariables']({'ListOfStringsOnly':!![],'Sort':!![],'AddBlankTopAndSelected':!![]}),fnSelectedCustomVariable=function(sVariableName){if(sVariableName&&sVariableName!=='')return AppStudioDataSources['Variables']['PasteAtCursor'](TriSysFlexiva['Variables']['DisplayFormat'](sVariableName)),!![];else TriSysApex['UI']['ShowMessage']('You\x20must\x20select\x20a\x20custom\x20variable\x20from\x20the\x20list.');};var sMessage='Insert\x20a\x20Custom\x20Variable',options={'Instructions':'Please\x20choose\x20one\x20of\x20these\x20custom\x20variables:<br><br>','ComboLabel':'Variable','ComboList':lstVariableName,'SaveButtonText':'Select'};TriSysApex['ModalDialogue']['Combo']['Popup'](sMessage,'gi-pencil',fnSelectedCustomVariable,options);}},'Fields':{'_Request':null,'DisplayRequestFields':function(request){AppStudioDataSources['Fields']['_Request']=request,AppStudioDataSources['Fields']['RemoveAllSortableListItems']();var fnBlankFieldProperties=function(){const field={'Field':'','Type':TriSysFlexiva['Settings']['Constants']['FieldType_Null'],'Caption':'','Values':''};AppStudioDataSources['Fields']['DisplayFieldProperties'](field);};if(request['Fields'])AppStudioDataSources['Fields']['DisplayFieldsInList'](request['Fields']);else fnBlankFieldProperties();},'DisplayFieldsInList':function(lstField){function createFieldsSortableList(fields,containerId,onFieldClick,onFieldDelete,onFieldDrop){const configurator=AppStudioDataSources['Persistence']['Configurator'],$list=$('<div\x20id=\x22'+containerId+'-sortable\x22\x20class=\x22sortable-list\x22></div>');fields=fields['filter'](field=>field!==null&&field!==undefined&&field['Field']!==null&&field['Field']!==undefined),fields['forEach']((field,index)=>{const sDeleteFieldHTML='<a\x20class=\x22btn\x20btn-sm\x20btn-primary\x20enable-tooltip\x20delete-field-btn\x22\x20title=\x22Delete\x20this\x20field\x20from\x20this\x20list\x22>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<i\x20class=\x22gi\x20gi-remove\x22></i>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x20\x20</a>',sMoveFieldHTML='<span\x20class=\x22handle\x22><i\x20class=\x22gi\x20gi-move\x20trisys-theme\x22></i></span>',sColumnHTML='\x0a\x09\x09\x09\x09\x09\x09<div\x20class=\x22sortable-item\x22\x20data-field=\x22'+field['Field']+'\x22>'+(configurator['SelectionModeOnly']?'':sMoveFieldHTML)+('\x0a\x09\x09\x09\x09\x09\x09\x09<span\x20class=\x22field-name\x22>'+field['Field']+'</span>')+(configurator['SelectionModeOnly']?'':sDeleteFieldHTML)+'\x0a\x09\x09\x09\x09\x09\x09</div>\x0a\x09\x09\x09\x09\x09',$item=$(sColumnHTML);var sBase64=null;try{const sFieldJSON=JSON['stringify'](field);sBase64=TriSysAPI['Encryption']['Base64']['encode'](sFieldJSON),$item['attr']('data-field',sBase64);}catch(e){debugger;}$item['find']('.field-name')['on']('click',function(){$list['find']('.sortable-item')['removeClass']('selected'),$item['addClass']('selected'),onFieldClick&&onFieldClick(field);}),$item['find']('.delete-field-btn')['on']('click',function(e){e['stopPropagation']();if(AppStudioDataSources['Fields']['GetSortableListItemCount']()<=0x1){TriSysApex['UI']['ShowMessage']('You\x20must\x20have\x20at\x20least\x20one\x20field\x20in\x20the\x20list.');return;}const sMessage='Are\x20you\x20sure\x20you\x20want\x20to\x20delete\x20'+field['Field']+'\x20from\x20this\x20list?';TriSysApex['UI']['questionYesNo'](sMessage,'Delete\x20Field','Yes',function(){if(onFieldDelete){const $prevItem=$item['prev']('.sortable-item'),$nextItem=$item['next']('.sortable-item');$item['remove']();if($prevItem['length'])$prevItem['find']('.field-name')['trigger']('click');else $nextItem['length']?$nextItem['find']('.field-name')['trigger']('click'):onFieldClick&&onFieldClick(null);onFieldDelete(field);}return!![];},'No');}),$list['append']($item),index===0x0&&setTimeout(()=>{$item['find']('.field-name')['trigger']('click');},0x0);}),$('#'+containerId)['empty']()['append']($list),$list['kendoSortable']({'handler':'.handle,\x20.handle\x20*','hint':function(element){return element['clone']()['addClass']('sortable-hint');},'placeholder':function(element){return element['clone']()['addClass']('sortable-placeholder')['text']('Drop\x20field\x20here');},'change':function(e){const $droppedItem=$list['find']('.sortable-item[data-field=\x22'+e['item']['data']('field')+'\x22]');$droppedItem['find']('.field-name')['trigger']('click');if(onFieldDrop)onFieldDrop($droppedItem);}});const styles='\x0a\x09\x09\x09\x09\x09#'+containerId+'\x20.sortable-list\x20.sortable-item\x20.handle\x20.gi-move\x20{\x0a\x09\x09\x09\x09\x09\x09color:\x20var(--trisys-theme)\x20!important;\x0a\x09\x09\x09\x09\x09}\x0a\x0a\x09\x09\x09\x09\x09#'+containerId+'\x20.sortable-list\x20.sortable-item\x20.field-name:hover\x20{\x0a\x09\x09\x09\x09\x09\x09color:\x20var(--trisys-theme)\x20!important;\x0a\x09\x09\x09\x09\x09}\x0a\x0a\x09\x09\x09\x09\x09/*\x20Rest\x20of\x20your\x20styles\x20*/\x0a\x09\x09\x09\x09\x09#'+containerId+'\x20.sortable-list\x20{\x0a\x09\x09\x09\x09\x09\x09padding:\x205px;\x0a\x09\x09\x09\x09\x09}\x0a\x09\x09\x09\x09\x09#'+containerId+'\x20.sortable-list\x20.sortable-item\x20{\x0a\x09\x09\x09\x09\x09\x09padding:\x205px;\x0a\x09\x09\x09\x09\x09\x09margin:\x204px\x200;\x0a\x09\x09\x09\x09\x09\x09background:\x20white;\x0a\x09\x09\x09\x09\x09\x09border:\x201px\x20solid\x20#e0e0e0;\x0a\x09\x09\x09\x09\x09\x09border-radius:\x204px;\x0a\x09\x09\x09\x09\x09\x09display:\x20flex;\x0a\x09\x09\x09\x09\x09\x09align-items:\x20center;\x0a\x09\x09\x09\x09\x09\x09cursor:\x20default;\x0a\x09\x09\x09\x09\x09}\x0a\x09\x09\x09\x09\x09#'+containerId+'\x20.sortable-list\x20.sortable-item\x20.handle\x20{\x0a\x09\x09\x09\x09\x09\x09cursor:\x20move;\x0a\x09\x09\x09\x09\x09\x09padding:\x200\x205px;\x0a\x09\x09\x09\x09\x09}\x0a\x09\x09\x09\x09\x09#'+containerId+'\x20.sortable-list\x20.sortable-item\x20.field-name\x20{\x0a\x09\x09\x09\x09\x09\x09flex:\x201;\x0a\x09\x09\x09\x09\x09\x09padding:\x200\x205px;\x0a\x09\x09\x09\x09\x09\x09cursor:\x20pointer;\x0a\x09\x09\x09\x09\x09}\x0a\x09\x09\x09\x09\x09.sortable-hint\x20{\x0a\x09\x09\x09\x09\x09\x09opacity:\x200.6;\x0a\x09\x09\x09\x09\x09}\x0a\x09\x09\x09\x09\x09.sortable-placeholder\x20{\x0a\x09\x09\x09\x09\x09\x09opacity:\x200.3;\x0a\x09\x09\x09\x09\x09\x09border:\x201px\x20dashed\x20#999;\x0a\x09\x09\x09\x09\x09}\x0a\x0a\x09\x09\x09\x09\x09/*\x20Add\x20this\x20to\x20your\x20existing\x20styles\x20*/\x0a\x09\x09\x09\x09\x09#'+containerId+'\x20.sortable-list\x20.sortable-item.selected\x20{\x0a\x09\x09\x09\x09\x09\x09background-color:\x20#f9f9f9;\x0a\x09\x09\x09\x09\x09}\x0a\x09\x09\x09\x09',styleId=containerId+'-sortable-list-styles',existingStyle=document['getElementById'](styleId);existingStyle&&existingStyle['remove']();const styleElement=document['createElement']('style');styleElement['id']=styleId,styleElement['textContent']=styles,document['head']['appendChild'](styleElement);}createFieldsSortableList(lstField,AppStudioDataSources['Settings']['FieldsListID'],field=>{const elem=AppStudioDataSources['Fields']['GetListItemDOMelement'](field['Field']);field=AppStudioDataSources['Fields']['GetFieldFromDOMelement'](elem),AppStudioDataSources['Fields']['DisplayFieldProperties'](field);},field=>{AppStudioDataSources['Fields']['WriteToWebAPI']();},field=>{AppStudioDataSources['Fields']['WriteToWebAPI']();});},'WriteToWebAPI':function(){var lstField=AppStudioDataSources['Fields']['GetSortableListItemsInOrder']();console['log'](lstField),AppStudioDataSources['Fields']['_Request']['Fields']=lstField,AppStudioDataSources['Persistence']['Save']('Request\x20fields\x20updated');},'ChangedFieldProperty':function(sValue,sFieldID){const field=AppStudioDataSources['Fields']['GetSelectedListItem']();if(field){const sPrefix='ctrlDataSources-properties-request-panel-fields-';switch(sFieldID){case sPrefix+'FieldType':field['Type']=sValue;break;case sPrefix+'FieldCaption':field['Caption']=sValue;break;case sPrefix+'FieldVisible':field['Visible']=sValue;break;case sPrefix+'FieldKey':field['Key']=sValue;break;}const elem=AppStudioDataSources['Fields']['GetListItemDOMelement'](field['Field']);if(elem){const sBase64=TriSysAPI['Encryption']['Base64']['encode'](JSON['stringify'](field));elem['attr']('data-field',sBase64),AppStudioDataSources['Fields']['WriteToWebAPI']();}}},'GetSortableListItemCount':function(){return $('#'+AppStudioDataSources['Settings']['FieldsListID']+'-sortable\x20.sortable-item')['length'];},'RemoveAllSortableListItems':function(){$('#'+AppStudioDataSources['Settings']['FieldsListID']+'-sortable')['empty']();},'GetFieldFromDOMelement':function($element){try{const sBase64=$element['attr']('data-field'),sJSON=TriSysAPI['Encryption']['Base64']['decode'](sBase64),field=JSON['parse'](sJSON);return field;}catch(e){}},'GetSortableListItemsInOrder':function(){const fieldOrder=[],elem=$('#'+AppStudioDataSources['Settings']['FieldsListID']+'-sortable\x20.sortable-item');return elem&&elem['length']>0x0&&elem['each'](function(){const field=AppStudioDataSources['Fields']['GetFieldFromDOMelement']($(this));fieldOrder['push'](field);}),fieldOrder;},'GetSelectedListItem':function(){const $selectedItem=$('#'+AppStudioDataSources['Settings']['FieldsListID']+'-sortable\x20.sortable-item.selected');if($selectedItem['length']>0x0){const field=AppStudioDataSources['Fields']['GetFieldFromDOMelement']($selectedItem);return field;}},'GetListItemDOMelement':function(sFieldName){return $('#'+AppStudioDataSources['Settings']['FieldsListID']+'-sortable\x20.sortable-item\x20.field-name')['filter'](function(){return $(this)['text']()===sFieldName;})['closest']('.sortable-item');},'Refresh':function(bSupressPrompt){const fnRefresh=function(){const lstField=AppStudioDataSources['Fields']['LastRequestedFieldList'];return lstField?(AppStudioDataSources['Fields']['DisplayFieldsInList'](lstField),AppStudioDataSources['Fields']['WriteToWebAPI'](),!![]):(TriSysApex['UI']['ShowMessage']('Please\x20send\x20the\x20test\x20request\x20to\x20get\x20the\x20list\x20of\x20available\x20fields.'),![]);};if(bSupressPrompt)fnRefresh();else{const sMessage='Are\x20you\x20sure\x20you\x20want\x20to\x20refresh\x20this\x20list?\x0a\x09\x09\x09\x09\x09<br>Warning:\x20All\x20previously\x20configured\x20field\x20properties\x20will\x20be\x20lost.';TriSysApex['UI']['questionYesNo'](sMessage,'Refresh\x20Available\x20Fields','Yes',function(){return fnRefresh();},'No');}},'DisplayFieldProperties':function(field){if(!field)field={'Field':'Unknown\x20Error','Caption':'Field\x20is\x20null.\x20This\x20is\x20a\x20data\x20integrity\x20problem'};const sPrefix='ctrlDataSources-properties-request-panel-fields-Field';TriSysSDK['CShowForm']['writeFieldValueToWidget'](sPrefix+'Name',field['Field'],{'FieldTypeId':TriSysSDK['Controls']['FieldTypes']['Text']}),TriSysSDK['CShowForm']['writeFieldValueToWidget'](sPrefix+'Type',field['Type'],{'FieldTypeId':TriSysSDK['Controls']['FieldTypes']['SkillCombo']}),TriSysSDK['CShowForm']['writeFieldValueToWidget'](sPrefix+'Caption',field['Caption'],{'FieldTypeId':TriSysSDK['Controls']['FieldTypes']['Text']}),$('#'+sPrefix+'SampleValues')['text'](field['Values']),TriSysSDK['CShowForm']['writeFieldValueToWidget'](sPrefix+'Visible',field['Visible'],{'FieldTypeId':TriSysSDK['Controls']['FieldTypes']['YesNo']}),TriSysSDK['CShowForm']['writeFieldValueToWidget'](sPrefix+'Key',field['Key'],{'FieldTypeId':TriSysSDK['Controls']['FieldTypes']['YesNo']}),TriSysSDK['CShowForm']['writeFieldValueToWidget'](sPrefix+'KeyVariable',field['KeyVariable'],{'FieldTypeId':TriSysSDK['Controls']['FieldTypes']['Text']});},'TableFriendly':function(lstField){const iMaxCharacters=0x80;if(!Array['isArray'](lstField))return lstField;for(let i=0x0;i<lstField['length'];i++){let field=lstField[i];if(!field)continue;typeof field==='string'&&(lstField[i]={'Field':field,'Type':'String','Values':'0\x20values:\x20','Visible':!![],'Caption':field},field=lstField[i]);if(field['Values']===undefined){field['Values']='0\x20values:\x20';continue;}try{if(typeof field['Values']==='string')!field['Values']['match'](/^\d+\s+values:/)&&(field['Values']='1\x20values:\x20'+field['Values']);else{if(Array['isArray'](field['Values']))field['Values']=field['Values']['length']+'\x20values:\x20'+field['Values']['join'](',\x20');else{if(field['Values']instanceof Set){const valuesArray=Array['from'](field['Values']);field['Values']=valuesArray['length']+'\x20values:\x20'+valuesArray['join'](',\x20');}else typeof field['Values']==='object'&&field['Values']!==null?field['Values']='1\x20values:\x20'+JSON['stringify'](field['Values']):field['Values']='1\x20values:\x20'+String(field['Values']);}}typeof field['Values']==='string'&&field['Values']['length']>iMaxCharacters&&(field['Values']=field['Values']['substring'](0x0,iMaxCharacters)+'...');}catch(error){console['log']('Error\x20formatting\x20field:',field['Field'],error),field['Values']='0\x20values:\x20';}}return lstField;},'ExtractFieldsFromJSON':function(jsonData){const fields=[],processedFields=new Set();function traverseAndCollectFields(obj){if(!obj)return;if(Array['isArray'](obj)){obj['forEach'](item=>{typeof item==='object'&&item!==null&&traverseAndCollectFields(item);});return;}typeof obj==='object'&&Object['entries'](obj)['forEach'](([key,value])=>{if(!processedFields['has'](key)){processedFields['add'](key);let fieldType='String';if(typeof value==='number')fieldType='Number';else{if(typeof value==='boolean')fieldType='Boolean';else{if(value===null)fieldType='Null';else Array['isArray'](value)&&(fieldType='Array');}}const field={'Field':key,'Type':fieldType,'Values':value,'Visible':!![],'Caption':key};fields['push'](field);}if(typeof value==='object'&&value!==null)traverseAndCollectFields(value);else{if(typeof value==='string')try{const parsedValue=JSON['parse'](value);typeof parsedValue==='object'&&parsedValue!==null&&traverseAndCollectFields(parsedValue);}catch(e){}}});}return traverseAndCollectFields(jsonData),fields['sort']((a,b)=>a['Field']['localeCompare'](b['Field']));},'Create':function(field){function determineType(allValues){const validValues=Array['from'](allValues)['filter'](v=>v!==null&&v!==undefined&&v!=='');if(validValues['length']===0x0)return TriSysFlexiva['Settings']['Constants']['FieldType_Null'];const sampleValue=validValues[0x0];if(Array['isArray'](sampleValue))return TriSysFlexiva['Settings']['Constants']['FieldType_Array'];if(typeof sampleValue==='boolean')return TriSysFlexiva['Settings']['Constants']['FieldType_Boolean'];if(typeof sampleValue!=='string')return TriSysSDK['Miscellaneous']['CamelCase'](typeof sampleValue,!![]);const isoDatePattern=/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}/,slashDatePattern=/^\d{4}\/\d{2}\/\d{2}$|^\d{2}\/\d{2}\/\d{4}$/,textDatePattern=/^\d{1,2}\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)[a-z]*\s\d{4}$/i;if(validValues['every'](v=>isoDatePattern['test'](v)||slashDatePattern['test'](v)||textDatePattern['test'](v)))return TriSysFlexiva['Settings']['Constants']['FieldType_Date'];return TriSysFlexiva['Settings']['Constants']['FieldType_String'];}const createdFieldObject={'Field':field['Field'],'Type':determineType(field['Values']),'Values':Array['from'](field['Values'])['filter'](v=>v!==null&&v!==undefined&&v!==''&&v!=='?'),'Visible':!![]};return createdFieldObject['Caption']=field['Field']['replace'](/_/g,'\x20')['replace'](/-/g,'\x20')['replace'](/\./g,'\x20'),createdFieldObject['Caption']=TriSysSDK['Miscellaneous']['CamelCase'](createdFieldObject['Caption'],!![]),createdFieldObject['Caption']=TriSysSDK['Miscellaneous']['CamelCaseToMultipleWords'](createdFieldObject['Caption']),createdFieldObject;},'DataSourceParameterFields':function(iRow,iColumnIndex,fieldElement){switch(iColumnIndex){case 0x0:fieldElement['attr']('readonly','readonly');break;case 0x1:fieldElement['on']('keydown\x20keypress',function(e){return e['preventDefault'](),![];});break;}},'AddDataSourceParameterFieldRow':function(options){const configurator=AppStudioDataSources['Persistence']['Configurator'],lstField=AppStudioDataSources['Fields']['_Request']['Fields'];debugger;if(!lstField)return;const lstFieldName=[];lstField['forEach'](function(field){lstFieldName['push'](field['Field']);}),lstFieldName['sort']();const lstVariables=TriSysFlexiva['CustomVariables']['Management']['ListOfAllVariables']({'ListOfStringsOnly':!![],'Sort':!![]});var fnNewParameter=function(sDescription,sFieldName,lstAdditionalValue){const sCustomVariableName=lstAdditionalValue[0x0],sCustomVariableValue=TriSysFlexiva['Settings']['Constants']['CustomVariablePrefix']+sCustomVariableName+TriSysFlexiva['Settings']['Constants']['CustomVariableSuffix'],newRowItem={'Key':sFieldName,'Value':sCustomVariableValue,'Description':sDescription};return ctrlKeyValuePairsTable['AddRow'](options,newRowItem),ctrlKeyValuePairsTable['SendUpdatedDataToHostingForm'](options),!![];},sMessage='Add\x20a\x20New\x20Data\x20Source\x20Request\x20Parameter',comboOptions={'Instructions':'Please\x20select\x20a\x20field\x20and\x20a\x20custom\x20variable\x20in\x20order\x20to\x20bind\x20the\x20remote\x20request\x20to\x20data\x20in\x20this\x20application.','TextLabel':'Description','TextLabelPositionRow':0x3,'ComboLabel':'Field','ComboList':lstFieldName,'AdditionalComboList':[{'Label':'Custom\x20Variable','List':lstVariables}]};TriSysApex['ModalDialogue']['NewWithCombo']['Popup'](sMessage,'gi-settings',fnNewParameter,comboOptions);}},'Miscellaneous':{'syntaxHighlight':function(json){return typeof json!='string'&&(json=JSON['stringify'](json,null,0x4)),json=json['replace'](/&/g,'&amp;')['replace'](/</g,'&lt;')['replace'](/>/g,'&gt;'),json['replace'](/("(\\u[a-zA-Z0-9]{4}|\\[^u]|[^\\"])*"(\s*:)?|\b(true|false|null)\b|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)/g,function(match){var cls='json-value';if(/^"/['test'](match))/:$/['test'](match)&&(cls='json-key');else{if(/true|false/['test'](match))cls='json-boolean';else/null/['test'](match)?cls='json-null':cls='json-number';}return'<span\x20class=\x22'+cls+'\x22>'+match+'</span>';});}},'ClaudeAI':{'findNodeWithRequestId':function(requestId){const treeView=$('#'+AppStudioDataSources['Settings']['TreeViewID'])['data']('kendoTreeView');var targetNode=$('#'+AppStudioDataSources['Settings']['TreeViewID']+'\x20li[requestid=\x22'+requestId+'\x22]');if(targetNode['length']){var parents=targetNode['parents']('li');parents['each'](function(){treeView['expand']($(this));}),treeView['select'](targetNode),treeView['trigger']('select',{'node':targetNode}),targetNode[0x0]['scrollIntoView']();}}},'Settings':{'GridID':'ctrlDataSources-Grid','TreeViewID':'ctrlDataSources-TreeView','DatabaseImage':'images/trisys/app-studio/database.png?ts=202410081400','FolderImage':'images/trisys/app-studio/folder.png?ts=202410081401','DataSourceAuthorisationAPIGridID':'ctrlDataSources-DataSource-Authorisation-KeyValuePairs-Grid','FolderAuthorisationAPIGridID':'ctrlDataSources-Folder-Authorisation-KeyValuePairs-Grid','RequestAuthorisationAPIGridID':'ctrlDataSources-Request-Authorisation-KeyValuePairs-Grid','RequestParametersGridID':'ctrlDataSources-properties-request-panel-parameters-grid','RequestHeadersGridID':'ctrlDataSources-properties-request-panel-headers-grid','RequestBodyGridID':'ctrlDataSources-properties-request-panel-body-grid','PropertiesTitleID':'ctrlDataSources-Properties-Title','PropertyNameID':'ctrlDataSources-Properties-Name','FieldsListID':'ctrlDataSources-properties-request-panel-fields-list'}};