var Test={'Load':function(){Test['PopulateToolbox'](),Test['InitializeSortable']();},'PopulateToolbox':function(){const lstTool=TriSysFlexiva['Forms']['Renderer']['Components']['Tools']();lstTool['sort'](function(a,b){return a['Name']['localeCompare'](b['Name']);});var sHTML='';lstTool['forEach'](function(component){var sCaption=component['Name'];sHTML+='<div\x20class=\x22sortable-item\x22>'+sCaption+'</div>';});var elemItemList=$('#pretend-toolbox');elemItemList['html'](sHTML);},'InitializeSortable':function(){var sConnectWith='.sortable-table-cell',sDivDropZones='#toolbox-zone',sAllZones='#toolbox-zone,\x20.sortable-table-cell';const iNumberOfZones=0x3;for(var i=0x1;i<=iNumberOfZones;i++){const sNewDivDropZone=',\x20#div-drop-zone'+i;sConnectWith+=sNewDivDropZone,sDivDropZones+=sNewDivDropZone,sAllZones+=sNewDivDropZone;}$('#toolbox-zone')['kendoSortable']({'filter':'.sortable-item','connectWith':sConnectWith,'placeholder':function(element){return element['clone']()['css']('visibility','hidden');},'hint':function(element){return element['clone']()['addClass']('sortable-hint');}});for(var i=0x1;i<=iNumberOfZones;i++){$('#div-drop-zone'+i)['kendoSortable']({'filter':'.sortable-item','connectWith':sAllZones,'placeholder':function(element){return element['clone']()['css']('visibility','hidden');}});}function cleanupEmptyRows(){setTimeout(Test['CleanUpEmptyRows'],0x3e8);}$('.sortable-table-cell')['kendoSortable']({'filter':'.sortable-item','connectWith':sDivDropZones,'placeholder':function(element){return element['clone']()['css']('visibility','hidden');},'change':function(e){if(e['action']==='receive'&&e['sender']['element']['hasClass']('sortable-table-cell')){var droppedItem=e['item']['detach'](),newRow=$('<tr>')['addClass']('table-drop-zone')['append']($('<td>')['addClass']('sortable-table-cell')['append'](droppedItem));$('.permanent-table-placeholder')['after'](newRow),newRow['find']('.sortable-table-cell')['kendoSortable']({'filter':'.sortable-item','connectWith':sAllZones,'placeholder':function(element){return element['clone']()['css']('visibility','hidden');},'hint':function(element){return element['clone']()['addClass']('sortable-hint');}});}},'move':function(e){cleanupEmptyRows();}});},'CleanUpEmptyRows':function(){$('.table-drop-zone')['not']('.permanent-table-placeholder')['each'](function(){$(this)['find']('.sortable-table-cell')['is'](':empty')&&$(this)['remove']();});}};$(document)['ready'](function(){Test['Load']();});