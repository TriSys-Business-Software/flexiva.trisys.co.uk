var ctrlNoteHistory={'Load':function(){TriSysActions['Forms']['TaskType']['Load']('ctrlNoteHistory-TaskType','ctrlNoteHistory-Selected-TaskType-Image','Note'),TriSysSDK['Controls']['Duration']['Initialise']('ctrlNoteHistory-Duration'),$('#ctrlNoteHistory-Create-NoteHistory')['on']('click',ctrlNoteHistory['OnCreateNoteHistoryClickEvent']);},'OnCreateNoteHistoryClickEvent':function(){var bCreateNoteHistory=ctrlNoteHistory['CreateNoteHistory']();if(bCreateNoteHistory){$('#ctrlNoteHistory-TaskType-tr')['show']();if(ctrlNoteHistory['AttributesLoaded']())$('#ctrlNoteHistory-Attributes-tr')['show']();$('#ctrlNoteHistory-Duration-tr')['show'](),$('#ctrlNoteHistory-Note-tr')['show']();}else{$('#ctrlNoteHistory-TaskType-tr')['hide']();if(ctrlNoteHistory['AttributesLoaded']())$('#ctrlNoteHistory-Attributes-tr')['hide']();$('#ctrlNoteHistory-Duration-tr')['hide'](),$('#ctrlNoteHistory-Note-tr')['hide']();}TriSysApex['FormsManager']['EntityUpdateController']['AsynchronousActionCreateNoteHistoryClick'](bCreateNoteHistory);},'DisplayAttributes':function(sCategory){var sAttributesID='ctrlNoteHistory-Attributes';TriSysActions['Forms']['Attributes']['Load'](sAttributesID,sCategory),$('#'+sAttributesID+'-tr')['show']();},'SetAttributes':function(sAttributeList){var sAttributesID='ctrlNoteHistory-Attributes';TriSysSDK['CShowForm']['SetSkillsInList'](sAttributesID,sAttributeList);},'AttributesLoaded':function(){var sAttributesID='ctrlNoteHistory-Attributes';return TriSysSDK['CShowForm']['isWidgetMultiSelectCombo'](sAttributesID);},'Validation':function(){var bCreateNoteHistory=ctrlNoteHistory['CreateNoteHistory'](),sTaskType=TriSysSDK['CShowForm']['GetTaskTypeFromCombo']('ctrlNoteHistory-TaskType'),sAttributes=TriSysSDK['CShowForm']['GetSelectedSkillsFromList']('ctrlNoteHistory-Attributes'),sDuration=TriSysSDK['Controls']['Duration']['Get']('ctrlNoteHistory-Duration'),sNotes=$('#ctrlNoteHistory-Notes')['val']();if(bCreateNoteHistory){var sError=null;if(!sNotes)sError='Please\x20enter\x20some\x20notes.';if(sError)return TriSysApex['UI']['ShowMessage'](sError),null;}var NoteHistoryData={'CreateNoteHistory':bCreateNoteHistory,'TaskType':sTaskType,'Attributes':sAttributes,'Duration':sDuration,'Notes':sNotes};return NoteHistoryData;},'SetTaskType':function(sTaskType){var sFieldID='ctrlNoteHistory-TaskType';TriSysSDK['CShowForm']['SetTaskTypeComboValue'](sFieldID,sTaskType),TriSysActions['Forms']['TaskType']['Icon'](sFieldID,'ctrlNoteHistory-Selected-TaskType-Image');},'SetNotes':function(sNotes){$('#ctrlNoteHistory-Notes')['val'](sNotes);},'GetNotes':function(){return $('#ctrlNoteHistory-Notes')['val']();},'CreateNoteHistory':function(){var bCreateNoteHistory=TriSysSDK['CShowForm']['CheckBoxValue']('ctrlNoteHistory-Create-NoteHistory');return bCreateNoteHistory;},'SetCreateNoteHistory':function(bCreateNoteHistory){TriSysSDK['CShowForm']['SetCheckBoxValue']('ctrlNoteHistory-Create-NoteHistory',bCreateNoteHistory),ctrlNoteHistory['OnCreateNoteHistoryClickEvent']();},'Reload':function(NoteHistoryData){if(!NoteHistoryData)return;ctrlNoteHistory['SetCreateNoteHistory'](NoteHistoryData['CreateNoteHistory']),ctrlNoteHistory['SetTaskType'](NoteHistoryData['TaskType']),ctrlNoteHistory['SetAttributes'](NoteHistoryData['Attributes']),TriSysSDK['Controls']['Duration']['Set']('ctrlNoteHistory-Duration',NoteHistoryData['Duration']),ctrlNoteHistory['SetNotes'](NoteHistoryData['Notes']);}};