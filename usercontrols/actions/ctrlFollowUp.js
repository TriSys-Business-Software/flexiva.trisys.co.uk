var ctrlFollowUp={'Load':function(){TriSysActions['Forms']['TaskType']['Load']('ctrlFollowUp-TaskType','ctrlFollowUp-Selected-TaskType-Image','Telephone\x20Call'),TriSysSDK['CShowForm']['dateTimePicker']('ctrlFollowUp-StartDateTime'),TriSysSDK['Controls']['Duration']['Initialise']('ctrlFollowUp-Duration'),TriSysSDK['Controls']['Duration']['Initialise']('ctrlFollowUp-LeadTime'),$('#ctrlFollowUp-Create-FollowUp')['on']('click',ctrlFollowUp['OnCreateFollowUpClickEvent']),$('#ctrlFollowUp-Set-Alarm')['on']('click',function(){ctrlFollowUp['OnAlarmClickEvent']();});},'OnCreateFollowUpClickEvent':function(){var bCreateFollowUp=ctrlFollowUp['CreateFollowUp']();if(bCreateFollowUp){$('#ctrlFollowUp-TaskType-tr')['show']();if(ctrlFollowUp['AttributesLoaded']())$('#ctrlFollowUp-Attributes-tr')['show']();$('#ctrlFollowUp-StartDateTime-tr')['show'](),$('#ctrlFollowUp-Duration-tr')['show'](),$('#ctrlFollowUp-Alarm-tr')['show'](),$('#ctrlFollowUp-LeadTime-tr')['show'](),ctrlFollowUp['OnAlarmClickEvent']();}else{$('#ctrlFollowUp-TaskType-tr')['hide']();if(ctrlFollowUp['AttributesLoaded']())$('#ctrlFollowUp-Attributes-tr')['hide']();$('#ctrlFollowUp-StartDateTime-tr')['hide'](),$('#ctrlFollowUp-Duration-tr')['hide'](),$('#ctrlFollowUp-Alarm-tr')['hide'](),$('#ctrlFollowUp-LeadTime-tr')['hide'](),$('#ctrlFollowUp-LeadTime-tr')['hide']();}},'OnAlarmClickEvent':function(){var bSetAlarm=TriSysSDK['CShowForm']['CheckBoxValue']('ctrlFollowUp-Set-Alarm');if(bSetAlarm)$('#ctrlFollowUp-LeadTime-tr')['show']();else $('#ctrlFollowUp-LeadTime-tr')['hide']();},'SetCreateFollowUp':function(bCreate){TriSysSDK['CShowForm']['SetCheckBoxValue']('ctrlFollowUp-Create-FollowUp',bCreate),ctrlFollowUp['OnCreateFollowUpClickEvent']();},'SetStartDateTime':function(dtStart){TriSysSDK['CShowForm']['setDateTimePickerValue']('ctrlFollowUp-StartDateTime',dtStart);},'SetAlarmLeadTime':function(sAlarmLeadTime){TriSysSDK['Controls']['Duration']['Set']('ctrlFollowUp-LeadTime',sAlarmLeadTime);},'CreateFollowUp':function(){var bCreateFollowUp=TriSysSDK['CShowForm']['CheckBoxValue']('ctrlFollowUp-Create-FollowUp');return bCreateFollowUp;},'DisplayAttributes':function(sCategory){var sAttributesID='ctrlFollowUp-Attributes';TriSysActions['Forms']['Attributes']['Load'](sAttributesID,sCategory),$('#'+sAttributesID+'-tr')['show']();},'AttributesLoaded':function(){var sAttributesID='ctrlFollowUp-Attributes';return TriSysSDK['CShowForm']['isWidgetMultiSelectCombo'](sAttributesID);},'SetAttributes':function(sAttributeList){var sAttributesID='ctrlFollowUp-Attributes';TriSysSDK['CShowForm']['SetSkillsInList'](sAttributesID,sAttributeList);},'SetTaskType':function(sTaskType){var sFieldID='ctrlFollowUp-TaskType';TriSysSDK['CShowForm']['SetTaskTypeComboValue'](sFieldID,sTaskType),TriSysActions['Forms']['TaskType']['Icon'](sFieldID,'ctrlFollowUp-Selected-TaskType-Image');},'Validation':function(){var bCreateFollowUp=ctrlFollowUp['CreateFollowUp'](),sTaskType=TriSysSDK['CShowForm']['GetTaskTypeFromCombo']('ctrlFollowUp-TaskType'),sAttributes=TriSysSDK['CShowForm']['GetSelectedSkillsFromList']('ctrlFollowUp-Attributes'),dtStart=TriSysSDK['CShowForm']['getDateTimePickerValue']('ctrlFollowUp-StartDateTime'),sDuration=TriSysSDK['Controls']['Duration']['Get']('ctrlFollowUp-Duration'),bAlarmed=TriSysSDK['CShowForm']['CheckBoxValue']('ctrlFollowUp-Set-Alarm'),sAlarmLeadTime=TriSysSDK['Controls']['Duration']['Get']('ctrlFollowUp-LeadTime');if(bCreateFollowUp){var sError=null;if(!dtStart)sError='Please\x20enter\x20a\x20Follow-Up\x20date/time.';if(sError)return TriSysApex['UI']['ShowMessage'](sError),null;}var followUpData={'CreateFollowUp':bCreateFollowUp,'TaskType':sTaskType,'Attributes':sAttributes,'StartDateTime':dtStart,'Duration':sDuration,'Alarmed':bAlarmed,'AlarmLeadTime':sAlarmLeadTime};return followUpData;},'Reload':function(followUpData){if(!followUpData)return;ctrlFollowUp['SetCreateFollowUp'](followUpData['CreateFollowUp']),ctrlFollowUp['SetTaskType'](followUpData['TaskType']),ctrlFollowUp['SetAttributes'](followUpData['Attributes']),TriSysSDK['Controls']['Duration']['Set']('ctrlFollowUp-Duration',followUpData['Duration']),TriSysSDK['CShowForm']['SetCheckBoxValue']('ctrlFollowUp-Set-Alarm',followUpData['Alarmed']),TriSysSDK['Controls']['Duration']['Set']('ctrlFollowUp-LeadTime',followUpData['AlarmLeadTime']);}};