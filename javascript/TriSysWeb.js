var TriSysWeb={'Copyright':{'AllRightsReserved':'TriSys\x20Business\x20Software','LongProductDescription':'Applicant\x20Tracking\x20System\x20for\x20Recruitment\x20Agencies','ShortProductName':'TriSysWeb','HomePage':'www.opuslaboris.com'},'Pages':{'Miscellaneous':{'InjectMobileFriendliness':function(){var jumbotronArray=document['getElementsByClassName']('jumbotron');for(var i=0x0;i<jumbotronArray['length'];i++){var item=jumbotronArray[i];item['style']['paddingTop']='1px',item['style']['paddingBottom']='1px';}$('#navbar-header')['css']('height','48px'),$('#header-SiteLogo')['css']('height','48px'),$('#pageForm-Title')['css']('font-size','16px'),$('#pageForm-Paragraph')['css']('font-size','12px'),$('#pageForm-Image')['css']('height','48px');}},'Login':{'PersistenceDiv':'cmbLoginPersistence','PersistCredentialsOn':function(){return TriSysSDK['Resources']['Message']('TriSysWeb.Pages.Login.PersistCredentialsOn');},'PersistCredentialsOff':function(){return TriSysSDK['Resources']['Message']('TriSysWeb.Pages.Login.PersistCredentialsOff');},'_RestorePasswordIfPersisted':!![],'Load':function(){var bAutomaticLoginCredentialsComplete=TriSysWeb['Pages']['Login']['AutomaticLoginCredentialsComplete'](),persistenceData=[{'value':TriSysWeb['Pages']['Login']['PersistCredentialsOn'](),'text':TriSysWeb['Pages']['Login']['PersistCredentialsOn']()},{'value':TriSysWeb['Pages']['Login']['PersistCredentialsOff'](),'text':TriSysWeb['Pages']['Login']['PersistCredentialsOff']()}];$('#txtLoginEMail')['focus']();var sEMailAddress='',sPassword='',credentialPacket=TriSysWeb['Security']['ReadPersistedLoginCredentials']();credentialPacket&&(sEMailAddress=credentialPacket['EMailAddress'],sPassword=credentialPacket['Password'],sEMailAddress&&setTimeout(function(){$('#txtLoginEMail')['val'](sEMailAddress);},TriSysApex['Constants']['iMillisecondsInSecond']),$('#txtLoginPassword')['focus'](),TriSysWeb['Pages']['Login']['_RestorePasswordIfPersisted']&&setTimeout(function(){$('#txtLoginPassword')['val'](sPassword);},TriSysApex['Constants']['iMillisecondsInSecond']),TriSysSDK['CShowForm']['SetCheckBoxValue']('login-remember-me',!![]));var bInDev=TriSysApex['Environment']['isDeployedInTestMode']();if(sEMailAddress&&sPassword&&!bInDev&&TriSysWeb['Pages']['Login']['_RestorePasswordIfPersisted']){setTimeout(TriSysWeb['Security']['LoginButtonClick'],TriSysApex['Constants']['iMillisecondsInSecond']*0x2);return;}TriSysPhoneGap['HideSplashScreen']();},'AutomaticLoginCredentialsComplete':function(){!TriSysApex['Constants']['TriSysHostedCRM']&&(TriSysApex['Constants']['DeveloperSiteKey']['indexOf']('apex.web.app')>0x0&&(TriSysAPI['Cookies']['CookiePrefix']=TriSysWeb['Constants']['Cookie_Prefix'],TriSysApex['Constants']['DeveloperSiteKey']=TriSysWeb['Constants']['DeveloperSiteKey'],TriSysAPI['Session']['SetDeveloperSiteKey'](TriSysWeb['Constants']['DeveloperSiteKey'])),TriSysApex['LoginCredentials']['ValidationMessageTitle']=TriSysWeb['Constants']['ApplicationName']+'\x20Login\x20Credentials');var credentialPacket=TriSysWeb['Security']['ReadPersistedLoginCredentials']();if(credentialPacket){sEMailAddress=credentialPacket['EMailAddress'],sPassword=credentialPacket['Password'];var bComplete=sEMailAddress&&sPassword;return bComplete;}return![];}},'ForgottenPassword':{'SendRequestToAPI':function(CAgencyForgottenPasswordRequest,sWaitMessage,fnSuccess,fnFailure){var bAsynchronous=!![],fnPostRequest=function(){TriSysApex['UI']['HideWait'](),fnSuccess();};TriSysApex['UI']['CloseModalPopup'](),TriSysApex['UI']['ShowWait'](null,sWaitMessage);var payloadObject={};payloadObject['URL']='Security/ForgottenAgencyClientOrCandidatePasswordRequest',payloadObject['OutboundDataPacket']=CAgencyForgottenPasswordRequest,payloadObject['InboundDataFunction']=function(data){var CAgencyForgottenPasswordResponse=data;if(CAgencyForgottenPasswordResponse){TriSysApex['UI']['HideWait']();if(CAgencyForgottenPasswordResponse['Success']){if(!bAsynchronous)fnPostRequest();}else fnFailure();}return!![];},payloadObject['ErrorHandlerFunction']=function(request,status,error){TriSysApex['UI']['ErrorHandlerRedirector']('SendRequestToAPI:\x20',request,status,error);},TriSysAPI['Data']['PostToWebAPI'](payloadObject);if(bAsynchronous)setTimeout(fnPostRequest,0xfa);}},'Contacts':{'PopulateGrid':function(sDiv,sGridName,sTitle,fnPopulationByFunction,columns,options){if(TriSysAPI['Operators']['isEmpty'](columns))columns=JSON['parse'](JSON['stringify'](TriSysWeb['Pages']['Contacts']['Columns']));var bMultiRowSelect=!TriSysApex['Device']['isPhone'](),bColumnFilters=!TriSysApex['Device']['isPhone'](),dynamicColumns=null,selectedRowsCounterId=null;options&&(dynamicColumns=options['DynamicColumns'],selectedRowsCounterId=options['SelectedRowsCounterId']);var sSearchCriteriaJson=null;if(options)sSearchCriteriaJson=options['Json'];TriSysSDK['Grid']['VirtualMode']({'Div':sDiv,'ID':sGridName,'Title':sTitle,'RecordsPerPage':TriSysApex['UserOptions']['RecordsPerPage'](),'PopulationByFunction':fnPopulationByFunction,'Columns':columns,'DynamicColumns':dynamicColumns,'MobileVisibleColumns':TriSysWeb['Pages']['Contacts']['MobileVisibleColumns'],'MobileRowTemplate':TriSysWeb['Pages']['Contacts']['MobileRowTemplate'],'KeyColumnName':'Contact_ContactId','DrillDownFunction':function(rowData){var lContactId=rowData['Contact_ContactId'];if(options){if(options['DrillDownFunction']){options['DrillDownFunction'](lContactId);return;}}TriSysApex['FormsManager']['OpenForm']('Contact',lContactId);},'PreviewButtonFunction':function(rowData){var lContactId=rowData['Contact_ContactId'];TriSysApex['EntityPreview']['Contact']['Open'](lContactId,sSearchCriteriaJson);},'PreviewButtonTooltip':'Contact\x20Preview','LinkedInButtonColumn':{'enabled':!![],'contactIdField':'Contact_ContactId'},'MultiRowSelect':bMultiRowSelect,'ColumnFilters':bColumnFilters,'Grouping':TriSysApex['UserOptions']['GridGrouping'](),'HyperlinkedColumns':['Contact_Christian','Contact_Surname','Contact_FullName'],'HyperlinkedEntities':{'EntityName':'Contact','Columns':[{'field':'Contact_Company','linkType':'Company'},{'field':'Contact_AddedByName','linkType':'User\x20Contact'},{'field':'Contact_EMail','linkType':'Function','fnCallback':function(row){TriSysSDK['Grid']['HyperlinkedColumns']['SpecialFields']['DrillDown'](row,'E-Mail','Contact_EMail');}},{'field':'Contact_HomeEMail','linkType':'Function','fnCallback':function(row){TriSysSDK['Grid']['HyperlinkedColumns']['SpecialFields']['DrillDown'](row,'E-Mail','Contact_HomeEMail');}},{'field':'Contact_WorkTelNo','linkType':'Function','fnCallback':function(row){TriSysSDK['Grid']['HyperlinkedColumns']['SpecialFields']['DrillDown'](row,'Phone','Contact_WorkTelNo');}},{'field':'Contact_MobileTelNo','linkType':'Function','fnCallback':function(row){TriSysSDK['Grid']['HyperlinkedColumns']['SpecialFields']['DrillDown'](row,'Phone','Contact_MobileTelNo');}},{'field':'Contact_MobileTelNo','linkType':'Function','fnCallback':function(row){TriSysSDK['Grid']['HyperlinkedColumns']['SpecialFields']['DrillDown'](row,'Phone','Contact_MobileTelNo');}},{'field':'Contact_WorkMobile','linkType':'Function','fnCallback':function(row){TriSysSDK['Grid']['HyperlinkedColumns']['SpecialFields']['DrillDown'](row,'Phone','Contact_WorkMobile');}},{'field':'Contact_HomeAddressTelNo','linkType':'Function','fnCallback':function(row){TriSysSDK['Grid']['HyperlinkedColumns']['SpecialFields']['DrillDown'](row,'Phone','Contact_HomeAddressTelNo');}}]},'SelectedRowsCounterId':selectedRowsCounterId});},'Columns':[{'field':'Contact_ContactId','title':'ID','type':'number','width':0x96,'hidden':!![]},{'field':'Contact_Christian','title':'Forename(s)','type':'string','width':0x96,'sticky':!![],'lockable':!![]},{'field':'Contact_Surname','title':'Surname','type':'string','width':0x96,'sticky':!![],'lockable':!![]},{'field':'Contact_FullName','title':'Full\x20Name','type':'string','width':0xfa,'sticky':!![],'lockable':!![],'hidden':!![]},{'field':'Contact_Company','title':'Company','type':'string','width':0xc8},{'field':'Contact_EMail','title':'Work\x20E-Mail','type':'string','width':0xc8},{'field':'Contact_HomeEMail','title':'Home\x20E-Mail','type':'string','width':0xc8},{'field':'Contact_WorkTelNo','title':'Work\x20Tel.\x20No','type':'string','width':0x96},{'field':'Contact_MobileTelNo','title':'Personal\x20Mobile','type':'string','width':0x96},{'field':'Contact_WorkMobile','title':'Work\x20Mobile','type':'string','hidden':!![],'width':0x96},{'field':'Contact_HomeAddressTelNo','title':'Home\x20Tel.\x20No','type':'string','width':0x96},{'field':'Contact_DateOfBirth','title':'Date\x20of\x20Birth','hidden':!![],'type':'date','width':0x96,'format':'{0:dd\x20MMM\x20yyyy\x20}'},{'field':'Contact_Title','title':'Title','type':'string','width':0x96,'hidden':!![]},{'field':'Contact_OwnerUser','title':'Owner\x20User','type':'string','width':0x96,'hidden':!![]},{'field':'Contact_CompanyAddressStreet','title':'Company\x20Street','type':'string','width':0x96,'hidden':!![]},{'field':'Contact_CompanyAddressCity','title':'Company\x20City','type':'string','width':0x96,'hidden':!![]},{'field':'Contact_CompanyAddressCounty','title':'Company\x20County','type':'string','width':0x96,'hidden':!![]},{'field':'Contact_CompanyAddressPostCode','title':'Company\x20Post/ZIP\x20Code','type':'string','width':0x96,'hidden':!![]},{'field':'Contact_CompanyAddressCountry','title':'Company\x20Country','type':'string','width':0x96,'hidden':!![]},{'field':'Contact_HomeAddressStreet','title':'Home\x20Street','type':'string','width':0x96,'hidden':!![]},{'field':'Contact_HomeAddressCity','title':'Home\x20City','type':'string','width':0x96,'hidden':!![]},{'field':'Contact_HomeAddressCounty','title':'Home\x20County','type':'string','width':0x96,'hidden':!![]},{'field':'Contact_HomeAddressPostCode','title':'Home\x20Post/ZIP\x20Code','type':'string','width':0x96,'hidden':!![]},{'field':'Contact_HomeAddressCountry','title':'Home\x20Country','type':'string','width':0x96,'hidden':!![]},{'field':'Contact_ContactType','title':'Contact\x20Type','type':'string','width':0x96,'hidden':!![]},{'field':'Contact_JobTitle','title':'Job\x20Title','type':'string','width':0x96,'hidden':!![]},{'field':'Contact_AvailabilityDate','title':'Availability\x20Date','width':0x96,'hidden':!![],'type':'date','format':'{0:dd\x20MMM\x20yyyy\x20}'},{'field':'Contact_ContactSource','title':'Source','type':'string','width':0x96,'hidden':!![]},{'field':'Contact_Status','title':'Status','type':'string','width':0x96,'hidden':!![]},{'field':'Contact_DateLastUpdated','title':'Date\x20Last\x20Updated','width':0x96,'hidden':!![],'type':'date','format':'{0:dd\x20MMM\x20yyyy\x20}'},{'field':'Contact_AddedByName','title':'Added\x20By','type':'string','width':0x96,'hidden':!![]},{'field':'Contact_Comments','title':'Comments','type':'string','width':0x12c,'hidden':!![]}],'MobileVisibleColumns':[{'field':'Contact_Surname','title':'Contact\x20Details'}],'MobileRowTemplate':'<td\x20colspan=\x221\x22><strong>#:\x20Contact_Christian\x20#\x20#:\x20Contact_Surname\x20#</strong><br\x20/>#:\x20Contact_ContactType\x20#:\x20#:\x20Contact_Status\x20#<br\x20/>'+'<i>#:\x20Contact_JobTitle\x20#</i><br\x20/>#:\x20Contact_Company\x20#<hr></td>'},'Companies':{'PopulateGrid':function(sDiv,sGridName,sTitle,fnPopulationByFunction,columns,options){if(TriSysAPI['Operators']['isEmpty'](columns))columns=JSON['parse'](JSON['stringify'](TriSysWeb['Pages']['Companies']['Columns']));var bMultiRowSelect=!TriSysApex['Device']['isPhone'](),bColumnFilters=!TriSysApex['Device']['isPhone'](),dynamicColumns=null,selectedRowsCounterId=null;options&&(dynamicColumns=options['DynamicColumns'],selectedRowsCounterId=options['SelectedRowsCounterId']);var sSearchCriteriaJson=null;if(options)sSearchCriteriaJson=options['Json'];TriSysSDK['Grid']['VirtualMode']({'Div':sDiv,'ID':sGridName,'Title':sTitle,'RecordsPerPage':TriSysApex['UserOptions']['RecordsPerPage'](),'PopulationByFunction':fnPopulationByFunction,'Columns':columns,'DynamicColumns':dynamicColumns,'MobileVisibleColumns':TriSysWeb['Pages']['Companies']['MobileVisibleColumns'],'MobileRowTemplate':TriSysWeb['Pages']['Companies']['MobileRowTemplate'],'KeyColumnName':'Company_CompanyId','DrillDownFunction':function(rowData){var lCompanyId=rowData['Company_CompanyId'];TriSysApex['FormsManager']['OpenForm']('Company',lCompanyId);},'MultiRowSelect':bMultiRowSelect,'ColumnFilters':bColumnFilters,'Grouping':TriSysApex['UserOptions']['GridGrouping'](),'HyperlinkedColumns':['Company_Name'],'HyperlinkedEntities':{'EntityName':'Company','Columns':[{'field':'Company_WebPage','linkType':'Function','fnCallback':function(row){TriSysSDK['Grid']['HyperlinkedColumns']['SpecialFields']['DrillDown'](row,'WebPage','Company_WebPage');}},{'field':'Company_MainTelNo','linkType':'Function','fnCallback':function(row){TriSysSDK['Grid']['HyperlinkedColumns']['SpecialFields']['DrillDown'](row,'Phone','Company_MainTelNo');}}]},'SelectedRowsCounterId':selectedRowsCounterId});},'Columns':[{'field':'Company_CompanyId','title':'ID','type':'number','width':0x46,'hidden':!![]},{'field':'Company_Name','title':'Name','type':'string','width':0xc8,'sticky':!![],'lockable':!![]},{'field':'Company_WebPage','title':'Web\x20Page','type':'string','width':0xc8},{'field':'Company_MainTelNo','title':'Main\x20Tel.\x20No.','type':'string','width':0x96},{'field':'Company_Industry','title':'Industry','type':'string','width':0x96},{'field':'Company_Comments','title':'Comments','type':'string','hidden':!![],'width':0xc8}],'MobileVisibleColumns':[{'field':'Company_Name'}],'MobileRowTemplate':'<td\x20colspan=\x221\x22><strong>#:\x20Company_Name\x20#</strong><br\x20/>#:\x20Company_Industry\x20#<br\x20/>'+'<i>#:\x20Company_MainTelNo\x20#</i><br\x20/>#:\x20Company_Comments\x20#<hr></td>'},'Requirements':{'PopulateGrid':function(sDiv,sGridName,sTitle,fnPopulationByFunction,options){var dynamicColumns=null,selectedRowsCounterId=null;options&&(dynamicColumns=options['DynamicColumns'],selectedRowsCounterId=options['SelectedRowsCounterId']),TriSysSDK['Grid']['VirtualMode']({'Div':sDiv,'ID':sGridName,'Title':sTitle,'RecordsPerPage':TriSysApex['UserOptions']['RecordsPerPage'](),'PopulationByFunction':fnPopulationByFunction,'Columns':TriSysWeb['Pages']['Requirements']['Columns'],'DynamicColumns':dynamicColumns,'MobileVisibleColumns':TriSysWeb['Pages']['Requirements']['MobileVisibleColumns'],'MobileRowTemplate':TriSysWeb['Pages']['Requirements']['MobileRowTemplate'],'KeyColumnName':'Requirement_RequirementId','DrillDownFunction':function(rowData){var lRequirementId=rowData['Requirement_RequirementId'];TriSysApex['FormsManager']['OpenForm']('Requirement',lRequirementId);},'MultiRowSelect':!![],'ColumnFilters':!![],'Grouping':TriSysApex['UserOptions']['GridGrouping'](),'HyperlinkedColumns':['Requirement_RequirementReference'],'HyperlinkedEntities':{'EntityName':'Requirement','Columns':[{'field':'RequirementCompany_Name','linkType':'Company'},{'field':'RequirementContact_FullName','linkType':'Client\x20Contact'},{'field':'Requirement_UserName','linkType':'User\x20Contact'}]},'SelectedRowsCounterId':selectedRowsCounterId});},'Columns':[{'field':'Requirement_RequirementId','title':'ID','type':'number','width':0x46,'hidden':!![]},{'field':'Requirement_RequirementReference','title':'Reference','type':'string','width':0x96},{'field':'Requirement_RequirementEntityType','title':'Type','type':'string','width':0x96},{'field':'Requirement_JobTitle','title':'Job\x20Title','type':'string','width':0x96},{'field':'RequirementCompany_Name','title':'Company','type':'string','width':0xc8},{'field':'RequirementContact_FullName','title':'Client\x20Contact','type':'string','width':0x96},{'field':'Requirement_EarliestStartDate','title':'Start\x20Date','type':'date','format':'{0:dd\x20MMM\x20yyyy}','width':0x96},{'field':'Location','title':'Location','type':'string','width':0xc8},{'field':'Salary','title':'Salary','type':'string','width':0x96},{'field':'Requirement_RequirementStatus','title':'Status','type':'string','width':0x96},{'field':'Requirement_UserName','title':'User','type':'string','width':0x96},{'field':'Requirement_CVSentCount','title':'CV\x20Sent\x20Count','hidden':!![],'type':'number','width':0x96},{'field':'Requirement_InterviewCount','title':'Interview\x20Count','hidden':!![],'type':'number','width':0x96}],'MobileVisibleColumns':[{'field':'Requirement_RequirementReference','title':'Job\x20Details'}],'MobileRowTemplate':'<td\x20colspan=\x221\x22><strong>#:\x20Requirement_RequirementReference\x20#\x20'+'(#:\x20Requirement_RequirementEntityType\x20#:\x20#:\x20Requirement_RequirementStatus\x20#)</strong><br\x20/>'+'#:\x20Requirement_JobTitle\x20#<br\x20/><i>#:\x20Location\x20#</i><br\x20/>'+'#:\x20RequirementContact_FullName\x20#,\x20#:\x20RequirementCompany_Name\x20#<br\x20/>'+'#:\x20Requirement_UserName\x20#</br\x20>Start\x20Date:\x20#:\x20kendo.format(\x22{0:dd\x20MMM\x20yyyy}\x22,\x20Requirement_EarliestStartDate)\x20#<hr></td>'},'Placements':{'PopulateGrid':function(sDiv,sGridName,sTitle,fnPopulationByFunction,options){var dynamicColumns=null,selectedRowsCounterId=null;options&&(dynamicColumns=options['DynamicColumns'],selectedRowsCounterId=options['SelectedRowsCounterId']),TriSysSDK['Grid']['VirtualMode']({'Div':sDiv,'ID':sGridName,'Title':sTitle,'RecordsPerPage':TriSysApex['UserOptions']['RecordsPerPage'](),'PopulationByFunction':fnPopulationByFunction,'Columns':TriSysWeb['Pages']['Placements']['Columns'],'DynamicColumns':dynamicColumns,'MobileVisibleColumns':TriSysWeb['Pages']['Placements']['MobileVisibleColumns'],'MobileRowTemplate':TriSysWeb['Pages']['Placements']['MobileRowTemplate'],'KeyColumnName':'Placement_PlacementId','DrillDownFunction':function(rowData){var lPlacementId=rowData['Placement_PlacementId'];TriSysApex['FormsManager']['OpenForm']('Placement',lPlacementId);},'MultiRowSelect':!![],'ColumnFilters':!![],'Grouping':TriSysApex['UserOptions']['GridGrouping'](),'HyperlinkedColumns':['Placement_Reference'],'HyperlinkedEntities':{'EntityName':'Placement','Columns':[{'field':'PlacementCompany_Name','linkType':'Company'},{'field':'DynamicColumn_Company_CompanyName','linkType':'Company'},{'field':'PlacementContact_FullName','linkType':'Client\x20Contact'},{'field':'CandidateContact_FullName','linkType':'Candidate\x20Contact'},{'field':'Placement_UserName','linkType':'User\x20Contact'},{'field':'RequirementReference','linkType':'Requirement'}]},'SelectedRowsCounterId':selectedRowsCounterId});},'Columns':[{'field':'Placement_PlacementId','title':'ID','type':'number','width':0x46,'hidden':!![]},{'field':'Placement_Reference','title':'Reference','type':'string','width':0x96},{'field':'Placement_PlacementEntityType','title':'Type','type':'string','width':0x96},{'field':'Placement_JobTitle','title':'Job\x20Title','type':'string','width':0x96},{'field':'CandidateContact_FullName','title':'Candidate','type':'string','width':0xc8},{'field':'Placement_StartDate','title':'Start\x20Date','type':'date','format':'{0:dd\x20MMM\x20yyyy}','width':0x96},{'field':'Placement_EndDate','title':'End\x20Date','type':'date','format':'{0:dd\x20MMM\x20yyyy}','hidden':!![],'width':0x96},{'field':'PlacementCompany_Name','title':'Company','type':'string','width':0xc8},{'field':'PlacementContact_FullName','title':'Client\x20Contact','type':'string','hidden':!![],'width':0xc8},{'field':'Location','title':'Location','type':'string','hidden':!![],'width':0xc8},{'field':'City','title':'City','type':'string','width':0x96},{'field':'Placement_Salary','title':'Salary/Charge','type':'string','hidden':!![],'width':0x96},{'field':'Placement_PlacementStatus','title':'Status','type':'string','width':0x96},{'field':'Placement_UserName','title':'User','type':'string','width':0x96},{'field':'RequirementReference','title':'Requirement','type':'string','hidden':!![],'width':0x96}],'MobileVisibleColumns':[{'field':'Placement_Reference','title':'Placement\x20Details'}],'MobileRowTemplate':'<td\x20colspan=\x221\x22><strong>#:\x20Placement_Reference\x20#\x20'+'(#:\x20Placement_PlacementEntityType\x20#:\x20#:\x20Placement_PlacementStatus\x20#)</strong><br\x20/>'+'#:\x20CandidateContact_FullName\x20#,\x20#:\x20Placement_JobTitle\x20#<br\x20/>'+'#:\x20PlacementContact_FullName\x20#,\x20#:\x20PlacementCompany_Name\x20#<br\x20/>'+'#:\x20Placement_UserName\x20#</br\x20>Start\x20Date:\x20#:\x20kendo.format(\x22{0:dd\x20MMM\x20yyyy}\x22,\x20Placement_StartDate)\x20#<hr></td>'},'Timesheets':{'PopulateGrid':function(sDiv,sGridName,sTitle,fnPopulationByFunction,options){var dynamicColumns=null,selectedRowsCounterId=null;options&&(dynamicColumns=options['DynamicColumns'],selectedRowsCounterId=options['SelectedRowsCounterId']),TriSysSDK['Grid']['VirtualMode']({'Div':sDiv,'ID':sGridName,'Title':sTitle,'RecordsPerPage':TriSysApex['UserOptions']['RecordsPerPage'](),'PopulationByFunction':fnPopulationByFunction,'Columns':TriSysWeb['Pages']['Timesheets']['Columns'],'DynamicColumns':dynamicColumns,'MobileVisibleColumns':TriSysWeb['Pages']['Timesheets']['MobileVisibleColumns'],'MobileRowTemplate':TriSysWeb['Pages']['Timesheets']['MobileRowTemplate'],'KeyColumnName':'Timesheet_TimesheetId','DrillDownFunction':function(rowData){var lTimesheetId=rowData['Timesheet_TimesheetId'];TriSysApex['FormsManager']['OpenForm']('Timesheet',lTimesheetId);},'MultiRowSelect':!![],'ColumnFilters':!![],'Grouping':TriSysApex['UserOptions']['GridGrouping'](),'HyperlinkedColumns':['Period','Timesheet_TimesheetId'],'HyperlinkedEntities':{'EntityName':'Timesheet','Columns':[{'field':'Reference','linkType':'Placement'},{'field':'PlacementUser','linkType':'Placement'},{'field':'Company','linkType':'Company'},{'field':'Candidate','linkType':'Candidate\x20Contact'},{'field':'TimesheetLink','linkType':'Function','fnCallback':function(row){TriSysSDK['Grid']['HyperlinkedColumns']['SpecialFields']['DrillDown'](row,'WebPage','TimesheetLink');}}]},'SelectedRowsCounterId':selectedRowsCounterId});},'Columns':[{'field':'Timesheet_TimesheetId','title':'ID','type':'number','width':0x46,'hidden':!![]},{'field':'Reference','title':'Placement','type':'string','width':0x96},{'field':'Company','title':'Company','type':'string','width':0xc8},{'field':'Candidate','title':'Candidate','type':'string','width':0xc8},{'field':'JobTitle','title':'Job\x20Title','type':'string','width':0x96},{'field':'Period','title':'Period','type':'string','width':0x96},{'field':'InputDate','title':'Input\x20Date','type':'date','format':'{0:dd\x20MMM\x20yyyy}','width':0x96},{'field':'TotalTimeWorked','title':'Total\x20Time\x20Worked','type':'number','format':'{0:n}','width':0x96},{'field':'Authorised','title':'Authorised','type':'string','width':0x96},{'field':'Paid','title':'Exported','type':'string','width':0x96},{'field':'NetPay','title':'Net\x20Pay','type':'string','hidden':!![],'width':0x96},{'field':'NetCharge','title':'Net\x20Charge','type':'string','hidden':!![],'width':0x96},{'field':'PayTotal','title':'Pay\x20Total','type':'string','hidden':!![],'width':0x96},{'field':'VATAmount','title':'VAT\x20Amount','type':'string','hidden':!![],'width':0x96},{'field':'PayrollCompany','title':'Payroll\x20Company','type':'string','hidden':!![],'width':0xc8},{'field':'PayRate','title':'Pay\x20Rate','type':'string','hidden':!![],'width':0x96},{'field':'ChargeRate','title':'Charge\x20Rate','type':'string','hidden':!![],'width':0x96},{'field':'NetMargin','title':'Net\x20Margin','type':'string','hidden':!![],'width':0x96},{'field':'SiteAddress','title':'Site\x20Address','type':'string','hidden':!![],'width':0xc8},{'field':'TimesheetLink','title':'Original\x20Timesheet','type':'string','hidden':!![],'width':0x190},{'field':'PlacementUser','title':'Placement\x20User','type':'string','hidden':!![],'width':0x96}],'MobileVisibleColumns':[{'field':'Reference','title':'Reference'}],'MobileRowTemplate':'<td\x20colspan=\x221\x22><strong>#:\x20Placement_Reference\x20#\x20'+'(#:\x20Placement_PlacementEntityType\x20#:\x20#:\x20Placement_PlacementStatus\x20#)</strong><br\x20/>'+'#:\x20CandidateContact_FullName\x20#,\x20#:\x20Placement_JobTitle\x20#<br\x20/>'+'#:\x20PlacementContact_FullName\x20#,\x20#:\x20PlacementCompany_Name\x20#<br\x20/>'+'#:\x20Placement_UserName\x20#</br\x20>Start\x20Date:\x20#:\x20kendo.format(\x22{0:dd\x20MMM\x20yyyy}\x22,\x20Placement_StartDate)\x20#<hr></td>'},'Tasks':{'PopulateGrid':function(sDiv,sGridName,sTitle,fnPopulationByFunction,options){var dynamicColumns=null,selectedRowsCounterId=null;options&&(dynamicColumns=options['DynamicColumns'],selectedRowsCounterId=options['SelectedRowsCounterId']),TriSysSDK['Grid']['VirtualMode']({'Div':sDiv,'ID':sGridName,'Title':sTitle,'RecordsPerPage':TriSysApex['UserOptions']['RecordsPerPage'](),'PopulationByFunction':fnPopulationByFunction,'Columns':TriSysWeb['Pages']['Tasks']['Columns'],'KeyColumnName':'TaskId','DrillDownFunction':function(rowData){var lTaskId=rowData['TaskId'];TriSysApex['ModalDialogue']['Task']['QuickShow'](lTaskId);},'MultiRowSelect':!![],'ColumnFilters':!![],'Grouping':TriSysApex['UserOptions']['GridGrouping'](),'HyperlinkedColumns':['TaskId'],'SelectedRowsCounterId':selectedRowsCounterId});},'Columns':[{'field':'TaskId','title':'ID','type':'number','width':0x46,'hidden':!![]},{'field':'Image','title':'\x20','template':'<img\x20src=\x22images/trisys/16x16/tasktype/#=\x20TaskType\x20#.png?ts=202103241810\x22\x20style=\x22width:\x2024px;\x20height:\x2024px;\x22\x20alt=\x22#=\x20TaskType\x20#\x22>','width':0x2d,'filterable':![],'sortable':![],'attributes':{'style':'text-overflow:\x20clip;'}},{'field':'TaskType','title':'Task\x20Type','type':'string','width':0xfa},{'field':'StartDate','title':'Start\x20Date','type':'date','format':'{0:dd\x20MMM\x20yyyy}','width':0x96},{'field':'EndDate','title':'End\x20Date','type':'date','format':'{0:dd\x20MMM\x20yyyy}','width':0x96},{'field':'DisplayDescription','title':'Description','type':'string','width':0x15e},{'field':'LoginName','title':'Login\x20Name','type':'string','width':0x96},{'field':'TaskContacts','title':'Contacts','type':'string','width':0x96,'hidden':!![]},{'field':'Attributes','title':'Attributes','type':'string','width':0x96,'hidden':!![]}]}},'Security':{'ShowLoginCredentialsAfterPageLoad':function(){!TriSysWeb['Security']['IsClientOrCandidateLoggedIn']()&&!TriSysWeb['Security']['IsUserLoggedIn']()?TriSysWeb['Security']['ShowLoginStatus'](![]):TriSysWeb['Security']['ShowLoginStatus'](!![]);},'IsDataConnectionOpen':function(){var dataConnectionKey=TriSysWeb['Security']['ClientOrCandidate_CDataConnectionKey']();if(dataConnectionKey){if(TriSysAPI['Data']['VerifyDataServicesKey']())return!![];}return![];},'IsClientOrCandidateLoggedIn':function(){var dataConnectionKey=TriSysWeb['Security']['ClientOrCandidate_CDataConnectionKey']();if(dataConnectionKey){if(dataConnectionKey['LoggedInAgencyContact'])return!![];}return![];},'IsClientLoggedIn':function(){var dataConnectionKey=TriSysWeb['Security']['ClientOrCandidate_CDataConnectionKey']();if(dataConnectionKey){if(dataConnectionKey['LoggedInAgencyContact']){if(dataConnectionKey['LoggedInAgencyContact']['ContactType']=='Client')return!![];}}return![];},'IsCandidateLoggedIn':function(){var dataConnectionKey=TriSysWeb['Security']['ClientOrCandidate_CDataConnectionKey']();if(dataConnectionKey){if(dataConnectionKey['LoggedInAgencyContact']){if(dataConnectionKey['LoggedInAgencyContact']['ContactType']=='Candidate')return!![];}}return![];},'IsUserLoggedIn':function(){var dataConnectionKey=TriSysWeb['Security']['ClientOrCandidate_CDataConnectionKey']();if(dataConnectionKey){if(dataConnectionKey['LoggedInUser']){if(dataConnectionKey['LoggedInUser']['InteractiveAgencyRecruiter'])return!![];}}return![];},'ClientOrCandidate_CDataConnectionKey':function(){var sCookie=TriSysAPI['Session']['Memory']['Get']('CDataConnectionKey');if(sCookie)try{var CDataConnectionKey=JSON['parse'](sCookie);return CDataConnectionKey;}catch(err){}return null;},'ShowLoginStatus':function(bLoggedIn){var sLoginMessageText=TriSysWeb['Constants']['NotLoggedInText'];if(bLoggedIn){var dataConnectionKey=TriSysWeb['Security']['ClientOrCandidate_CDataConnectionKey']();if(dataConnectionKey){var sContactType='',sLoginDetails=null,sCompanyName=null;if(dataConnectionKey['LoggedInAgencyContact'])agencyContact=dataConnectionKey['LoggedInAgencyContact'],sContactType=agencyContact['ContactType'],sLoginDetails=agencyContact['FullName'],sCompanyName=agencyContact['CompanyName'];else{userContact=dataConnectionKey['LoggedInUser']['Contact'];if(userContact)sLoginDetails=userContact['FullName'],sCompanyName=userContact['CompanyName'],sContactType='Recruiter';else{var crmContact=dataConnectionKey['LoggedInUser']['CRMContact'];crmContact&&(sLoginDetails=crmContact['FullName'],sCompanyName=crmContact['CompanyName'],sContactType=crmContact['ContactType']);}}if(sCompanyName)sLoginDetails+=',\x20'+sCompanyName;sLoginMessageText=TriSysWeb['Constants']['LoggedInPrefixText']+sContactType+':\x20'+sLoginDetails;}$('#loggedinPanel')['show'](),$('#loginPanel')['hide']();var sClientMenu='#menuItem-client-dropdown',sCandidateMenu='#menuItem-candidate-dropdown',sUserMenu='#menuItem-user-dropdown';if(TriSysWeb['Security']['IsClientLoggedIn']())$(sClientMenu)['show'](),$(sCandidateMenu)['hide'](),$(sUserMenu)['hide']();else TriSysWeb['Security']['IsCandidateLoggedIn']()?($(sClientMenu)['hide'](),$(sCandidateMenu)['show'](),$(sUserMenu)['hide']()):($(sClientMenu)['hide'](),$(sCandidateMenu)['hide'](),$(sUserMenu)['show']());}else $('#loggedinPanel')['hide'](),$('#loginPanel')['show']();$('#loggedInNameAndCompany')['html'](sLoginMessageText);},'ConnectToAgencyDatabaseOnly':function(sPageName,fnCallback,bCacheAfterLogin){var TriSysCRMCredentialAccountTypeEnum_AgencyVacanciesOnly=0x3,eAccountType=TriSysCRMCredentialAccountTypeEnum_AgencyVacanciesOnly,dataPacket={'CRMCredentialKey':TriSysWeb['Constants']['AgencyUserLoginCredentialsToCRM'],'AccountType':eAccountType};if(TriSysAPI['Operators']['isEmpty'](bCacheAfterLogin))bCacheAfterLogin=!![];TriSysApex['LoginCredentials']['ValidateViaWebService'](dataPacket,![],function(){if(bCacheAfterLogin)TriSysWeb['Security']['ValidatedLoginCredentialsCallback'](fnCallback);else fnCallback();});},'DecryptBase64Credentials':function(sEMailAndPasswordBase64){if(sEMailAndPasswordBase64){sEMailAndPassword=$['base64']['decode'](sEMailAndPasswordBase64);var parts=sEMailAndPassword['split']('{!}'),sEMail=parts[0x0],sPassword=parts[0x1],sFormName=null;if(parts['length']==0x3)sFormName=parts[0x2];return{'EMail':sEMail,'Password':sPassword,'FormName':sFormName};}},'LoginButtonClick':function(CSocialNetworkLoginParameters,auth0UserObject){var sLoginEMail=$('#txtLoginEMail')['val'](),sPassword=$('#txtLoginPassword')['val'](),sPersistence=$('#'+TriSysWeb['Pages']['Login']['PersistenceDiv'])['val'](),bRememberMe=TriSysSDK['CShowForm']['CheckBoxValue']('login-remember-me');if(CSocialNetworkLoginParameters||auth0UserObject)sLoginEMail=null,sPassword=null,bRememberMe=![];else{if(!TriSysApex['LoginCredentials']['validateEmail'](sLoginEMail)){var sMessage=TriSysSDK['Resources']['Message']('LoginButtonClick_EMail');TriSysApex['UI']['ShowMessage'](sMessage,TriSysWeb['Constants']['ApplicationName']),TriSysPhoneGap['HideSplashScreen']();return;}if(!sPassword){var sMessage=TriSysSDK['Resources']['Message']('LoginButtonClick_Password');TriSysApex['UI']['ShowMessage'](sMessage,TriSysWeb['Constants']['ApplicationName']),TriSysPhoneGap['HideSplashScreen']();return;}var sError=TriSysApex['LoginCredentials']['ValidatePassword'](sPassword);if(sError){TriSysApex['UI']['ShowMessage'](sError,TriSysApex['Copyright']['ShortProductName']),TriSysPhoneGap['HideSplashScreen']();return;}}var sURL=window['location']['href'],bSupportLogin=sURL['toLowerCase']()['indexOf']('#supportlogin~')>0x0;if(TriSysApex['Constants']['TriSysHostedCRM']||bSupportLogin){var validateOptions={'LoginEMail':sLoginEMail,'Password':sPassword,'RememberMe':bRememberMe,'AfterRecruiterUserAuthentication':TriSysWeb['Security']['AfterRecruiterUserAuthentication'],'SocialNetworkLoginParameters':CSocialNetworkLoginParameters,'Auth0UserObject':auth0UserObject,'URL':sURL};TriSysApex['LoginCredentials']['Validate'](validateOptions);}},'AfterRecruiterUserAuthentication':function(){var fnContinueLoginProcess=function(){TriSysApex['UI']['ShowWait'](null,'Loading\x20Configuration...'),TriSysApex['LoginCredentials']['ReadLoggedInUserSettings'](TriSysWeb['Security']['AfterReadingLoggedInUserSettings']);},fnDetermineIf2FAEnabled=function(){var options=null;ctrlEnableTwoFactorAuthentication['isEnabled'](!![],function(bEnabled,bLocked,bHasAuthenticatedPreviously,sAuthenticatorAppName){if(bEnabled)options={},options['Login']=!![],options['PreLogin']=!![],options['AuthenticatorAppName']=sAuthenticatorAppName,ctrlEnableTwoFactorAuthentication['PromptForTwoFactorAuthentication'](options,function(bAuthenticated){bAuthenticated?fnContinueLoginProcess():TriSysApex['LoginCredentials']['Logoff'](![]);});else fnContinueLoginProcess();},options);};TriSysApex['WhiteLabelling']['LoadJavascriptFile']('js/pages/ctrlEnableTwoFactorAuthentication.js',null,fnDetermineIf2FAEnabled);},'AfterReadingLoggedInUserSettings':function(CDataConnectionKey){if(CDataConnectionKey['WebAPIEndPoint'])TriSysAPI['Constants']['SecureURL']=CDataConnectionKey['WebAPIEndPoint'];TriSysApex['LoginCredentials']['CacheStandingData'](CDataConnectionKey,function(CDataConnectionKey,CCachedStandingDataWithBOLObjects){CDataConnectionKey['LoggedInUser']['InteractiveAgencyRecruiter']=!CDataConnectionKey['LoggedInAgencyContact'];var fnPostUserLogin=function(){var bRecruiter=!![];TriSysApex['NavigationBar']['PostLoginEvent'](!![],bRecruiter,![],![]),TriSysApex['Forms']['Login']['Authenticated'](CDataConnectionKey);};TriSysWeb['Security']['AfterCacheingAccountSettings'](CDataConnectionKey,CCachedStandingDataWithBOLObjects,fnPostUserLogin);});},'isAgencyUserEMail':function(sLoginEMail){if(!sLoginEMail)return![];var sDomain=TriSysWeb['Copyright']['HomePage'],domainParts=sDomain['split']('.'),emailParts=sLoginEMail['split']('@');if(domainParts['length']>0x1&&emailParts['length']==0x2){sDomain=domainParts[domainParts['length']-0x2]['toLowerCase']()+'.'+domainParts[domainParts['length']-0x1],sLoginEMail=emailParts[0x1]['toLowerCase']();var bMatchedDomain=sDomain==sLoginEMail;return bMatchedDomain;}},'LoginAsAgencyClientOrCandidate':function(sLoginEMail,sPassword,bRememberMe){var TriSysCRMCredentialAccountTypeEnum_AgencyClientOrCandidate=0x2,eAccountType=TriSysCRMCredentialAccountTypeEnum_AgencyClientOrCandidate,dataPacket={'CRMCredentialKey':TriSysWeb['Constants']['AgencyUserLoginCredentialsToCRM'],'AccountType':eAccountType,'AgencyContact_EMail':sLoginEMail,'AgencyContact_Password':sPassword},fnPostLogin=function(){if(bRememberMe)TriSysWeb['Security']['CacheLoginCredentialsAsCookies']();TriSysWeb['Security']['ValidatedLoginCredentialsCallback'](TriSysApex['Forms']['Login']['PostLoginRedirection']);},sLoginFailedMessage=TriSysSDK['Resources']['Message']('LoginButtonClick_Invalid');TriSysApex['LoginCredentials']['ValidateViaWebService'](dataPacket,bRememberMe,fnPostLogin,sLoginFailedMessage);},'LogoffButtonClick':function(){var sMessage=TriSysSDK['Resources']['Message']('LogoffButtonClick'),sYes=TriSysSDK['Resources']['Message']('Yes'),sNo=TriSysSDK['Resources']['Message']('No'),sCancel=TriSysSDK['Resources']['Message']('Cancel'),sTitle=TriSysWeb['Constants']['ApplicationName'],fnLogoffCompletion=function(){TriSysWeb['Security']['ShowLoginPage']();},fnLogoffProcess=function(){var fnClearKeysAndShowLogin=function(){TriSysApex['UI']['HideWait'](),TriSysAPI['Session']['Memory']['Clear'](),TriSysWeb['Security']['WritePersistedLoginCredentials'](null),TriSysWeb['Security']['ShowLoginStatus'](![]);var sMessage=TriSysSDK['Resources']['Message']('fnClearKeysAndShowLogin');TriSysApex['Toasters']['InfoWindow'](sMessage),fnLogoffCompletion();};TriSysApex['UI']['ShowWait'](null,TriSysSDK['Resources']['Message']('Logging\x20Off...')),TriSysApex['LoginCredentials']['LogoffWebServiceWithCallback'](fnClearKeysAndShowLogin);};TriSysApex['UI']['questionYesNo'](sMessage,sTitle,sYes,fnLogoffProcess,sNo,null);},'ValidatedLoginCredentialsCallback':function(fnCallback){var sWaitingMessage=TriSysSDK['Resources']['Message']('ValidatedLoginCredentialsCallback');TriSysApex['UI']['ShowWait'](null,sWaitingMessage),TriSysApex['LoginCredentials']['ReadLoggedInUserSettings'](function(CDataConnectionKey){TriSysWeb['Security']['AfterReadingLoggedInAccountSettings'](CDataConnectionKey,fnCallback);});},'AfterReadingLoggedInAccountSettings':function(CDataConnectionKey,fnCallback){TriSysApex['LoginCredentials']['CacheStandingData'](CDataConnectionKey,function(CDataConnectionKey,CCachedStandingDataWithBOLObjects){TriSysWeb['Security']['AfterCacheingAccountSettings'](CDataConnectionKey,CCachedStandingDataWithBOLObjects,fnCallback);});},'AfterCacheingAccountSettings':function(CDataConnectionKey,CCachedStandingDataWithBOLObjects,fnCallback){TriSysApex['UI']['HideWait']();var sStringifiedJSON=JSON['stringify'](CDataConnectionKey);TriSysAPI['Session']['Memory']['Set']('CDataConnectionKey',sStringifiedJSON);if(CDataConnectionKey['LoggedInAgencyContact']||TriSysWeb['Security']['IsUserLoggedIn']()){TriSysWeb['Security']['ShowLoginStatus'](!![]);var sLoginStuff=null;if(CDataConnectionKey['LoggedInAgencyContact']){var contact=CDataConnectionKey['LoggedInAgencyContact'];sLoginStuff=contact['FullName']+',\x20'+contact['CompanyName'];var bClient=CDataConnectionKey['LoggedInAgencyContact']['ContactType']=='Client',bCandidate=!bClient;TriSysApex['NavigationBar']['PostLoginEvent'](!![],![],bClient,bCandidate),TriSysApex['Pages']['Index']['PostLoginVisuals'](!![],CDataConnectionKey);}else CDataConnectionKey['LoggedInUser']&&(sLoginStuff=CDataConnectionKey['LoggedInUser']['FullName']);var sMessage=TriSysSDK['Resources']['Message']('AfterCacheingAccountSettings');sMessage=sMessage['replace']('##LoginType##',sLoginStuff);var fnPostLoginConfirmationPopup=function(){if(fnCallback)fnCallback(CDataConnectionKey);};fnPostLoginConfirmationPopup();return;}if(fnCallback)fnCallback();},'AutoLoginFromSavedCredentials':function(){if(!TriSysWeb['Security']['IsClientOrCandidateLoggedIn']()&&!TriSysWeb['Security']['IsUserLoggedIn']()){var credentialPacket=TriSysWeb['Security']['ReadPersistedLoginCredentials']();if(credentialPacket){var sEMailAddress=credentialPacket['EMailAddress'],sPassword=credentialPacket['Password'];if(sEMailAddress&&sPassword){TriSysAPI['Session']['Memory']['Set'](TriSysWeb['Security']['AutoLoginNameSetting'],sEMailAddress),TriSysAPI['Session']['Memory']['Set'](TriSysWeb['Security']['AutoLoginPasswordSetting'],sPassword);if(TriSysApex['Constants']['SinglePageApplication'])TriSysWeb['Pages']['Login']['Load']();else{var sURL=window['location']['href']['toLowerCase']();if(sURL['indexOf'](TriSysWeb['Constants']['LoginPage']['toLowerCase']())>0x0)return![];else return TriSysWeb['Security']['ShowLoginPage']();}}}}return![];},'ShowLoginPage':function(){return window['location']=TriSysWeb['Constants']['LoginPage'],!![];},'AutoLoginNameSetting':'AutomaticLogin_EMail','AutoLoginPasswordSetting':'AutomaticLogin_Password','CacheLoginCredentialsAsCookies':function(){var sLoginEMail=$('#txtLoginEMail')['val'](),sPassword=$('#txtLoginPassword')['val'](),credentialPacket={'EMailAddress':sLoginEMail,'Password':sPassword};TriSysWeb['Security']['WritePersistedLoginCredentials'](credentialPacket);},'AreLoginCredentialsPersisted':function(){var credentialPacket=TriSysWeb['Security']['ReadPersistedLoginCredentials']();if(credentialPacket){if(credentialPacket['EMailAddress']&&credentialPacket['Password']){if(credentialPacket['EMailAddress']['length']>0x0&&credentialPacket['Password']['length']>0x0)return!![];}}},'ReadPersistedLoginCredentials':function(){try{var CookiePrefix=TriSysWeb['Constants']['Cookie_Prefix'],sEMailAddress=TriSysAPI['Cookies']['getCookie'](CookiePrefix+'Login_EMail'),sPassword=TriSysAPI['Cookies']['getCookie'](CookiePrefix+'Login_Password');if(sEMailAddress||sPassword)sEMailAddress&&(sEMailAddress['length']>0x0&&(sEMailAddress=TriSysAPI['Encryption']['decrypt'](sEMailAddress,TriSysWeb['Security']['EncryptionKey']))),sPassword&&(sPassword['length']>0x0&&(sPassword=TriSysAPI['Encryption']['decrypt'](sPassword,TriSysWeb['Security']['EncryptionKey'])));else{var tmpPacket=TriSysWeb['Security']['EmergencyCookieMigrationForLive19Jan2016']();tmpPacket&&(sEMailAddress=tmpPacket['EMailAddress'],sPassword=tmpPacket['Password']);}var credentialPacket={'EMailAddress':sEMailAddress,'Password':sPassword};return credentialPacket;}catch(err){}return null;},'EmergencyCookieMigrationForLive19Jan2016':function(){try{var CookiePrefix='',sEMailAddress=TriSysAPI['Cookies']['getCookie'](CookiePrefix+'Login_EMail'),sPassword=TriSysAPI['Cookies']['getCookie'](CookiePrefix+'Login_Password');(sEMailAddress||sPassword)&&(sEMailAddress&&(sEMailAddress['length']>0x0&&(sEMailAddress=TriSysAPI['Encryption']['decrypt'](sEMailAddress,TriSysWeb['Security']['EncryptionKey']))),sPassword&&(sPassword['length']>0x0&&(sPassword=TriSysAPI['Encryption']['decrypt'](sPassword,TriSysWeb['Security']['EncryptionKey']))));var credentialPacket={'EMailAddress':sEMailAddress,'Password':sPassword};return credentialPacket;}catch(err){}return null;},'WritePersistedLoginCredentials':function(credentialPacket){try{var sEMailAddress='',sPassword='';credentialPacket&&(sEMailAddress=credentialPacket['EMailAddress'],sPassword=credentialPacket['Password']);var CookiePrefix=TriSysWeb['Constants']['Cookie_Prefix'];if(!CookiePrefix)CookiePrefix=TriSysApex['Constants']['Cookie_Prefix'];sEMailAddress&&sPassword&&(sEMailAddress=TriSysAPI['Encryption']['encrypt'](sEMailAddress,TriSysWeb['Security']['EncryptionKey']),sPassword=TriSysAPI['Encryption']['encrypt'](sPassword,TriSysWeb['Security']['EncryptionKey']));TriSysAPI['Cookies']['setCookie'](CookiePrefix+'Login_EMail',sEMailAddress);var bSavePassword=TriSysApex['Environment']['isLocalhost']()||TriSysApex['Environment']['isDeployedInTestMode']();bSavePassword=!![];if(bSavePassword)TriSysAPI['Cookies']['setCookie'](CookiePrefix+'Login_Password',sPassword);}catch(err){}},'EncryptionKey':0x0+0x1+0x5-0x2+0x3-0x0*0x1},'TopJobs':{'PopulateWidget':function(sDivTag,iNumberOfJobs){var cookieName='TriSysWeb.TopJobs.PopulateWidget.CSQLDatabaseSearchResults',fnPopulateTopJobs=function(CSQLDatabaseSearchResults){if(CSQLDatabaseSearchResults){if(CSQLDatabaseSearchResults['DataTable']){var sJobHTML='',dt=CSQLDatabaseSearchResults['DataTable'];for(var i=0x0;i<dt['length'];i++){var dr=dt[i],sJobTitle=dr['JobTitle'],iCounter=dr['Counter'];sJobHTML+='<li\x20class=\x22list-group-item\x22>'+'<span\x20class=\x22badge\x22>'+iCounter+'</span>'+sJobTitle+'</li>';}$('#'+sDivTag)['html'](sJobHTML),TriSysAPI['Persistence']['Write'](cookieName,CSQLDatabaseSearchResults);}}};if(!TriSysAPI['Session']['isConnected']()){var cachedSearchResults=TriSysAPI['Persistence']['Read'](cookieName);if(cachedSearchResults){fnPopulateTopJobs(cachedSearchResults);return;}}if(!TriSysWeb['Security']['IsDataConnectionOpen']()){alert('TriSysWeb.TopJobs:\x20Not\x20connected\x20to\x20API\x20yet\x20-\x20programmer\x20error');return;}var sSQL=TriSysWeb['TopJobs']['SQLSelectTop']+iNumberOfJobs+TriSysWeb['TopJobs']['SQL']();TriSysSDK['Database']['GetDataSet'](sSQL,fnPopulateTopJobs);},'SQLSelectTop':'Select\x20Top\x20','SQL':function(){return TriSysSDK['Database']['SQL']['Query']('TriSysWeb.TopJobs');}},'Data':{'SynchronousMethod':function(sAPI,dataPacket){var payloadObject={};payloadObject['URL']=sAPI,payloadObject['Asynchronous']=![];if(dataPacket)payloadObject['OutboundDataPacket']=dataPacket;var objData=null;return payloadObject['InboundDataFunction']=function(data){objData=data;},payloadObject['ErrorHandlerFunction']=function(request,status,error){},TriSysAPI['Data']['PostToWebAPI'](payloadObject),objData;},'Vacancy':{'Summary':function(lRequirementId){var dataPacket={'RequirementId':lRequirementId},vacancySummary=TriSysWeb['Data']['SynchronousMethod']('Vacancy/Summary',dataPacket);return vacancySummary;},'isShortlisted':function(lRequirementId){var bShortlisted=![];if(TriSysWeb['Security']['IsCandidateLoggedIn']()){var dataConnectionKey=TriSysWeb['Security']['ClientOrCandidate_CDataConnectionKey'](),dataPacket={'RequirementId':lRequirementId,'ContactId':dataConnectionKey['LoggedInAgencyContact']['ContactId']},CVacancyCandidateShortlistStatusRequestResult=TriSysWeb['Data']['SynchronousMethod']('Vacancy/CandidateShortlistStatus',dataPacket);if(CVacancyCandidateShortlistStatusRequestResult){if(CVacancyCandidateShortlistStatusRequestResult['Success'])bShortlisted=CVacancyCandidateShortlistStatusRequestResult['Longlisted']||CVacancyCandidateShortlistStatusRequestResult['Shortlisted'];}}return bShortlisted;}}},'Utility':{'FilePathPrefix':function(){var sPrefix='',sURL=window['location']['href']['toLowerCase']();if(sURL['indexOf']('/custom/')>0x0)sPrefix='../../';return sPrefix;},'LoadJavascriptFile':function(sPath){var fileref=document['createElement']('script');fileref['setAttribute']('type','text/javascript'),fileref['setAttribute']('src',TriSysWeb['Utility']['FilePathPrefix']()+sPath),TriSysWeb['Utility']['LoadElement'](fileref);},'LoadCascadingStyleSheetFile':function(sPath){var fileref=document['createElement']('link');fileref['setAttribute']('rel','stylesheet'),fileref['setAttribute']('type','text/css'),fileref['setAttribute']('href',TriSysWeb['Utility']['FilePathPrefix']()+sPath),TriSysWeb['Utility']['LoadElement'](fileref);},'LoadElement':function(elem){if(typeof elem!='undefined')document['getElementsByTagName']('head')[0x0]['appendChild'](elem);}},'Constants':{'ApplicationName':'TriSys\x20Apex','Version':'2014.10.13.1552','DeveloperSiteKey':'20140625-gl51-1231-wher-opuslaboris.','AgencyUserLoginCredentialsToCRM':'bb07b8td-30f4-430e-ab52-c15zd1u6c56f','Cookie_Prefix':'','Cookie_AddJobDetailsToFavourites':'AddJobDetailsToFavourites','CandidateApplyToVacancy_Longlist':![],'CandidateApplyToVacancy_Shortlist':!![],'CandidateVacancyPage':'candidatevacancy.html','CandidateVacancySearchPage':'candidatevacancysearch.html','ClientVacanciesPage':'clientvacancies.html','ClientVacancyPage':'clientvacancy.html','FavouriteVacanciesPage':'favouritevacancies.html','VacancyApplicationsPage':'vacancyapplications.html','WarningPage':'warning.html','ContactUsPage':'contactus.html','CandidateRegistrationPage':'register.html','ClientRegistrationPage':'registerclient.html','PlacementPage':'placement.html','TimesheetPage':'timesheet.html','ContactPage':'contact.html','LoginPage':'Login.html','UserDashboardPage':'dashboard.html','LoggedInPrefixText':'','NotLoggedInText':''}};