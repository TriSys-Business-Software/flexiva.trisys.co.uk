!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],t):e.mobiscroll=t(e.jQuery)}(this,function(e){"use strict";function t(e,t,a){var s=e;return"object"===("undefined"==typeof t?"undefined":j(t))?e.each(function(){new $.classes[t.component||"Scroller"](this,t)}):("string"==typeof t&&e.each(function(){var e,n=$.instances[this.id];if(n&&n[t]&&(e=n[t].apply(this,Array.prototype.slice.call(a,1)),void 0!==e))return s=e,!1}),s)}function a(){te++,setTimeout(function(){te--},500)}function s(e,t,a){var s=e.originalEvent||e,n=(a?"page":"client")+t;return s.targetTouches&&s.targetTouches[0]?s.targetTouches[0][n]:s.changedTouches&&s.changedTouches[0]?s.changedTouches[0][n]:e[n]}function n(e,t,n,i,r,l){function o(e){f||(i&&e.preventDefault(),f=this,m=s(e,"X"),h=s(e,"Y"),p=!1,b=new Date)}function c(e){f&&!p&&(Math.abs(s(e,"X")-m)>r||Math.abs(s(e,"Y")-h)>r)&&(p=!0)}function d(t){f&&((l&&new Date-b<100||!p)&&(t.preventDefault(),n.call(f,t,e)),f=!1,a())}function u(){f=!1}var m,h,f,p,b,v=$.$,g=v(t);r=r||9,e.settings.tap&&g.on("touchstart.mbsc",o).on("touchcancel.mbsc",u).on("touchmove.mbsc",c).on("touchend.mbsc",d),g.on("click.mbsc",function(t){t.preventDefault(),n.call(this,t,e)})}function i(e){if(te&&!e.tap&&("TEXTAREA"!=e.target.nodeName||"mousedown"!=e.type))return e.stopPropagation(),e.preventDefault(),!1}function r(e){var t;for(t in e)if(void 0!==oe[e[t]])return!0;return!1}function l(){var e,t=["Webkit","Moz","O","ms"];for(e in t)if(r([t[e]+"Transform"]))return"-"+t[e].toLowerCase()+"-";return""}function o(e,t){var a=document.createElement("script"),s="mbscjsonp"+ ++me;window[s]=function(e){a.parentNode.removeChild(a),delete window[s],e&&t(e)},a.src=e+(e.indexOf("?")>=0?"&":"?")+"callback="+s,document.body.appendChild(a)}function c(e,t){var a=new XMLHttpRequest;a.open("GET",e,!0),a.onload=function(){this.status>=200&&this.status<400&&t(JSON.parse(this.response))},a.onerror=function(){},a.send()}function d(e,t,a){"jsonp"==a?o(e,t):c(e,t)}function u(e,t,a,s,n,i,r){var l=new Date(e,t,a,s||0,n||0,i||0,r||0);return 23==l.getHours()&&0===(s||0)&&l.setHours(l.getHours()+2),l}function m(e,t){var a={},s=e.parent(),n=s.find(".mbsc-err-msg"),i=e.attr("data-icon-align")||"left",r=e.attr("data-icon");s.hasClass(Dt)?s=s.parent():ne('<span class="'+Dt+'"></span>').insertAfter(e).append(e),n&&s.find("."+Dt).append(n),r&&(r.indexOf("{")!==-1?a=JSON.parse(r):a[i]=r),(r||t)&&(le(a,t),s.addClass((a.right?"mbsc-ic-right ":"")+(a.left?" mbsc-ic-left":"")).find("."+Dt).append(a.left?'<span class="mbsc-input-ic mbsc-left-ic mbsc-ic mbsc-ic-'+a.left+'"></span>':"").append(a.right?'<span class="mbsc-input-ic mbsc-right-ic mbsc-ic mbsc-ic-'+a.right+'"></span>':""))}function h(e,t,a){var s={},i=a[0],r=a.attr("data-password-toggle"),l=a.attr("data-icon-show")||"eye",o=a.attr("data-icon-hide")||"eye-blocked";r&&(s.right="password"==i.type?l:o),m(a,s),r&&n(e,t.find(".mbsc-right-ic").addClass("mbsc-input-toggle"),function(){"text"==i.type?(i.type="password",ne(this).addClass("mbsc-ic-"+l).removeClass("mbsc-ic-"+o)):(i.type="text",ne(this).removeClass("mbsc-ic-"+l).addClass("mbsc-ic-"+o))})}function f(e,t){"button"!=t&&"submit"!=t&&"segmented"!=t&&(e.addClass("mbsc-control-w").find("label").addClass("mbsc-label"),e.contents().filter(function(){return 3==this.nodeType&&this.nodeValue&&/\S/.test(this.nodeValue)}).each(function(){ne('<span class="mbsc-label"></span>').insertAfter(this).append(this)}))}function p(e){var t=[Math.round(e.r).toString(16),Math.round(e.g).toString(16),Math.round(e.b).toString(16)];return ne.each(t,function(e,a){1==a.length&&(t[e]="0"+a)}),"#"+t.join("")}function b(e){return e=parseInt(e.indexOf("#")>-1?e.substring(1):e,16),{r:e>>16,g:(65280&e)>>8,b:255&e,toString:function(){return"rgb("+this.r+","+this.g+","+this.b+")"}}}function v(e){var t,a,s,n=e.h,i=255*e.s/100,r=255*e.v/100;if(0===i)t=a=s=r;else{var l=r,o=(255-i)*r/255,c=(l-o)*(n%60)/60;360==n&&(n=0),n<60?(t=l,s=o,a=o+c):n<120?(a=l,s=o,t=l-c):n<180?(a=l,t=o,s=o+c):n<240?(s=l,t=o,a=l-c):n<300?(s=l,a=o,t=o+c):n<360?(t=l,a=o,s=l-c):t=a=s=0}return{r:t,g:a,b:s,toString:function(){return"rgb("+this.r+","+this.g+","+this.b+")"}}}function g(e){var t,a,s=0,n=Math.min(e.r,e.g,e.b),i=Math.max(e.r,e.g,e.b),r=i-n;return a=i,t=i?255*r/i:0,s=t?e.r==i?(e.g-e.b)/r:e.g==i?2+(e.b-e.r)/r:4+(e.r-e.g)/r:-1,s*=60,s<0&&(s+=360),t*=100/255,a*=100/255,{h:s,s:t,v:a,toString:function(){return"hsv("+Math.round(this.h)+","+Math.round(this.s)+"%,"+Math.round(this.v)+"%)"}}}function y(e){var t,a,s=e.r/255,n=e.g/255,i=e.b/255,r=Math.max(s,n,i),l=Math.min(s,n,i),o=(r+l)/2;if(r==l)t=a=0;else{var c=r-l;switch(a=o>.5?c/(2-r-l):c/(r+l),r){case s:t=(n-i)/c+(n<i?6:0);break;case n:t=(i-s)/c+2;break;case i:t=(s-n)/c+4}t/=6}return{h:Math.round(360*t),s:Math.round(100*a),l:Math.round(100*o),toString:function(){return"hsl("+this.h+","+this.s+"%,"+this.l+"%)"}}}function x(e){var t,a,s,n,i,r,l=e.h,o=e.s,c=e.l;return isFinite(l)||(l=0),isFinite(o)||(o=0),isFinite(c)||(c=0),l/=60,l<0&&(l=6- -l%6),l%=6,o=Math.max(0,Math.min(1,o/100)),c=Math.max(0,Math.min(1,c/100)),i=(1-Math.abs(2*c-1))*o,r=i*(1-Math.abs(l%2-1)),l<1?(t=i,a=r,s=0):l<2?(t=r,a=i,s=0):l<3?(t=0,a=i,s=r):l<4?(t=0,a=r,s=i):l<5?(t=r,a=0,s=i):(t=i,a=0,s=r),n=c-i/2,{r:Math.round(255*(t+n)),g:Math.round(255*(a+n)),b:Math.round(255*(s+n)),toString:function(){return"rgb("+this.r+","+this.g+","+this.b+")"}}}function _(e){return y(b(e))}function w(e){return p(x(e))}function C(e){return p(v(e))}function T(e){return g(b(e))}function M(e){for(var t=0,a=1,s=0;e.length;)t>3?a=3600:t>1&&(a=60),s+=e.pop()*a*(t%2?10:1),t++;return s}function k(e){Ma.length||e.show(),Ma.push(e)}function D(e){var t=ka.length;ka.push(e),Ma.length||(t?ka[0].hide():e.show())}function S(e,t,a,s){return le({display:t.display||"center",cssClass:"mbsc-alert",okText:t.okText,cancelText:t.cancelText,context:t.context,theme:t.theme,closeOnOverlayTap:!1,onBeforeClose:function(){e.shift()},onBeforeShow:function(){$.activeInstance=null},onHide:function(e,s){a&&a(s._resolve),t.callback&&t.callback(s._resolve),s&&s.destroy(),Ma.length?Ma[0].show():ka.length&&ka[0].show()}},s)}function V(e){return(e.title?"<h2>"+e.title+"</h2>":"")+"<p>"+(e.message||"")+"</p>"}function A(e,t,a){var s=new _a(e,S(Ma,t,a));k(s)}function I(e,t,a){var s=new _a(e,S(Ma,t,a,{buttons:["ok","cancel"],onSet:function(){s._resolve=!0}}));s._resolve=!1,k(s)}function Y(e,t,a){var s=void 0,n=new _a(e,S(Ma,t,a,{buttons:["ok","cancel"],onShow:function(){s=n._markup.find("input")[0],setTimeout(function(){s.focus()},300)},onSet:function(){n._resolve=s.value}}));n._resolve="",k(n)}function F(e,t,a,s,n){var i=void 0,r=new _a(e,S(ka,t,a,{display:"bottom",animate:n,cssClass:s||"mbsc-snackbar",scrollLock:!1,buttons:[],onShow:function(e,a){t.duration!==!1&&(i=setTimeout(function(){a&&a.hide()},t.duration||3e3)),t.button&&a.tap(ne(".mbsc-snackbar-btn",e.target),function(){a.hide(),t.button.action&&t.button.action.call(this)})},onClose:function(){clearTimeout(i)}}));D(r)}function O(e,t,a){F(e,t,a,"mbsc-toast","fade")}function E(e,t,a){var s=void 0;return Ta?s=new Promise(function(s){e(t,a,s)}):e(t,a),s}function H(e){var t=e[0],a=e.attr("data-role"),s=e.attr("type")||t.nodeName.toLowerCase();return/(switch|range|segmented|stepper)/.test(a)&&(s=a),s}function P(e){var t=$.themes.form[e];return t&&t.addRipple?t:null}function L(){clearTimeout(Wa),Wa=setTimeout(function(){ne("textarea.mbsc-control").each(function(){N(this)})},100)}function N(e){var t=void 0,a=void 0,s=void 0,n=ne(e).attr("rows")||6;e.offsetHeight&&(e.style.height="",s=e.scrollHeight-e.offsetHeight,t=e.offsetHeight+(s>0?s:0),a=Math.round(t/24),a>n?(e.scrollTop=t,t=24*n+(t-24*a),ne(e).addClass("mbsc-textarea-scroll")):ne(e).removeClass("mbsc-textarea-scroll"),t&&(e.style.height=t+"px"))}function W(e){var t=ne(e);if(!t.hasClass("mbsc-textarea-scroll")){var a=e.scrollHeight-e.offsetHeight,s=e.offsetHeight+a;e.scrollTop=0,e.style.height=s+"px"}}e="default"in e?e.default:e;var $=$||{},j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},q=function(){function e(e,t){for(var a=0;a<t.length;a++){var s=t[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,a,s){return a&&e(t.prototype,a),s&&e(t,s),t}}(),X=function e(t,a,s){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,a);if(void 0===n){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,a,s)}if("value"in n)return n.value;var r=n.get;if(void 0!==r)return r.call(s)},U=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},B=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},z=e.extend;$.presetShort=function(e,a,s){$.components[e]=function(n){return t(this,z(n,{component:a,preset:s===!1?void 0:e}),arguments)}},$.$=e,e.mobiscroll=$,e.fn.mobiscroll=function(e){return z(this,$.components),t(this,e,arguments)};var K,G,Z=[],J=navigator.userAgent,Q=J.match(/Android|iPhone|iPad|iPod|Windows Phone|Windows|MSIE/i);/Android/i.test(Q)?(K="android",G=navigator.userAgent.match(/Android\s+([\d\.]+)/i),G&&(Z=G[0].replace("Android ","").split("."))):/iPhone|iPad|iPod/i.test(Q)?(K="ios",G=navigator.userAgent.match(/OS\s+([\d\_]+)/i),G&&(Z=G[0].replace(/_/g,".").replace("OS ","").split("."))):/Windows Phone/i.test(Q)?K="wp":/Windows|MSIE/i.test(Q)&&(K="windows");var ee={name:K,majorVersion:Z[0],minorVersion:Z[1]},te=0;["mouseover","mousedown","mouseup","click"].forEach(function(e){document.addEventListener(e,i,!0)}),"android"==ee.name&&ee.majorVersion<5&&document.addEventListener("change",function(e){te&&"checkbox"==e.target.type&&!e.target.mbscChange&&(e.stopPropagation(),e.preventDefault()),delete e.target.mbscChange},!0);var ae,se=function(){},ne=$.$,ie=+new Date,re={},le=ne.extend,oe=document.createElement("modernizr").style,ce=l(),de=ce.replace(/^\-/,"").replace(/\-$/,"").replace("moz","Moz"),ue=void 0!==oe.animation?"animationend":"webkitAnimationEnd";ae=le($,{$:ne,version:"3.2.1",util:{prefix:ce,jsPrefix:de,animEnd:ue,preventClick:a,testTouch:function(e,t){if("touchstart"==e.type)ne(t).attr("data-touch","1");else if(ne(t).attr("data-touch"))return ne(t).removeAttr("data-touch"),!1;return!0},objectToArray:function(e){var t,a=[];for(t in e)a.push(e[t]);return a},arrayToObject:function(e){var t,a={};if(e)for(t=0;t<e.length;t++)a[e[t]]=e[t];return a},isNumeric:function(e){return e-parseFloat(e)>=0},isString:function(e){return"string"==typeof e},getCoord:s,getPosition:function(e,t){var a,s,n=getComputedStyle(e[0]);return ne.each(["t","webkitT","MozT","OT","msT"],function(e,t){if(void 0!==n[t+"ransform"])return a=n[t+"ransform"],!1}),a=a.split(")")[0].split(", "),s=t?a[13]||a[5]:a[12]||a[4]},constrain:function(e,t,a){return Math.max(t,Math.min(e,a))},vibrate:function(e){"vibrate"in navigator&&navigator.vibrate(e||50)},throttle:function(e,t){var a,s;return t=t||100,function(){var n=this,i=+new Date,r=arguments;a&&i<a+t?(clearTimeout(s),s=setTimeout(function(){a=i,e.apply(n,r)},t)):(a=i,e.apply(n,r))}}},autoTheme:"mobiscroll",presets:{scroller:{},numpad:{},listview:{},menustrip:{}},themes:{form:{},page:{},frame:{},scroller:{},listview:{},menustrip:{},progress:{}},platform:ee,i18n:{},instances:re,classes:{},components:{},settings:{},setDefaults:function(e){le(this.settings,e)},customTheme:function(e,t){var a,s=$.themes,n=["frame","scroller","listview","menustrip","form","progress"];for(a=0;a<n.length;a++)s[n[a]][e]=le({},s[n[a]][t],{baseTheme:t})}}),ae.presetShort=ae.presetShort||function(){},ae.classes.Base=function(e,t){function a(){ne(e).addClass("mbsc-comp"),e.id?re[e.id]&&re[e.id].destroy():e.id="mobiscroll"+ ++ie,re[e.id]=u,u.__ready=!0}var s,i,r,l,o,c,d,u=this;u.settings={},u._init=se,u._destroy=se,u._processSettings=se,u.init=function(a){var n;for(n in u.settings)delete u.settings[n];r=u.settings,le(t,a),u._hasDef&&(d=ae.settings),le(r,u._defaults,d,t),u._hasTheme&&(o=r.theme,"auto"!=o&&o||(o=ae.autoTheme),"default"==o&&(o="mobiscroll"),t.theme=o,l=ae.themes[u._class]?ae.themes[u._class][o]:{}),u._hasLang&&(s=ae.i18n[r.lang]),u._hasTheme&&c("onThemeLoad",{lang:s,settings:t}),le(r,l,s,d,t),u._processSettings(),u._hasPreset&&(i=ae.presets[u._class][r.preset],i&&(i=i.call(e,u),le(r,i,t))),u._init(a),c("onInit")},u.destroy=function(){u&&(u._destroy(),c("onDestroy"),delete re[e.id],u=null)},u.tap=function(e,t,a,s,i){n(u,e,t,a,s,i)},u.trigger=function(a,s){var n,r,o,c=[d,l,i,t];for(r=0;r<4;r++)o=c[r],o&&o[a]&&(n=o[a].call(e,s||{},u));return n},u.option=function(e,t){var a={};"object"===("undefined"==typeof e?"undefined":j(e))?a=e:a[e]=t,u.init(a)},u.getInst=function(){return u},t=t||{},c=u.trigger,u.__ready||a()};var me=0;$.util.getJson=d;var he,fe,pe=$.util,be=$.classes,ve=$.themes,ge=pe.constrain,ye=pe.isString,xe=pe.getCoord,_e=pe.animEnd,we=/(iphone|ipod)/i.test(navigator.userAgent)&&ee.majorVersion>=7,Ce="ios"==ee.name&&8==ee.majorVersion,Te=function(){},Me=function(e){e.preventDefault()},ke=function(e,t,a){function s(e){M&&M.removeClass("mbsc-fr-btn-a"),M=ne(this),M.hasClass("mbsc-fr-btn-d")||M.hasClass("mbsc-fr-btn-nhl")||M.addClass("mbsc-fr-btn-a"),"mousedown"===e.type?ne(document).on("mouseup",n):"pointerdown"===e.type&&ne(document).on("pointerup",n)}function n(e){M&&(M.removeClass("mbsc-fr-btn-a"),M=null),"mouseup"===e.type?ne(document).off("mouseup",n):"pointerup"===e.type&&ne(document).off("pointerup",n)}function i(e){13==e.keyCode?K.select():27==e.keyCode&&K.cancel()}function r(e){e||H.focus(),K.ariaMessage(W.ariaMessage)}function l(e){var t=he,a=W.focusOnClose;K._markupRemove(),g.remove(),V&&(k.mbscModals--,W.scrollLock&&k.mbscLock--,k.mbscLock||v.removeClass("mbsc-fr-lock"),k.mbscModals||(v.removeClass("mbsc-fr-lock-ios mbsc-fr-lock-ctx"),E&&(p.css({top:"",left:""}),w.scrollLeft(j),w.scrollTop(q)),e||(t||(t=G),setTimeout(function(){void 0===a||a===!0?(fe=!0,t[0].focus()):a&&ne(a)[0].focus()},200)))),K._isVisible=!1,A=!1,U("onHide")}function o(e){clearTimeout(J[e.type]),J[e.type]=setTimeout(function(){var t,a="scroll"==e.type;a&&!R||(K.position(!a),"orientationchange"==e.type&&(P.style.display="none",t=P.offsetHeight,P.style.display=""))},200)}function c(e){e.target.nodeType&&!P.contains(e.target)&&P.focus()}function d(e,t){e&&e(),K.show()!==!1&&(he=t)}function u(){K._fillValue(),U("onSet",{valueText:K._value})}function m(){U("onCancel",{valueText:K._value})}function h(){K.setVal(null,!0)}var f,p,b,v,g,y,x,_,w,C,T,M,k,D,S,V,A,I,Y,F,O,E,H,P,L,N,W,j,R,q,X,U,B,z,K=this,G=ne(e),Z=[],J={};be.Base.call(this,e,t,!0),K.position=function(e){var t,a,s,n,i,r,l,o,c,d,u,m,h,f,b,v,y={},T=0,M=0,D=0,E=0;!N&&A&&(K._position(g),m=I.offsetHeight,h=I.offsetWidth,B===h&&z===m&&e||(K._isFullScreen||/top|bottom/.test(W.display)?_.width(h):C.width(""),U("onPosition",{target:I,windowWidth:h,windowHeight:m})!==!1&&V&&(ne(".mbsc-comp",g).each(function(){var e=$.instances[this.id];e&&e!==K&&e.position&&e.position()}),!K._isFullScreen&&/center|bubble/.test(W.display)&&(ne(".mbsc-w-p",g).each(function(){f=this.getBoundingClientRect().width,E+=f,D=f>D?f:D}),C.css({width:K._isLiquid?Math.min(W.maxPopupWidth,h-16):Math.ceil(E>h?D:E),"white-space":E>h?"":"nowrap"})),Y=P.offsetWidth,F=P.offsetHeight,R=F<=m&&Y<=h,O&&(T=w.scrollLeft(),M=w.scrollTop()),"center"==W.display?(v=Math.max(0,T+(h-Y)/2),b=Math.max(0,M+(m-F)/2)):"bubble"==W.display?(t=void 0===W.anchor?G:ne(W.anchor),l=ne(".mbsc-fr-arr-i",g)[0],n=t.offset(),i=n.top+(S?M-p.offset().top:0),r=n.left+(S?T-p.offset().left:0),a=t[0].offsetWidth,s=t[0].offsetHeight,o=l.offsetWidth,c=l.offsetHeight,v=ge(r-(Y-a)/2,T+8,T+h-Y-8),b=i-F-c/2,b<M||i>M+m?(_.removeClass("mbsc-fr-bubble-top").addClass("mbsc-fr-bubble-bottom"),b=i+s+c/2):_.removeClass("mbsc-fr-bubble-bottom").addClass("mbsc-fr-bubble-top"),ne(".mbsc-fr-arr",g).css({left:ge(r+a/2-(v+(Y-o)/2),0,o)}),R=b>M&&v>T&&b+F<=M+m&&v+Y<=T+h):(v=T,b="top"==W.display?M:Math.max(0,M+m-F)),O&&(d=Math.max(b+F,S?k.scrollHeight:ne(document).height()),u=Math.max(v+Y,S?k.scrollWidth:ne(document).width()),x.css({width:u,height:d}),W.scroll&&"bubble"==W.display&&(b+F+8>M+m||i>M+m||i+s<M)&&(N=!0,setTimeout(function(){N=!1},300),w.scrollTop(Math.min(i,b+F-m+8,d-m)))),y.top=Math.floor(b),y.left=Math.floor(v),_.css(y),B=h,z=m)))},K.attachShow=function(e,t){var a,s=ne(e),n=s.prop("readonly");if("inline"!==W.display){if((W.showOnFocus||W.showOnTap)&&s.is("input,select")&&(s.prop("readonly",!0).on("mousedown.mbsc",function(e){e.preventDefault()}).on("focus.mbsc",function(){K._isVisible&&this.blur()}),a=ne('label[for="'+s.attr("id")+'"]'),a.length||(a=s.closest("label"))),s.is("select"))return;W.showOnFocus&&s.on("focus.mbsc",function(){fe?setTimeout(function(){fe=!1},300):d(t,s)}),W.showOnTap&&(s.on("keydown.mbsc",function(e){32!=e.keyCode&&13!=e.keyCode||(e.preventDefault(),e.stopPropagation(),d(t,s))}),K.tap(s,function(){d(t,s)}),a&&a.length&&K.tap(a,function(){d(t,s)})),Z.push({readOnly:n,el:s,lbl:a})}},K.select=function(){V?K.hide(!1,"set",!1,u):u()},K.cancel=function(){V?K.hide(!1,"cancel",!1,m):m()},K.clear=function(){K._clearValue(),U("onClear"),V&&K._isVisible&&!K.live?K.hide(!1,"clear",!1,h):h()},K.enable=function(){W.disabled=!1,K._isInput&&G.prop("disabled",!1)},K.disable=function(){W.disabled=!0,K._isInput&&G.prop("disabled",!0)},K.show=function(e,t){function a(){g.off(_e,a).removeClass("mbsc-anim-in mbsc-anim-trans mbsc-anim-trans-"+D).find(".mbsc-fr-popup").removeClass("mbsc-anim-"+D),r(t)}var l,d;if(!W.disabled&&!K._isVisible){if(K._readValue(),U("onBeforeShow")===!1)return!1;if(he=null,D=W.animate,T=W.buttons||[],O=S||"bubble"==W.display,E=we&&!O&&W.scrollLock,l=T.length>0,D!==!1&&("top"==W.display?D=D||"slidedown":"bottom"==W.display?D=D||"slideup":"center"!=W.display&&"bubble"!=W.display||(D=D||"pop")),V&&(q=Math.max(0,w.scrollTop()),j=Math.max(0,w.scrollLeft()),B=0,z=0,E&&!v.hasClass("mbsc-fr-lock-ios")&&p.css({top:-q+"px",left:-j+"px"}),v.addClass((W.scrollLock?"mbsc-fr-lock":"")+(E?" mbsc-fr-lock-ios":"")+(S?" mbsc-fr-lock-ctx":"")),ne(document.activeElement).is("input,textarea")&&document.activeElement.blur(),$.activeInstance&&$.activeInstance.hide(),$.activeInstance=K,k.mbscModals=k.mbscModals||0,k.mbscLock=k.mbscLock||0,k.mbscModals++,W.scrollLock&&k.mbscLock++),d='<div lang="'+W.lang+'" class="mbsc-fr mbsc-no-touch mbsc-'+W.theme+(W.baseTheme?" mbsc-"+W.baseTheme:"")+" mbsc-fr-"+W.display+" "+(W.cssClass||"")+" "+(W.compClass||"")+(K._isLiquid?" mbsc-fr-liq":"")+(E?" mbsc-platform-ios":"")+(l?T.length>=3?" mbsc-fr-btn-block ":"":" mbsc-fr-nobtn")+'">'+(V?'<div class="mbsc-fr-persp"><div class="mbsc-fr-overlay"></div><div role="dialog" tabindex="-1" class="mbsc-fr-scroll">':"")+'<div class="mbsc-fr-popup'+(W.rtl?" mbsc-rtl":" mbsc-ltr")+(W.headerText?" mbsc-fr-has-hdr":"")+'">'+("bubble"===W.display?'<div class="mbsc-fr-arr-w"><div class="mbsc-fr-arr-i"><div class="mbsc-fr-arr"></div></div></div>':"")+'<div class="mbsc-fr-w"><div aria-live="assertive" class="mbsc-fr-aria mbsc-fr-hdn"></div>'+(W.headerText?'<div class="mbsc-fr-hdr">'+(ye(W.headerText)?W.headerText:"")+"</div>":"")+'<div class="mbsc-fr-c">',d+=K._generateContent(),d+="</div>",l&&(d+='<div class="mbsc-fr-btn-cont">',ne.each(T,function(e,t){t=ye(t)?K.buttons[t]:t,"set"===t.handler&&(t.parentClass="mbsc-fr-btn-s"),"cancel"===t.handler&&(t.parentClass="mbsc-fr-btn-c"),d+="<div"+(W.btnWidth?' style="width:'+100/T.length+'%"':"")+' class="mbsc-fr-btn-w '+(t.parentClass||"")+'"><div tabindex="0" role="button" class="mbsc-fr-btn'+e+" mbsc-fr-btn-e "+(void 0===t.cssClass?W.btnClass:t.cssClass)+(t.icon?" mbsc-ic mbsc-ic-"+t.icon:"")+'">'+(t.text||"")+"</div></div>"}),d+="</div>"),d+="</div></div></div></div>"+(V?"</div></div>":""),g=ne(d),x=ne(".mbsc-fr-persp",g),y=ne(".mbsc-fr-scroll",g),C=ne(".mbsc-fr-w",g),b=ne(".mbsc-fr-hdr",g),_=ne(".mbsc-fr-popup",g),f=ne(".mbsc-fr-aria",g),I=g[0],H=y[0],P=_[0],K._markup=g,K._header=b,K._isVisible=!0,L="orientationchange resize",K._markupReady(g),U("onMarkupReady",{target:I}),V){if(ne(window).on("keydown",i),W.scrollLock&&g.on("touchmove mousewheel wheel",function(e){R&&e.preventDefault()}),W.focusTrap&&w.on("focusin",c),W.closeOnOverlayTap){var u,m,h,M;y.on("touchstart mousedown",function(e){m||e.target!=y[0]||(m=!0,u=!1,h=xe(e,"X"),M=xe(e,"Y"))}).on("touchmove mousemove",function(e){m&&!u&&(Math.abs(xe(e,"X")-h)>9||Math.abs(xe(e,"Y")-M)>9)&&(u=!0)}).on("touchcancel",function(){m=!1}).on("touchend touchcancel mouseup",function(e){m&&!u&&(K.cancel(),"mouseup"!=e.type&&pe.preventClick()),m=!1})}O&&(L+=" scroll")}setTimeout(function(){if(V)g.appendTo(p);else if(G.is("div")&&!K._hasContent)G.empty().append(g);else if(G.hasClass("mbsc-control")){var i=G.closest(".mbsc-control-w");g.insertAfter(i),i.hasClass("mbsc-select")&&i.addClass("mbsc-select-inline")}else g.insertAfter(G);A=!0,K._markupInserted(g),U("onMarkupInserted",{target:I}),g.on("selectstart mousedown",Me).on("click",".mbsc-fr-btn-e",Me).on("keydown",".mbsc-fr-btn-e",function(e){32==e.keyCode&&(e.preventDefault(),e.stopPropagation(),this.click())}).on("keydown",function(e){if(32==e.keyCode)e.preventDefault();else if(9==e.keyCode&&V&&W.focusTrap){var t=g.find('[tabindex="0"]').filter(function(){return this.offsetWidth>0||this.offsetHeight>0}),a=t.index(ne(":focus",g)),s=t.length-1,n=0;e.shiftKey&&(s=0,n=-1),a===s&&(t.eq(n)[0].focus(),e.preventDefault())}}).on("touchstart mousedown pointerdown",".mbsc-fr-btn-e",s).on("touchend",".mbsc-fr-btn-e",n),ne("input,select,textarea",g).on("selectstart mousedown",function(e){e.stopPropagation()}).on("keydown",function(e){32==e.keyCode&&e.stopPropagation()}),I.addEventListener("touchstart",function(){X||(X=!0,p.find(".mbsc-no-touch").removeClass("mbsc-no-touch"))},!0),ne.each(T,function(e,t){K.tap(ne(".mbsc-fr-btn"+e,g),function(e){t=ye(t)?K.buttons[t]:t,(ye(t.handler)?K.handlers[t.handler]:t.handler).call(this,e,K)},!0)}),K._attachEvents(g),K.position(),w.on(L,o),V&&(D&&!e?g.addClass("mbsc-anim-in mbsc-anim-trans mbsc-anim-trans-"+D).on(_e,a).find(".mbsc-fr-popup").addClass("mbsc-anim-"+D):r(t)),U("onShow",{target:I,valueText:K._tempValue})},E?100:0)}},K.hide=function(e,t,a,s){function n(){g.off(_e,n),l(e)}return!(!K._isVisible||!a&&!K._isValid&&"set"==t||!a&&U("onBeforeClose",{valueText:K._tempValue,button:t})===!1)&&(V&&(ne(document.activeElement).is("input,textarea")&&P.contains(document.activeElement)&&document.activeElement.blur(),ne(window).off("keydown",i),delete $.activeInstance),g&&(V&&D&&!e?g.addClass("mbsc-anim-out mbsc-anim-trans mbsc-anim-trans-"+D).on(_e,n).find(".mbsc-fr-popup").addClass("mbsc-anim-"+D):l(e),K._detachEvents(g),w.off(L,o).off("focusin",c)),s&&s(),void U("onClose",{valueText:K._value}))},K.ariaMessage=function(e){f.html(""),setTimeout(function(){f.html(e)},100)},K.isVisible=function(){return K._isVisible},K.setVal=Te,K.getVal=Te,K._generateContent=Te,K._attachEvents=Te,K._detachEvents=Te,K._readValue=Te,K._clearValue=Te,K._fillValue=Te,K._markupReady=Te,K._markupInserted=Te,K._markupRemove=Te,K._position=Te,K.__processSettings=Te,K.__init=Te,K.__destroy=Te,K._destroy=function(){K.hide(!0,!1,!0),G.off(".mbsc"),ne.each(Z,function(e,t){t.el.off(".mbsc").prop("readonly",t.readOnly),t.lbl&&t.lbl.off(".mbsc")}),K.__destroy()},K._processSettings=function(){var e,t;for(K.__processSettings(),W.buttons=W.buttons||("inline"!==W.display?["set","cancel"]:[]),W.headerText=void 0===W.headerText?"inline"!==W.display&&"{value}":W.headerText,T=W.buttons||[],V="inline"!==W.display,S="body"!=W.context,p=ne(W.context),v=S?p:ne("body,html"),k=p[0],K._window=w=ne(S?W.context:window),K.live=!0,t=0;t<T.length;t++)e=T[t],"ok"!=e&&"set"!=e&&"set"!=e.handler||(K.live=!1);K.buttons.set={text:W.setText,icon:W.setIcon,handler:"set"},K.buttons.cancel={text:W.cancelText,icon:W.cancelIcon,handler:"cancel"},K.buttons.close={text:W.closeText,icon:W.closeIcon,handler:"cancel"},K.buttons.clear={text:W.clearText,icon:W.clearIcon,handler:"clear"},K._isInput=G.is("input")},K._init=function(){K._isVisible&&K.hide(!0,!1,!0),G.off(".mbsc"),K.__init(),K._isLiquid="liquid"==W.layout,V?(K._readValue(),K._hasContent||K.attachShow(G)):K.show(),G.on("change.mbsc",function(){K._preventChange||K.setVal(G.val(),!0,!1),K._preventChange=!1})},K.buttons={},K.handlers={set:K.select,cancel:K.cancel,clear:K.clear},K._value=null,K._isValid=!0,K._isVisible=!1,W=K.settings,U=K.trigger,a||K.init(t)};ke.prototype._defaults={lang:"en",setText:"Set",selectedText:"{count} selected",closeText:"Close",cancelText:"Cancel",clearText:"Clear",context:"body",maxPopupWidth:600,disabled:!1,closeOnOverlayTap:!0,showOnFocus:"android"==ee.name,showOnTap:!0,display:"center",scroll:!0,scrollLock:!0,tap:!0,btnClass:"mbsc-fr-btn",btnWidth:!0,focusTrap:!0,focusOnClose:!Ce},be.Frame=ke,ve.frame.mobiscroll={headerText:!1,btnWidth:!1},ve.scroller.mobiscroll=le({},ve.frame.mobiscroll,{rows:5,showLabel:!1,selectedLineBorder:1,weekDays:"min",checkIcon:"ion-ios7-checkmark-empty",btnPlusClass:"mbsc-ic mbsc-ic-arrow-down5",btnMinusClass:"mbsc-ic mbsc-ic-arrow-up5",btnCalPrevClass:"mbsc-ic mbsc-ic-arrow-left5",btnCalNextClass:"mbsc-ic mbsc-ic-arrow-right5"}),ne(window).on("focus",function(){he&&(fe=!0)});var De=$.classes,Se=$.util,Ve=Se.constrain,Ae=Se.jsPrefix,Ie=Se.prefix,Ye=Se.getCoord,Fe=Se.getPosition,Oe=Se.testTouch,Ee=Se.isNumeric,He=Se.isString,Pe=/(iphone|ipod|ipad)/i.test(navigator.userAgent),Le=function(){},Ne=window.requestAnimationFrame||function(e){e()},We=window.cancelAnimationFrame||Le,$e=function(e,t,a){function s(e){X("onStart",{domEvent:e}),Z.stopProp&&e.stopPropagation(),(Z.prevDef||"mousedown"==e.type)&&e.preventDefault(),Z.readonly||Z.lock&&S||Oe(e,this)&&!D&&(d&&d.removeClass("mbsc-btn-a"),w=!1,S||(d=ne(e.target).closest(".mbsc-btn-e",this),d.length&&!d.hasClass("mbsc-btn-d")&&(w=!0,u=setTimeout(function(){d.addClass("mbsc-btn-a")},100))),D=!0,Y=!1,V=!1,z.scrolled=S,N=Ye(e,"X"),W=Ye(e,"Y"),y=C=N,h=0,f=0,p=0,L=new Date,P=+Fe(j,U)||0,S&&c(P,Pe?0:1),"mousedown"===e.type&&ne(document).on("mousemove",n).on("mouseup",r))}function n(e){D&&(Z.stopProp&&e.stopPropagation(),y=Ye(e,"X"),x=Ye(e,"Y"),h=y-N,f=x-W,p=U?f:h,w&&(Math.abs(f)>Z.thresholdY||Math.abs(h)>Z.thresholdX)&&(clearTimeout(u),d.removeClass("mbsc-btn-a"),w=!1),(z.scrolled||!V&&Math.abs(p)>q)&&(Y||X("onGestureStart",_),z.scrolled=Y=!0,I||(I=!0,A=Ne(i))),U||Z.scrollLock?e.preventDefault():z.scrolled?e.preventDefault():Math.abs(f)>7&&(V=!0,z.scrolled=!0,J.trigger("touchend")))}function i(){M&&(p=Ve(p,-E*M,E*M)),c(Ve(P+p,k-g,T+g)),I=!1}function r(e){if(D){var t,a=new Date-L;Z.stopProp&&e.stopPropagation(),We(A),I=!1,!V&&z.scrolled&&(Z.momentum&&a<300&&(t=p/a,p=Math.max(Math.abs(p),t*t/Z.speedUnit)*(p<0?-1:1)),o(p)),w&&(clearTimeout(u),d.addClass("mbsc-btn-a"),setTimeout(function(){d.removeClass("mbsc-btn-a")},100),V||z.scrolled||X("onBtnTap",{target:d[0]})),"mouseup"==e.type&&ne(document).off("mousemove",n).off("mouseup",r),D=!1}}function l(e){if(e=e.originalEvent||e,p=U?e.deltaY||e.wheelDelta||e.detail:e.deltaX,X("onStart",{domEvent:e}),Z.stopProp&&e.stopPropagation(),p){if(e.preventDefault(),e.deltaMode&&1==e.deltaMode&&(p*=5),p=Ve(-p,-20,20),P=B,Z.readonly||P+p<k||P+p>T)return;Y||(_={posX:U?0:B,posY:U?B:0,originX:U?0:P,originY:U?P:0,direction:p>0?U?270:360:U?90:180},X("onGestureStart",_)),I||(I=!0,A=Ne(i)),Y=!0,clearTimeout(F),F=setTimeout(function(){We(A),I=!1,Y=!1,o(p)},200)}}function o(e){var t,a,s;if(M&&(e=Ve(e,-E*M,E*M)),s=Ve(Math.round((P+e)/E)*E,k,T),K=Math.round(s/E),H){if(e<0){for(t=H.length-1;t>=0;t--)if(Math.abs(s)+m>=H[t].breakpoint){K=t,G=2,s=H[t].snap2;break}}else if(e>=0)for(t=0;t<H.length;t++)if(Math.abs(s)<=H[t].breakpoint){K=t,G=1,s=H[t].snap1;break}s=Ve(s,k,T)}a=Z.time||(B<k||B>T?1e3:Math.max(1e3,Math.abs(s-B)*Z.timeUnit)),_.destinationX=U?0:s,_.destinationY=U?s:0,_.duration=a,_.transitionTiming=v,X("onGestureEnd",_),c(s,a)}function c(e,t,a,s){var n=e!=B,i=t>1,r=function(){clearInterval(O),clearTimeout(R),S=!1,B=e,_.posX=U?0:e,_.posY=U?e:0,n&&X("onMove",_),i&&X("onAnimationEnd",_),s&&s()};_={posX:U?0:B,posY:U?B:0,originX:U?0:P,originY:U?P:0,direction:e-B>0?U?270:360:U?90:180},B=e,i&&(_.destinationX=U?0:e,_.destinationY=U?e:0,_.duration=t,_.transitionTiming=v,X("onAnimationStart",_)),$[Ae+"Transition"]=t?Ie+"transform "+Math.round(t)+"ms "+v:"",$[Ae+"Transform"]="translate3d("+(U?"0,"+e+"px,":e+"px,0,")+"0)",!n&&!S||!t||t<=1?r():t&&(S=!a,clearInterval(O),O=setInterval(function(){var t=+Fe(j,U)||0;_.posX=U?0:t,_.posY=U?t:0,X("onMove",_),Math.abs(t-e)<2&&r()},100),clearTimeout(R),R=setTimeout(function(){r()},t)),Z.sync&&Z.sync(e,t,v)}var d,u,m,h,f,p,b,v,g,y,x,_,w,C,T,M,k,D,S,V,A,I,Y,F,O,E,H,P,L,N,W,$,j,R,q,X,U,B,z=this,K=0,G=1,Z=t,J=ne(e);De.Base.call(this,e,t,!0),z.scrolled=!1,z.scroll=function(t,a,s,n){t=Ee(t)?Math.round(t/E)*E:Math.ceil((ne(t,e).length?Math.round(j.offset()[b]-ne(t,e).offset()[b]):B)/E)*E,t=Ve(t,k,T),K=Math.round(t/E),P=B,c(t,a,s,n)},z.refresh=function(e){var t;m=void 0===Z.contSize?U?J.height():J.width():Z.contSize,k=void 0===Z.minScroll?Math.min(0,U?m-j.height():m-j.width()):Z.minScroll,T=void 0===Z.maxScroll?0:Z.maxScroll,H=null,!U&&Z.rtl&&(t=T,T=-k,k=-t),He(Z.snap)&&(H=[],j.find(Z.snap).each(function(){var e=U?this.offsetTop:this.offsetLeft,t=U?this.offsetHeight:this.offsetWidth;H.push({breakpoint:e+t/2,snap1:-e,snap2:m-e-t})})),E=Ee(Z.snap)?Z.snap:1,M=Z.snap?Z.maxSnapScroll:0,v=Z.easing,g=Z.elastic?Ee(Z.snap)?E:Ee(Z.elastic)?Z.elastic:0:0,void 0===B&&(B=Z.initialPos,K=Math.round(B/E)),e||z.scroll(Z.snap?H?H[K]["snap"+G]:K*E:B)},z._processSettings=function(){U="Y"==Z.axis,b=U?"top":"left",j=Z.moveElement||J.children().eq(0),$=j[0].style,q=U?Z.thresholdY:Z.thresholdX},z._init=function(){z.refresh(),J.on("touchstart mousedown",s).on("touchmove",n).on("touchend touchcancel",r),Z.mousewheel&&J.on("wheel mousewheel",l),e.addEventListener&&e.addEventListener("click",function(e){z.scrolled&&(z.scrolled=!1,e.stopPropagation(),e.preventDefault())},!0)},z._destroy=function(){clearInterval(O),J.off("touchstart mousedown",s).off("touchmove",n).off("touchend touchcancel",r).off("wheel mousewheel",l)},Z=z.settings,X=z.trigger,a||z.init(t)};$e.prototype={_class:"scrollview",_defaults:{speedUnit:.0022,timeUnit:3,initialPos:0,axis:"Y",thresholdX:10,thresholdY:5,easing:"cubic-bezier(0.190, 1.000, 0.220, 1.000)",stopProp:!0,momentum:!0,mousewheel:!0,elastic:!0}},De.ScrollView=$e,$.presetShort("scrollview","ScrollView",!1);var je=$.platform,Re=$.util,qe=Re.jsPrefix,Xe=Re.prefix,Ue=Re.getCoord,Be=Re.testTouch,ze=window.CSS,Ke=ze&&ze.supports&&ze.supports("(transform-style: preserve-3d)"),Ge=!Ke||"wp"==je.name||"android"==je.name;$.presetShort("scroller","Scroller",!1);var Ze=function(e,t,a){function s(e){var t=+ne(this).attr("data-index");e.stopPropagation(),"mousedown"===e.type&&e.preventDefault(),Be(e,this)&&!v(t)&&(D=ne(this).addClass("mbsc-sc-btn-a"),H=Ue(e,"X"),P=Ue(e,"Y"),O=!0,E=!1,setTimeout(function(){f(t,"inc"==D.attr("data-dir")?1:-1)},100),"mousedown"===e.type&&ne(document).on("mousemove",n).on("mouseup",i))}function n(e){(Math.abs(H-Ue(e,"X"))>7||Math.abs(P-Ue(e,"Y"))>7)&&p(!0)}function i(e){p(),e.preventDefault(),"mouseup"===e.type&&ne(document).off("mousemove",n).off("mouseup",i)}function r(e){var t,a,s=ne(this).attr("data-index");38==e.keyCode?(t=!0,a=-1):40==e.keyCode?(t=!0,a=1):32==e.keyCode&&(t=!0,o(s,X[s]._$markup.find('.mbsc-sc-itm[data-val="'+L[s]+'"]'))),t&&(e.stopPropagation(),e.preventDefault(),a&&!O&&(O=!0,E=!1,
f(s,a)))}function l(){p()}function o(e,t){var a=X[e],s=t.attr("data-index"),n=h(a,s),i=K._tempSelected[e],r=Re.isNumeric(a.multiple)?a.multiple:1/0;R("onItemTap",{target:t[0],index:e,value:n,selected:t.hasClass("mbsc-sc-itm-sel")})!==!1&&(a.multiple&&!a._disabled[n]&&(void 0!==i[n]?(t.removeClass(I).removeAttr("aria-selected"),delete i[n]):(1==r&&(K._tempSelected[e]=i={},a._$markup.find(".mbsc-sc-itm-sel").removeClass(I).removeAttr("aria-selected")),Re.objectToArray(i).length<r&&(t.addClass(I).attr("aria-selected","true"),i[n]=n))),T(a,e,s,z,!0,!0,a.multiple),!K.live||a.multiple||j.setOnTap!==!0&&!j.setOnTap[e]||setTimeout(function(){K.select()},200))}function c(e,t){return(e._array?e._map[t]:e.getIndex(t,K))||0}function d(e,t){var a=e.data;if(t>=e.min&&t<=e.max)return e._array?e.circular?ne(a).get(t%e._length):a[t]:ne.isFunction(a)?a(t,K):""}function u(e){return ne.isPlainObject(e)?void 0!==e.value?e.value:e.display:e}function m(e){var t=ne.isPlainObject(e)?e.display:e;return void 0===t?"":t}function h(e,t){return u(d(e,t))}function f(e,t){E||b(e,t),O&&(clearInterval(F),F=setInterval(function(){b(e,t)},j.delay))}function p(e){clearInterval(F),E=e,O=!1,D&&D.removeClass("mbsc-sc-btn-a")}function b(e,t){var a=X[e];T(a,e,a._current+t,z,1==t?1:2)}function v(e){return ne.isArray(j.readonly)?j.readonly[e]:j.readonly}function g(e,t,a){var s=e._index-e._batch;return e.data=e.data||[],e.key=void 0!==e.key?e.key:t,e.label=void 0!==e.label?e.label:t,e._map={},e._array=ne.isArray(e.data),e._array&&(e._length=e.data.length,ne.each(e.data,function(t,a){e._map[u(a)]=t})),e.circular=void 0===j.circular?void 0===e.circular?e._array&&e._length>j.rows:e.circular:ne.isArray(j.circular)?j.circular[t]:j.circular,e.min=e._array?e.circular?-(1/0):0:void 0===e.min?-(1/0):e.min,e.max=e._array?e.circular?1/0:e._length-1:void 0===e.max?1/0:e.max,e._nr=t,e._index=c(e,L[t]),e._disabled={},e._batch=0,e._current=e._index,e._first=e._index-B,e._last=e._index+B,e._offset=e._first,a?(e._offset-=e._margin/N+(e._index-s),e._margin+=(e._index-s)*N):e._margin=0,e._refresh=function(t){var a=-(e.min-e._offset+(e.multiple&&!A?Math.floor(j.rows/2):0))*N,s=Math.min(a,-(e.max-e._offset-(e.multiple&&!A?Math.floor(j.rows/2):0))*N);le(e._scroller.settings,{minScroll:s,maxScroll:a}),e._scroller.refresh(t)},U[e.key]=e,e}function y(e,t,a,s,n){var i,r,l,o,c,h,f,p,b="",v=K._tempSelected[t],g=e._disabled||{};for(i=a;i<=s;i++)l=d(e,i),c=m(l),o=u(l),r=l&&void 0!==l.cssClass?l.cssClass:"",h=l&&void 0!==l.label?l.label:"",f=l&&l.invalid,p=void 0!==o&&o==L[t]&&!e.multiple,b+='<div role="option" aria-selected="'+!!v[o]+'" class="mbsc-sc-itm '+(n?"mbsc-sc-itm-3d ":"")+r+" "+(p?"mbsc-sc-itm-sel ":"")+(v[o]?I:"")+(void 0===o?" mbsc-sc-itm-ph":" mbsc-btn-e")+(f?" mbsc-sc-itm-inv-h mbsc-btn-d":"")+(g[o]?" mbsc-sc-itm-inv mbsc-btn-d":"")+'" data-index="'+i+'" data-val="'+o+'"'+(h?' aria-label="'+h+'"':"")+(p?' aria-selected="true"':"")+' style="height:'+N+"px;line-height:"+N+"px;"+(n?Xe+"transform:rotateX("+(e._offset-i)*V%360+"deg) translateZ("+N*j.rows/2+"px);":"")+'">'+(q>1?'<div class="mbsc-sc-itm-ml" style="line-height:'+Math.round(N/q)+"px;font-size:"+Math.round(N/q*.8)+'px;">':"")+c+(q>1?"</div>":"")+"</div>";return b}function x(t){var a=j.headerText;return a?"function"==typeof a?a.call(e,t):a.replace(/\{value\}/i,t):""}function _(e,t,a){var s=Math.round(-a/N)+e._offset,n=s-e._current,i=e._first,r=e._last,l=i+B-S+1,o=r-B+S;n&&(e._first+=n,e._last+=n,e._current=s,n>0?(e._$scroller.append(y(e,t,Math.max(r+1,i+n),r+n)),ne(".mbsc-sc-itm",e._$scroller).slice(0,Math.min(n,r-i+1)).remove(),A&&(e._$3d.append(y(e,t,Math.max(o+1,l+n),o+n,!0)),ne(".mbsc-sc-itm",e._$3d).slice(0,Math.min(n,o-l+1)).attr("class","mbsc-sc-itm-del"))):n<0&&(e._$scroller.prepend(y(e,t,i+n,Math.min(i-1,r+n))),ne(".mbsc-sc-itm",e._$scroller).slice(Math.max(n,i-r-1)).remove(),A&&(e._$3d.prepend(y(e,t,l+n,Math.min(l-1,o+n),!0)),ne(".mbsc-sc-itm",e._$3d).slice(Math.max(n,l-o-1)).attr("class","mbsc-sc-itm-del"))),e._margin+=n*N,e._$scroller.css("margin-top",e._margin+"px"))}function w(e,t,a,s){var n,i=X[e],r=s||i._disabled,l=c(i,t),o=t,d=t,u=0,m=0;if(void 0===t&&(t=h(i,l)),r[t]===!0){for(n=0;l-u>=i.min&&r[o]&&n<100;)n++,u++,o=h(i,l-u);for(n=0;l+m<i.max&&r[d]&&n<100;)n++,m++,d=h(i,l+m);t=(m<u&&m&&2!==a||!u||l-u<0||1==a)&&!r[d]?d:o}return t}function C(t,a,s,n,i,r){var l,o,d,u,m=K._isVisible;$=!0,u=j.validate.call(e,{values:L.slice(0),index:a,direction:s},K)||{},$=!1,u.valid&&(K._tempWheelArray=L=u.valid.slice(0)),r||ne.each(X,function(e,n){if(m&&n._$markup.find(".mbsc-sc-itm-inv").removeClass("mbsc-sc-itm-inv mbsc-btn-d"),n._disabled={},u.disabled&&u.disabled[e]&&ne.each(u.disabled[e],function(e,t){n._disabled[t]=!0,m&&n._$markup.find('.mbsc-sc-itm[data-val="'+t+'"]').addClass("mbsc-sc-itm-inv mbsc-btn-d")}),L[e]=n.multiple?L[e]:w(e,L[e],s),m){if(n.multiple&&void 0!==a||n._$markup.find(".mbsc-sc-itm-sel").removeClass(I).removeAttr("aria-selected"),n.multiple){if(void 0===a)for(var r in K._tempSelected[e])n._$markup.find('.mbsc-sc-itm[data-val="'+r+'"]').addClass(I).attr("aria-selected","true")}else n._$markup.find('.mbsc-sc-itm[data-val="'+L[e]+'"]').addClass("mbsc-sc-itm-sel").attr("aria-selected","true");o=c(n,L[e]),l=o-n._index+n._batch,Math.abs(l)>2*B+1&&(d=l+(2*B+1)*(l>0?-1:1),n._offset+=d,n._margin-=d*N,n._refresh()),n._index=o+n._batch,n._scroller.scroll(-(o-n._offset+n._batch)*N,a===e||void 0===a?t:z,i)}}),R("onValidated"),K._tempValue=j.formatValue(L,K),m&&K._header.html(x(K._tempValue)),K.live&&(K._hasValue=n||K._hasValue,M(n,n,0,!0),n&&R("onSet",{valueText:K._value})),n&&R("onChange",{valueText:K._tempValue})}function T(e,t,a,s,n,i,r){var l=h(e,a);void 0!==l&&(L[t]=l,e._batch=e._array?Math.floor(a/e._length)*e._length:0,setTimeout(function(){C(s,t,n,!0,i,r)},10))}function M(e,t,a,s,n){if(s?K._tempValue=j.formatValue(K._tempWheelArray,K):C(a),!n){K._wheelArray=[];for(var i=0;i<L.length;i++)K._wheelArray[i]=X[i]&&X[i].multiple?Object.keys(K._tempSelected[i])[0]:L[i];K._value=K._hasValue?K._tempValue:null,K._selected=le(!0,{},K._tempSelected)}e&&(K._isInput&&G.val(K._hasValue?K._tempValue:""),R("onFill",{valueText:K._hasValue?K._tempValue:"",change:t}),t&&(K._preventChange=!0,G.trigger("change")))}var k,D,S,V,A,I,Y,F,O,E,H,P,L,N,W,$,j,R,q,X,U,B=40,z=1e3,K=this,G=ne(e);ke.call(this,e,t,!0),K.setVal=K._setVal=function(t,a,s,n,i){K._hasValue=null!==t&&void 0!==t,K._tempWheelArray=L=ne.isArray(t)?t.slice(0):j.parseValue.call(e,t,K)||[],M(a,void 0===s?a:s,i,!1,n)},K.getVal=K._getVal=function(e){var t=K._hasValue||e?K[e?"_tempValue":"_value"]:null;return Re.isNumeric(t)?+t:t},K.setArrayVal=K.setVal,K.getArrayVal=function(e){return e?K._tempWheelArray:K._wheelArray},K.changeWheel=function(e,t,a){var s,n;ne.each(e,function(e,t){n=U[e],s=n._nr,n&&(le(n,t),g(n,s,!0),K._isVisible&&(A&&n._$3d.html(y(n,s,n._first+B-S+1,n._last-B+S,!0)),n._$scroller.html(y(n,s,n._first,n._last)).css("margin-top",n._margin+"px"),n._refresh($)))}),!K._isVisible||K._isLiquid||$||K.position(),$||C(t,void 0,void 0,a)},K.getValidValue=w,K._generateContent=function(){var e,t=0,a="",s=A?Xe+"transform: translateZ("+(N*j.rows/2+3)+"px);":"",n='<div class="mbsc-sc-whl-l" style="'+s+"height:"+N+"px;margin-top:-"+(N/2+(j.selectedLineBorder||0))+'px;"></div>',i=0;return ne.each(j.wheels,function(r,l){a+='<div class="mbsc-w-p mbsc-sc-whl-gr-c'+(j.showLabel?" mbsc-sc-lbl-v":"")+'">'+n+'<div class="mbsc-sc-whl-gr'+(A?" mbsc-sc-whl-gr-3d":"")+(Y?" mbsc-sc-cp":"")+(j.width||j.maxWidth?'"':'" style="max-width:'+j.maxPopupWidth+'px;"')+">",ne.each(l,function(r,l){K._tempSelected[i]=le({},K._selected[i]),X[i]=g(l,i),t+=j.maxWidth?j.maxWidth[i]||j.maxWidth:j.width?j.width[i]||j.width:0,e=void 0!==l.label?l.label:r,a+='<div class="mbsc-sc-whl-w '+(l.cssClass||"")+(l.multiple?" mbsc-sc-whl-multi":"")+'" style="'+(j.width?"width:"+(j.width[i]||j.width)+"px;":(j.minWidth?"min-width:"+(j.minWidth[i]||j.minWidth)+"px;":"")+(j.maxWidth?"max-width:"+(j.maxWidth[i]||j.maxWidth)+"px;":""))+'"><div class="mbsc-sc-whl-o" style="'+s+'"></div>'+n+'<div tabindex="0" aria-live="off" aria-label="'+e+'"'+(l.multiple?' aria-multiselectable="true"':"")+' role="listbox" data-index="'+i+'" class="mbsc-sc-whl" style="height:'+j.rows*N*(A?1.1:1)+'px;">'+(Y?'<div data-index="'+i+'" data-dir="inc" class="mbsc-sc-btn mbsc-sc-btn-plus '+(j.btnPlusClass||"")+'" style="height:'+N+"px;line-height:"+N+'px;"></div><div data-index="'+i+'" data-dir="dec" class="mbsc-sc-btn mbsc-sc-btn-minus '+(j.btnMinusClass||"")+'" style="height:'+N+"px;line-height:"+N+'px;"></div>':"")+'<div class="mbsc-sc-lbl">'+e+'</div><div class="mbsc-sc-whl-c" style="height:'+W+"px;margin-top:-"+(W/2+1)+"px;"+s+'"><div class="mbsc-sc-whl-sc" style="top:'+(W-N)/2+'px;">',a+=y(l,i,l._first,l._last)+"</div></div>",A&&(a+='<div class="mbsc-sc-whl-3d" style="height:'+N+"px;margin-top:-"+N/2+'px;">',a+=y(l,i,l._first+B-S+1,l._last-B+S,!0),a+="</div>"),a+="</div></div>",i++}),a+="</div></div>"}),t&&(j.maxPopupWidth=t),a},K._attachEvents=function(e){ne(".mbsc-sc-btn",e).on("touchstart mousedown",s).on("touchmove",n).on("touchend touchcancel",i),ne(".mbsc-sc-whl",e).on("keydown",r).on("keyup",l)},K._detachEvents=function(){for(var e=0;e<X.length;e++)X[e]._scroller.destroy()},K._markupReady=function(e){k=e,ne(".mbsc-sc-whl",k).each(function(e){var t,a=ne(this),s=X[e],n=-(s.min-s._offset+(s.multiple&&!A?Math.floor(j.rows/2):0))*N,i=Math.min(n,-(s.max-s._offset-(s.multiple&&!A?Math.floor(j.rows/2):0))*N);s._$markup=a,s._$scroller=ne(".mbsc-sc-whl-sc",this),s._$3d=ne(".mbsc-sc-whl-3d",this),s._scroller=new $e(this,{mousewheel:j.mousewheel,moveElement:s._$scroller,initialPos:(s._first-s._index)*N,contSize:0,snap:N,minScroll:i,maxScroll:n,maxSnapScroll:B,prevDef:!0,stopProp:!0,timeUnit:3,easing:"cubic-bezier(0.190, 1.000, 0.220, 1.000)",sync:function(e,t,a){A&&(s._$3d[0].style[qe+"Transition"]=t?Xe+"transform "+Math.round(t)+"ms "+a:"",s._$3d[0].style[qe+"Transform"]="rotateX("+-e/N*V+"deg)")},onStart:function(t,a){a.settings.readonly=v(e)},onGestureStart:function(){a.addClass("mbsc-sc-whl-a mbsc-sc-whl-anim"),R("onWheelGestureStart",{index:e})},onGestureEnd:function(a){var n=90==a.direction?1:2,i=a.duration,r=a.destinationY;t=Math.round(-r/N)+s._offset,T(s,e,t,i,n)},onAnimationStart:function(){a.addClass("mbsc-sc-whl-anim")},onAnimationEnd:function(){a.removeClass("mbsc-sc-whl-a mbsc-sc-whl-anim"),R("onWheelAnimationEnd",{index:e}),s._$3d.find(".mbsc-sc-itm-del").remove()},onMove:function(t){_(s,e,t.posY)},onBtnTap:function(t){o(e,ne(t.target))}})}),C()},K._fillValue=function(){K._hasValue=!0,M(!0,!0,0,!0)},K._clearValue=function(){ne(".mbsc-sc-whl-multi .mbsc-sc-itm-sel",k).removeClass(I).removeAttr("aria-selected")},K._readValue=function(){var t=G.val()||"",a=0;""!==t&&(K._hasValue=!0),K._tempWheelArray=L=K._hasValue&&K._wheelArray?K._wheelArray.slice(0):j.parseValue.call(e,t,K)||[],K._tempSelected=le(!0,{},K._selected),ne.each(j.wheels,function(e,t){ne.each(t,function(e,t){X[a]=g(t,a),a++})}),M(!1,!1,0,!0),R("onRead")},K.__processSettings=function(){j=K.settings,R=K.trigger,q=j.multiline,I="mbsc-sc-itm-sel mbsc-ic mbsc-ic-"+j.checkIcon,X=[],U={}},K.__init=function(){Y=j.showScrollArrows,A=j.scroll3d&&!Ge&&!Y,N=j.height,W=A?2*Math.round((N-.03*(N*j.rows/2+3))/2):N,S=Math.round(1.8*j.rows),V=360/(2*S),Y&&(j.rows=Math.max(3,j.rows)),j.cssClass=(j.cssClass||"")+" mbsc-sc"},K._getItemValue=u,K._tempSelected={},K._selected={},a||K.init(t)};Ze.prototype={_hasDef:!0,_hasTheme:!0,_hasLang:!0,_hasPreset:!0,_class:"scroller",_defaults:le({},ke.prototype._defaults,{minWidth:80,height:40,rows:3,multiline:1,delay:300,readonly:!1,showLabel:!0,setOnTap:!1,wheels:[],preset:"",speedUnit:.0012,timeUnit:.08,checkIcon:"checkmark",validate:function(){},formatValue:function(e){return e.join(" ")},parseValue:function(e,t){var a,s,n=[],i=[],r=0;return null!==e&&void 0!==e&&(n=(e+"").split(" ")),ne.each(t.settings.wheels,function(e,l){ne.each(l,function(e,l){s=l.data,a=t._getItemValue(s[0]),ne.each(s,function(e,s){if(n[r]==t._getItemValue(s))return a=t._getItemValue(s),!1}),i.push(a),r++})}),i}})},$.classes.Scroller=Ze;var Je=$.util,Qe=Je.isString,et={inputClass:"",invalid:[],rtl:!1,showInput:!0,groupLabel:"Groups",dataHtml:"html",dataText:"text",dataValue:"value",dataGroup:"group",dataDisabled:"disabled",filterPlaceholderText:"Type to filter",filterEmptyText:"No results",filterClearIcon:"material-close"};$.presetShort("select"),$.presets.scroller.select=function(e){function t(e){var t,a,s,n,i,r,l=0,o=0,c={};if(H={},w={},k=[],_=[],Z.length=0,q)ne.each(b,function(l,d){i=d[F.dataText],a=d[F.dataHtml],r=d[F.dataValue],s=d[F.dataGroup],n={value:r,html:a,text:i,index:l},H[r]=n,e&&!m(i,e)||(k.push(n),X&&(void 0===c[s]?(t={text:s,value:o,options:[],index:o},w[o]=t,c[s]=o,_.push(t),o++):t=w[c[s]],z&&(n.index=t.options.length),n.group=c[s],t.options.push(n)),d[F.dataDisabled]&&Z.push(r))});else if(X){var d=!0;ne("optgroup",I).each(function(t){w[t]={text:this.label,value:t,options:[],index:t},d=!0,ne("option",this).each(function(a){n={value:this.value,text:this.text,index:z?a:l++,group:t},H[this.value]=n,e&&!m(this.text,e)||(d&&(_.push(w[t]),d=!1),k.push(n),w[t].options.push(n),this.disabled&&Z.push(this.value))})})}else ne("option",I).each(function(t){n={value:this.value,text:this.text,index:t},H[this.value]=n,e&&!m(this.text,e)||(k.push(n),this.disabled&&Z.push(this.value))});k.length&&(v=k[0].value),K&&(k=[],l=0,ne.each(w,function(e,t){t.options.length&&(r="__group"+e,n={text:t.text,value:r,group:e,index:l++,cssClass:"mbsc-sel-gr"},H[r]=n,k.push(n),Z.push(n.value),ne.each(t.options,function(e,t){t.index=l++,k.push(t)}))})),O&&(k.length?O.removeClass("mbsc-sel-empty-v"):O.addClass("mbsc-sel-empty-v"))}function a(e,t,a){var s,n=[];for(s=0;s<e.length;s++)n.push({value:e[s].value,display:e[s].html||e[s].text,cssClass:e[s].cssClass});return{circular:!1,multiple:t,data:n,label:a}}function s(){return a(_,!1,F.groupLabel)}function n(){return a(z?w[x].options:k,W,R)}function i(){var e,t,a=[[]];return B&&(e=s(),L?a[0][C]=e:a[C]=[e]),t=n(),L?a[0][D]=t:a[D]=[t],a}function r(e){N&&(e&&Qe(e)&&(e=e.split(",")),ne.isArray(e)&&(e=e[0])),M=void 0!==e&&null!==e&&""!==e&&H[e]?e:v,B&&(x=H[M]?H[M].group:null)}function l(t,a){var s=t?e._tempWheelArray:e._hasValue?e._wheelArray:null;return s?F.group&&a?s:s[D]:null}function o(t){var a,s,n=[];if(W){for(a in e._tempSelected[D])n.push(V[a]||(H[a]?H[a].text:""));return n.join(", ")}return s=t[D],H[s]?H[s].text:""}function c(){var t=e.getVal(),a=e._tempValue;F.filter&&"inline"==F.display||p.val(a),I.val(t)}function u(){var t={};t[D]=n(),S=!0,e.changeWheel(t)}function m(e,t){return t=t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"),e.match(new RegExp(t,"ig"))}function h(e){return F.data.dataField?e[F.data.dataField]:F.data.processResponse?F.data.processResponse(e):e}function f(a){var l={};t(a),F.wheels=i(),r(M),l[D]=n(),e._tempWheelArray[D]=M,B&&(l[C]=s(),e._tempWheelArray[C]=x),e._isVisible&&e.changeWheel(l,0,!0)}var p,b,v,g,y,x,_,w,C,T,M,k,D,S,V={},A=1e3,I=ne(this),Y=le({},e.settings),F=le(e.settings,et,Y),O=ne('<div class="mbsc-sel-empty">'+F.filterEmptyText+"</div>"),E=F.readonly,H={},P=F.layout||(/top|bottom|inline/.test(F.display)||F.filter?"liquid":""),L="liquid"==P,N=Je.isNumeric(F.select)?F.select:"multiple"==F.select||I.prop("multiple"),W=N||!!F.filter&&1,$=this.id+"_dummy",j=ne('label[for="'+this.id+'"]').attr("for",$),R=void 0!==F.label?F.label:j.length?j.text():I.attr("name"),q=!!F.data,X=q?!!F.group:ne("optgroup",I).length,U=F.group,B=X&&U&&U.groupWheel!==!1,z=X&&U&&B&&U.clustered===!0,K=X&&(!U||U.header!==!1&&!z),G=I.val()||(N?[]:[""]),Z=[];return e.setVal=function(t,a,s,n,i){W&&(t&&!N&&(t=[t]),t&&Qe(t)&&(t=t.split(",")),e._tempSelected[D]=Je.arrayToObject(t),n||(e._selected[D]=Je.arrayToObject(t)),t=t?t[0]:null),e._setVal(t,a,s,n,i)},e.getVal=function(t,a){if(W){var s=Je.objectToArray(t?e._tempSelected[D]:e._selected[D]);return N?s:s.length?s[0]:null}return l(t,a)},e.refresh=function(e,t){e?b=e:ne.isArray(F.data)&&(b=F.data),!e&&T&&void 0===t?d(F.data.url,function(e){b=h(e),f()},F.data.dataType):f(t)},F.invalid.length||(F.invalid=Z),B?(C=0,D=1):(C=-1,D=0),W&&(N&&I.prop("multiple",!0),G&&Qe(G)&&(G=G.split(",")),e._selected[D]=Je.arrayToObject(G)),e._dummyInput&&e._dummyInput.remove(),I.next().is("input.mbsc-control")?p=I.off(".mbsc-form").next().removeAttr("tabindex"):F.input?p=ne(F.input):(F.filter&&"inline"==F.display?e._dummyInput=ne('<div class="mbsc-sel-input-wrap"><input type="text" id="'+$+'" class="mbsc-control '+F.inputClass+'" readonly /></div>'):(p=ne('<input type="text" id="'+$+'" class="mbsc-control '+F.inputClass+'" readonly />'),e._dummyInput=p),F.showInput&&(e._dummyInput.insertBefore(I),p||(p=e._dummyInput.find("#"+$)))),e.attachShow(p.attr("placeholder",F.placeholder||"")),I.addClass("mbsc-sel-hdn").attr("tabindex",-1),F.filter&&(g=F.filter.minLength||0),T=F.data&&F.data.url,T?e.refresh():(q&&(b=F.data),t(),r(I.val())),{layout:P,headerText:!1,anchor:p,compClass:"mbsc-sel"+(B?" mbsc-sel-gr-whl":"")+(W?" mbsc-sel-multi":""),setOnTap:!B||[!1,!0],formatValue:o,parseValue:function(e){return r(void 0===e?I.val():e),B?[x,M]:[M]},validate:function(e){var t=e.index,a=[];return a[D]=F.invalid,z&&!S&&void 0===t&&u(),S=!1,{disabled:a}},onRead:c,onFill:c,onMarkupReady:function(e,t){if(F.filter){var a,s,n,i=ne(".mbsc-fr-w",e.target),r=ne('<span class="mbsc-sel-filter-clear mbsc-ic mbsc-ic-'+F.filterClearIcon+'"></span>');"inline"==F.display?(a=p,p.parent().find(".mbsc-sel-filter-clear").remove()):(i.prepend('<div class="mbsc-input mbsc-sel-filter-cont mbsc-control-w"><span class="mbsc-input-wrap"><input type="text" class="mbsc-sel-filter-input mbsc-control"/></span></div>'),a=i.find(".mbsc-sel-filter-input")),y="",n=a[0],a.prop("readonly",!1).attr("placeholder",F.filterPlaceholderText).parent().append(r),i.find(".mbsc-fr-c").prepend(O),t.tap(r,function(){n.value="",t.refresh(),r.removeClass("mbsc-sel-filter-show-clear")}),a.on("keydown",function(e){13!=e.keyCode&&27!=e.keyCode||(e.stopPropagation(),n.blur())}).on("keyup",function(){clearTimeout(s),n.value.length?r.addClass("mbsc-sel-filter-show-clear"):r.removeClass("mbsc-sel-filter-show-clear"),s=setTimeout(function(){y!==n.value&&t.trigger("onFilter",{filterText:n.value})!==!1&&(y=n.value,(y.length>=g||!y.length)&&(T&&F.data.remoteFilter?d(F.data.url+encodeURIComponent(y),function(e){t.refresh(h(e))},F.data.dataType):t.refresh(void 0,y)))},500)})}},onBeforeShow:function(){N&&F.counter&&(F.headerText=function(){var t=0;return ne.each(e._tempSelected[D],function(){t++}),(t>1?F.selectedPluralText||F.selectedText:F.selectedText).replace(/{count}/,t)}),r(I.val()),F.filter&&t(void 0),e.settings.wheels=i(),S=!0},onWheelGestureStart:function(e){e.index==C&&(F.readonly=[!1,!0])},onWheelAnimationEnd:function(t){var a=e.getArrayVal(!0);t.index==C?(F.readonly=E,a[C]!=x&&(x=a[C],M=w[x].options[0].value,a[D]=M,z?u():e.setArrayVal(a,!1,!1,!0,A))):t.index==D&&a[D]!=M&&(M=a[D],B&&H[M]&&H[M].group!=x&&(x=H[M].group,a[C]=x,e.setArrayVal(a,!1,!1,!0,A)))},onItemTap:function(e){if(e.index==D&&(V[e.value]=H[e.value].text,W&&!N&&e.selected))return!1},onClose:function(){T&&F.data.remoteFilter&&y&&e.refresh()},onDestroy:function(){e._dummyInput&&e._dummyInput.remove(),I.removeClass("mbsc-sel-hdn").removeAttr("tabindex")}}};var tt={defaults:{shortYearCutoff:"+10",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["S","M","T","W","T","F","S"],amText:"am",pmText:"pm",getYear:function(e){return e.getFullYear()},getMonth:function(e){return e.getMonth()},getDay:function(e){return e.getDate()},getDate:u,getMaxDayOfMonth:function(e,t){return 32-new Date(e,t,32,12).getDate()},getWeekNumber:function(e){e=new Date(e),e.setHours(0,0,0),e.setDate(e.getDate()+4-(e.getDay()||7));var t=new Date(e.getFullYear(),0,1);return Math.ceil(((e-t)/864e5+1)/7)}},adjustedDate:u,formatDate:function(e,t,a){if(!t)return null;var s,n,i=le({},tt.defaults,a),r=function(t){for(var a=0;s+1<e.length&&e.charAt(s+1)==t;)a++,s++;return a},l=function(e,t,a){var s=""+t;if(r(e))for(;s.length<a;)s="0"+s;return s},o=function(e,t,a,s){return r(e)?s[t]:a[t]},c="",d=!1;for(s=0;s<e.length;s++)if(d)"'"!=e.charAt(s)||r("'")?c+=e.charAt(s):d=!1;else switch(e.charAt(s)){case"d":c+=l("d",i.getDay(t),2);break;case"D":c+=o("D",t.getDay(),i.dayNamesShort,i.dayNames);break;case"o":c+=l("o",(t.getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5,3);break;case"m":c+=l("m",i.getMonth(t)+1,2);break;case"M":c+=o("M",i.getMonth(t),i.monthNamesShort,i.monthNames);break;case"y":n=i.getYear(t),c+=r("y")?n:(n%100<10?"0":"")+n%100;break;case"h":var u=t.getHours();c+=l("h",u>12?u-12:0===u?12:u,2);break;case"H":c+=l("H",t.getHours(),2);break;case"i":c+=l("i",t.getMinutes(),2);break;case"s":c+=l("s",t.getSeconds(),2);break;case"a":c+=t.getHours()>11?i.pmText:i.amText;break;case"A":c+=t.getHours()>11?i.pmText.toUpperCase():i.amText.toUpperCase();break;case"'":r("'")?c+="'":d=!0;break;default:c+=e.charAt(s)}return c},parseDate:function(e,t,a){var s=le({},tt.defaults,a),n=s.defaultValue&&s.defaultValue.getTime?s.defaultValue:new Date;if(!e||!t)return n;if(t.getTime)return t;t="object"==("undefined"==typeof t?"undefined":j(t))?t.toString():t+"";var i,r=s.shortYearCutoff,l=s.getYear(n),o=s.getMonth(n)+1,c=s.getDay(n),d=-1,u=n.getHours(),m=n.getMinutes(),h=0,f=-1,p=!1,b=function(t){var a=i+1<e.length&&e.charAt(i+1)==t;return a&&i++,a},v=function(e){b(e);var a="@"==e?14:"!"==e?20:"y"==e?4:"o"==e?3:2,s=new RegExp("^\\d{1,"+a+"}"),n=t.substr(x).match(s);return n?(x+=n[0].length,parseInt(n[0],10)):0},g=function(e,a,s){var n,i=b(e)?s:a;for(n=0;n<i.length;n++)if(t.substr(x,i[n].length).toLowerCase()==i[n].toLowerCase())return x+=i[n].length,n+1;return 0},y=function(){x++},x=0;for(i=0;i<e.length;i++)if(p)"'"!=e.charAt(i)||b("'")?y():p=!1;else switch(e.charAt(i)){case"d":c=v("d");break;case"D":g("D",s.dayNamesShort,s.dayNames);break;case"o":d=v("o");break;case"m":o=v("m");break;case"M":o=g("M",s.monthNamesShort,s.monthNames);break;case"y":l=v("y");break;case"H":u=v("H");break;case"h":u=v("h");break;case"i":m=v("i");break;case"s":h=v("s");break;case"a":f=g("a",[s.amText,s.pmText],[s.amText,s.pmText])-1;break;case"A":f=g("A",[s.amText,s.pmText],[s.amText,s.pmText])-1;break;case"'":b("'")?y():p=!0;break;default:y()}if(l<100&&(l+=(new Date).getFullYear()-(new Date).getFullYear()%100+(l<=("string"!=typeof r?r:(new Date).getFullYear()%100+parseInt(r,10))?0:-100)),d>-1)for(o=1,c=d;;){var _=32-new Date(l,o-1,32,12).getDate();if(c<=_)break;o++,c-=_}u=f==-1?u:f&&u<12?u+12:f||12!=u?u:0;var w=s.getDate(l,o-1,c,u,m,h);return s.getYear(w)!=l||s.getMonth(w)+1!=o||s.getDay(w)!=c?n:w}};$.util.datetime=tt;var at=tt.adjustedDate,st={separator:" ",dateFormat:"mm/dd/yy",dateDisplay:"MMddyy",timeFormat:"h:ii A",dayText:"Day",monthText:"Month",yearText:"Year",hourText:"Hours",minuteText:"Minutes",ampmText:"&nbsp;",secText:"Seconds",nowText:"Now",todayText:"Today"},nt=function e(t){function a(e){return e<10?"0"+e:e}function s(e){var t,a,s,n=[];if(e){for(t=0;t<e.length;t++)if(a=e[t],a.start&&a.start.getTime)for(s=new Date(a.start);s<=a.end;)n.push(at(s.getFullYear(),s.getMonth(),s.getDate())),s.setDate(s.getDate()+1);else n.push(a);return n}return e}function n(e,t,a,s){return Math.min(s,Math.floor(e/t)*t+a)}function i(e,t,a){return Math.floor((a-t)/e)*e+t}function r(e){return N.getYear(e)}function l(e){return N.getMonth(e)}function o(e){return N.getDay(e)}function c(e){var t=e.getHours();return t=J&&t>=12?t-12:t,n(t,te,re,de)}function d(e){return n(e.getMinutes(),ae,oe,ue)}function u(e){return n(e.getSeconds(),se,ce,me)}function m(e){return e.getMilliseconds()}function h(e){return e.getHours()>11?1:0}function f(e){return e.getFullYear()+"-"+a(e.getMonth()+1)+"-"+a(e.getDate())}function p(e){return n(Math.round((e.getTime()-new Date(e).setHours(0,0,0,0))/1e3),I,0,86400)}function b(e,t,a,s){var n;return void 0===O[t]||(n=+e[O[t]],isNaN(n))?a?ve[t](a):void 0!==E[t]?E[t]:ve[t](s):n}function v(e){var t,a=new Date((new Date).setHours(0,0,0,0));if(null===e)return e;void 0!==O.dd&&(t=e[O.dd].split("-"),t=new Date(t[0],t[1]-1,t[2])),void 0!==O.tt&&(t=t||a,t=new Date(t.getTime()+e[O.tt]%86400*1e3));var s=b(e,"y",t,a),n=b(e,"m",t,a),i=Math.min(b(e,"d",t,a),N.getMaxDayOfMonth(s,n)),r=b(e,"h",t,a);return N.getDate(s,n,i,J&&b(e,"a",t,a)?r+12:r,b(e,"i",t,a),b(e,"s",t,a),b(e,"u",t,a))}function g(e,t){var a,s,n=["y","m","d","a","h","i","s","u","dd","tt"],i=[];if(null===e||void 0===e)return e;for(a=0;a<n.length;a++)s=n[a],void 0!==O[s]&&(i[O[s]]=ve[s](e)),t&&(E[s]=ve[s](e));return i}function y(e,t){return t?Math.floor(new Date(e)/864e5):e.getMonth()+12*(e.getFullYear()-1970)}function x(e){return{value:e,display:(/yy/i.test(U)?e:(e+"").substr(2,2))+(N.yearSuffix||"")}}function _(e){return e}function w(e){var t=/d/i.test(e);return{label:"",cssClass:"mbsc-dt-whl-date",min:K?y(f(K),t):void 0,max:G?y(f(G),t):void 0,data:function(a){var s=new Date((new Date).setHours(0,0,0,0)),n=t?new Date(864e5*a):new Date(1970,a,1);return t&&(n=new Date(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate())),{invalid:t&&!D(n,!0),value:f(n),display:s.getTime()==n.getTime()?N.todayText:tt.formatDate(e,n,N)}},getIndex:function(e){return y(e,t)}}}function C(e){var t,a,s,n=[];for(/s/i.test(e)?a=se:/i/i.test(e)?a=60*ae:/h/i.test(e)&&(a=3600*te),I=pe.tt=a,t=0;t<86400;t+=a)s=new Date((new Date).setHours(0,0,0,0)+1e3*t),n.push({value:t,display:tt.formatDate(e,s,N)});return{label:"",cssClass:"mbsc-dt-whl-time",data:n}}function T(){var t,s,n,i,r,l,o,c,d=0,u=[],m=[],h=[];if(e.match(/date/i)){for(t=q.split(/\|/.test(q)?"|":""),i=0;i<t.length;i++)if(n=t[i],l=0,n.length)if(/y/i.test(n)&&l++,/m/i.test(n)&&l++,/d/i.test(n)&&l++,l>1&&void 0===O.dd)O.dd=d,d++,m.push(w(n)),h=m,Y=!0;else if(/y/i.test(n)&&void 0===O.y)O.y=d,d++,m.push({cssClass:"mbsc-dt-whl-y",label:N.yearText,min:K?N.getYear(K):void 0,max:G?N.getYear(G):void 0,data:x,getIndex:_});else if(/m/i.test(n)&&void 0===O.m){for(O.m=d,o=[],d++,r=0;r<12;r++)c=U.replace(/[dy]/gi,"").replace(/mm/,a(r+1)+(N.monthSuffix||"")).replace(/m/,r+1+(N.monthSuffix||"")),o.push({value:r,display:/MM/.test(c)?c.replace(/MM/,'<span class="mbsc-dt-month">'+N.monthNames[r]+"</span>"):c.replace(/M/,'<span class="mbsc-dt-month">'+N.monthNamesShort[r]+"</span>")});m.push({cssClass:"mbsc-dt-whl-m",label:N.monthText,data:o})}else if(/d/i.test(n)&&void 0===O.d){for(O.d=d,o=[],d++,r=1;r<32;r++)o.push({value:r,display:(/dd/i.test(U)?a(r):r)+(N.daySuffix||"")});m.push({cssClass:"mbsc-dt-whl-d",label:N.dayText,data:o})}u.push(m)}if(e.match(/time/i)){for(s=X.split(/\|/.test(X)?"|":""),i=0;i<s.length;i++)if(n=s[i],l=0,n.length&&(/h/i.test(n)&&l++,/i/i.test(n)&&l++,/s/i.test(n)&&l++,/a/i.test(n)&&l++),l>1&&void 0===O.tt)O.tt=d,d++,h.push(C(n));else if(/h/i.test(n)&&void 0===O.h){for(o=[],O.h=d,d++,r=re;r<(J?12:24);r+=te)o.push({value:r,display:J&&0===r?12:/hh/i.test(B)?a(r):r});h.push({cssClass:"mbsc-dt-whl-h",label:N.hourText,data:o})}else if(/i/i.test(n)&&void 0===O.i){for(o=[],O.i=d,d++,r=oe;r<60;r+=ae)o.push({value:r,display:/ii/i.test(B)?a(r):r});h.push({cssClass:"mbsc-dt-whl-i",label:N.minuteText,data:o})}else if(/s/i.test(n)&&void 0===O.s){for(o=[],O.s=d,d++,r=ce;r<60;r+=se)o.push({value:r,display:/ss/i.test(B)?a(r):r});h.push({cssClass:"mbsc-dt-whl-s",label:N.secText,data:o})}else/a/i.test(n)&&void 0===O.a&&(O.a=d,d++,h.push({cssClass:"mbsc-dt-whl-a",label:N.ampmText,data:/A/.test(n)?[{value:0,display:N.amText.toUpperCase()},{value:1,display:N.pmText.toUpperCase()}]:[{value:0,display:N.amText},{value:1,display:N.pmText}]}));h!=m&&u.push(h)}return u}function M(e){var t,a,s,n={};if(e.is("input")){switch(e.attr("type")){case"date":t="yy-mm-dd";break;case"datetime":t="yy-mm-ddTHH:ii:ssZ";break;case"datetime-local":t="yy-mm-ddTHH:ii:ss";break;case"month":t="yy-mm",n.dateOrder="mmyy";break;case"time":t="HH:ii:ss"}n.format=t,a=e.attr("min"),s=e.attr("max"),a&&"undefined"!=a&&(n.min=tt.parseDate(t,a)),s&&"undefined"!=s&&(n.max=tt.parseDate(t,s))}return n}function k(e,t){var a,s,n=!1,i=!1,r=0,l=0,o=K?v(g(K)):-(1/0),c=G?v(g(G)):1/0;if(D(e))return e;if(e<o&&(e=o),e>c&&(e=c),a=e,s=e,2!==t)for(n=D(a);!n&&a<c;)a=new Date(a.getTime()+864e5),n=D(a),r++;if(1!==t)for(i=D(s);!i&&s>o;)s=new Date(s.getTime()-864e5),i=D(s),l++;return 1===t&&n?a:2===t&&i?s:l<=r&&i?s:a}function D(e,t){return!(!t&&e<K)&&(!(!t&&e>G)&&(!!S(e,$)||!S(e,W)))}function S(e,t){var a,s,n;if(t)for(s=0;s<t.length;s++)if(a=t[s],n=a+"",!a.start)if(a.getTime){if(e.getFullYear()==a.getFullYear()&&e.getMonth()==a.getMonth()&&e.getDate()==a.getDate())return!0}else if(n.match(/w/i)){if(n=+n.replace("w",""),n==e.getDay())return!0}else if(n=n.split("/"),n[1]){if(n[0]-1==e.getMonth()&&n[1]==e.getDate())return!0}else if(n[0]==e.getDate())return!0;return!1}function V(e,t,a,s,n,i,r){var l,o,c,d;if(e)for(o=0;o<e.length;o++)if(l=e[o],d=l+"",!l.start)if(l.getTime)N.getYear(l)==t&&N.getMonth(l)==a&&(i[N.getDay(l)]=r);else if(d.match(/w/i))for(d=+d.replace("w",""),c=d-s;c<n;c+=7)c>=0&&(i[c+1]=r);else d=d.split("/"),d[1]?d[0]-1==a&&(i[d[1]]=r):i[d[0]]=r}function A(e,t,a,s,i,r,l,o){var c,d,u,m,h,f,p,b,v,g,y,x,_,w,C,T,M,k,D,S,V={},A=N.getDate(s,i,r),Y=["a","h","i","s"];if(e){for(p=0;p<e.length;p++)y=e[p],y.start&&(y.apply=!1,u=y.d,M=u+"",k=M.split("/"),u&&(u.getTime&&s==N.getYear(u)&&i==N.getMonth(u)&&r==N.getDay(u)||!M.match(/w/i)&&(k[1]&&r==k[1]&&i==k[0]-1||!k[1]&&r==k[0])||M.match(/w/i)&&A.getDay()==+M.replace("w",""))&&(y.apply=!0,V[A]=!0));for(p=0;p<e.length;p++)if(y=e[p],c=0,T=0,b=he[a],v=fe[a],w=!0,C=!0,d=!1,y.start&&(y.apply||!y.d&&!V[A])){for(x=y.start.split(":"),_=y.end.split(":"),g=0;g<3;g++)void 0===x[g]&&(x[g]=0),void 0===_[g]&&(_[g]=59),x[g]=+x[g],_[g]=+_[g];if("tt"==a)b=n(Math.round((new Date(A).setHours(x[0],x[1],x[2])-new Date(A).setHours(0,0,0,0))/1e3),I,0,86400),v=n(Math.round((new Date(A).setHours(_[0],_[1],_[2])-new Date(A).setHours(0,0,0,0))/1e3),I,0,86400);else{for(x.unshift(x[0]>11?1:0),_.unshift(_[0]>11?1:0),J&&(x[1]>=12&&(x[1]=x[1]-12),_[1]>=12&&(_[1]=_[1]-12)),g=0;g<t;g++)void 0!==H[g]&&(D=n(x[g],pe[Y[g]],he[Y[g]],fe[Y[g]]),S=n(_[g],pe[Y[g]],he[Y[g]],fe[Y[g]]),m=0,h=0,f=0,J&&1==g&&(m=x[0]?12:0,h=_[0]?12:0,f=H[0]?12:0),w||(D=0),C||(S=fe[Y[g]]),(w||C)&&D+m<H[g]+f&&H[g]+f<S+h&&(d=!0),H[g]!=D&&(w=!1),H[g]!=S&&(C=!1));if(!o)for(g=t+1;g<4;g++)x[g]>0&&(c=pe[a]),_[g]<fe[Y[g]]&&(T=pe[a]);d||(D=n(x[t],pe[a],he[a],fe[a])+c,S=n(_[t],pe[a],he[a],fe[a])-T,w&&(b=D),C&&(v=S))}if(w||C||d)for(g=b;g<=v;g+=pe[a])l[g]=!o}}}var I,Y,F,O={},E={},H=[],P=M(ne(this)),L=le({},t.settings),N=le(t.settings,tt.defaults,st,P,L),W=s(N.invalid),$=s(N.valid),e=N.preset,j="datetime"==e?N.dateFormat+N.separator+N.timeFormat:"time"==e?N.timeFormat:N.dateFormat,R=P.format||j,q=N.dateWheels||N.dateFormat,X=N.timeWheels||N.timeFormat,U=N.dateWheels||N.dateDisplay,B=X,z=N.baseTheme||N.theme,K=N.min,G=N.max,Z=/time/i.test(e),J=/h/.test(B),Q=/D/.test(U),ee=N.steps||{},te=ee.hour||N.stepHour||1,ae=ee.minute||N.stepMinute||1,se=ee.second||N.stepSecond||1,ie=ee.zeroBased,re=ie||!K?0:K.getHours()%te,oe=ie||!K?0:K.getMinutes()%ae,ce=ie||!K?0:K.getSeconds()%se,de=i(te,re,J?11:23),ue=i(ae,oe,59),me=i(ae,oe,59),he={y:K?K.getFullYear():-(1/0),m:0,d:1,h:re,i:oe,s:ce,a:0,tt:0},fe={y:G?G.getFullYear():1/0,m:11,d:31,h:de,i:ue,s:me,a:1,tt:86400},pe={y:1,m:1,d:1,h:te,i:ae,s:se,a:1,tt:1},be={"android-holo":40,bootstrap:46,ios:50,jqm:46,material:46,mobiscroll:46,wp:50},ve={y:r,m:l,d:o,h:c,i:d,s:u,u:m,a:h,dd:f,tt:p};return t.getDate=t.getVal=function(e){return t._hasValue||e?v(t.getArrayVal(e)):null},t.setDate=function(e,a,s,n,i){t.setArrayVal(g(e),a,i,n,s)},F=T(),t.format=j,t.order=O,t.handlers.now=function(){t.setDate(new Date,t.live,1e3,!0,!0)},t.buttons.now={text:N.nowText,icon:N.nowIcon,handler:"now"
},{minWidth:Y&&Z?be[z]:void 0,compClass:"mbsc-dt",wheels:F,headerText:!!N.headerText&&function(){return tt.formatDate(j,v(t.getArrayVal(!0)),N)},formatValue:function(e){return tt.formatDate(R,v(e),N)},parseValue:function(e){return e||(E={}),g(e?tt.parseDate(R,e,N):N.defaultValue&&N.defaultValue.getTime?N.defaultValue:new Date,!!e&&!!e.getTime)},validate:function(e){var a,s,n,i,r=e.values,l=e.index,o=e.direction,c=t.settings.wheels[0][O.d],d=k(v(r),o),u=g(d),m=[],h={},f=ve.y(d),p=ve.m(d),b=N.getMaxDayOfMonth(f,p),y=!0,x=!0;if(ne.each(["dd","y","m","d","tt","a","h","i","s"],function(e,t){if(void 0!==O[t]){var a=he[t],n=fe[t],i=ve[t](d);if(m[O[t]]=[],y&&K&&(a=ve[t](K)),x&&G&&(n=ve[t](G)),"y"!=t&&"dd"!=t)for(s=he[t];s<=fe[t];s+=pe[t])(s<a||s>n)&&m[O[t]].push(s);if(i<a&&(i=a),i>n&&(i=n),y&&(y=i==a),x&&(x=i==n),"d"==t){var r=N.getDate(f,p,1).getDay(),l={};V(W,f,p,r,b,l,1),V($,f,p,r,b,l,0),ne.each(l,function(e,a){a&&m[O[t]].push(e)})}}}),Z&&ne.each(["a","h","i","s","tt"],function(e,a){var s=ve[a](d),n=ve.d(d),i={};void 0!==O[a]&&(A(W,e,a,f,p,n,i,0),A($,e,a,f,p,n,i,1),ne.each(i,function(e,t){t&&m[O[a]].push(e)}),H[e]=t.getValidValue(O[a],s,o,i))}),c&&(c._length!==b||Q&&(void 0===l||l===O.y||l===O.m))){for(h[O.d]=c,c.data=[],a=1;a<=b;a++)i=N.getDate(f,p,a).getDay(),n=U.replace(/[my]/gi,"").replace(/dd/,(a<10?"0"+a:a)+(N.daySuffix||"")).replace(/d/,a+(N.daySuffix||"")),c.data.push({value:a,display:n.match(/DD/)?n.replace(/DD/,'<span class="mbsc-dt-day">'+N.dayNames[i]+"</span>"):n.replace(/D/,'<span class="mbsc-dt-day">'+N.dayNamesShort[i]+"</span>")});t._tempWheelArray[O.d]=u[O.d],t.changeWheel(h)}return{disabled:m,valid:u}}}};ne.each(["date","time","datetime"],function(e,t){$.presets.scroller[t]=nt}),["date","time","datetime"].forEach(function(e){$.presetShort(e)});var it={inputClass:"",values:5,order:"desc",style:"icon",invalid:[],icon:{filled:"star3",empty:"star3"}};$.presetShort("rating"),$.presets.scroller.rating=function(e){var t,a,s,n,i,r,l,o,c,d,u=le({},e.settings),m=le(e.settings,it,u),h=ne(this),f=this.id+"_dummy",p=ne('label[for="'+this.id+'"]').attr("for",f),b=void 0!==m.label?m.label:p.length?p.text():h.attr("name"),v=m.defaultValue,g=[[]],y={data:[],label:b,circular:!1},x={},_=[],w=!1,C="grade"===m.style?"circle":"icon";if(h.is("select")&&(m.values={},ne("option",h).each(function(){m.values[ne(this).val()]=ne(this).text()}),ne("#"+f).remove()),ne.isArray(m.values))for(a=0;a<m.values.length;a++)o=+m.values[a],isNaN(o)&&(o=a+1,w=!0),_.push({order:o,key:m.values[a],value:m.values[a]});else if(ne.isPlainObject(m.values)){a=1,w=!0;for(c in m.values)o=+c,isNaN(o)&&(o=a),_.push({order:o,key:c,value:m.values[c]}),a++}else for(a=1;a<=m.values;a++)_.push({order:a,key:a,value:a});for(void 0===m.showText&&w&&(m.showText=!0),void 0===m.icon.empty&&(m.icon.empty=m.icon.filled),_.sort(function(e,t){return"desc"==m.order?t.order-e.order:e.order-t.order}),d="desc"==m.order?_[0].order:_[_.length-1].order,a=0;a<_.length;a++){for(l=_[a].order,i=_[a].key,r=_[a].value,n="",s=1;s<l+1;s++)n+='<span class="mbsc-rating-'+C+("circle"===C?"":" mbsc-ic mbsc-ic-"+m.icon.filled)+' ">'+("circle"==C?s:" ")+"</span>";for(s=l+1;s<=d;s++)n+='<span class="mbsc-rating-'+C+("circle"===C?" mbsc-rating-circle-unf":" mbsc-ic mbsc-ic-"+(m.icon.empty?m.icon.empty+" mbsc-rating-icon-unf":"")+(m.icon.empty===m.icon.filled?" mbsc-rating-icon-same":""))+'"></span>';void 0===v&&(v=i),n+=m.showText?'<span class="mbsc-rating-txt">'+r+"</span>":"",y.data.push({value:i,display:n,label:r}),x[i]=r}return h.is("select")&&(t=ne('<input type="text" id="'+f+'" value="'+x[h.val()]+'" class="'+m.inputClass+'" placeholder="'+(m.placeholder||"")+'" readonly />').insertBefore(h)),g[0].push(y),t&&e.attachShow(t),h.is("select")&&h.hide().closest(".ui-field-contain").trigger("create"),e.getVal=function(t){var a=e._hasValue?e[t?"_tempWheelArray":"_wheelArray"][0]:null;return $.util.isNumeric(a)?+a:a},{anchor:t,wheels:g,headerText:!1,compClass:"mbsc-rating",setOnTap:!0,formatValue:function(e){return x[e[0]]},parseValue:function(e){var a;for(a in x)if(t&&a==e||!t&&x[a]==e)return[a];return[v]},validate:function(){return{disabled:[m.invalid]}},onFill:function(a){t&&(t.val(a.valueText),h.val(e._tempWheelArray[0]))},onDestroy:function(){t&&t.remove(),h.show()}}};var rt={invalid:[],showInput:!0,inputClass:""};$.presets.scroller.list=function(e){function t(e,t,s){for(var n=0,i=[];n<e;)i[n]=a(s,n,t),n++;return i}function a(e,t,a){for(var s,n=0,i=a,r=[];n<t;){var l=e[n];for(s in i)if(i[s].key==l){i=i[s].children;break}n++}for(n=0;n<i.length;)i[n].invalid&&r.push(i[n].key),n++;return r}function s(e,t){for(var a=[];e;)a[--e]=!0;return a[t]=!1,a}function n(e){var t,a=[];for(t=0;t<e;t++)a[t]=v.labels&&v.labels[t]?v.labels[t]:t;return a}function i(e,t,a){var s,n,i,o=0,c=[[]],d=k;if(t)for(s=0;s<t;s++)y?c[0][s]={}:c[s]=[{}];for(;o<e.length;){for(y?c[0][o]=l(d,D[o]):c[o]=[l(d,D[o])],s=0,i=void 0;s<d.length&&void 0===i;)d[s].key==e[o]&&(void 0!==a&&o<=a||void 0===a)&&(i=s),s++;if(void 0!==i&&d[i].children)o++,d=d[i].children;else{if(!(n=r(d))||!n.children)return c;o++,d=n.children}}return c}function r(e,t){if(!e)return!1;for(var a,s=0;s<e.length;)if(!(a=e[s++]).invalid)return t?s-1:a;return!1}function l(e,t){for(var a={data:[],label:t},s=0;s<e.length;)a.data.push({value:e[s].key,display:e[s].value}),s++;return a}function o(t){e._isVisible&&ne(".mbsc-sc-whl-w",e._markup).css("display","").slice(t).hide()}function c(e){for(var t,a=[],s=e,n=!0,i=0;n;)t=r(s),a[i++]=t.key,n=t.children,n&&(s=n);return a}function d(e,t){var a,s,n,i=[],l=k,o=0,c=!1;if(void 0!==e[o]&&o<=t)for(a=0,s=e[o],n=void 0;a<l.length&&void 0===n;)l[a].key!=e[o]||l[a].invalid||(n=a),a++;else n=r(l,!0),s=l[n].key;for(c=void 0!==n&&l[n].children,i[o]=s;c;){if(l=l[n].children,o++,c=!1,n=void 0,void 0!==e[o]&&o<=t)for(a=0,s=e[o],n=void 0;a<l.length&&void 0===n;)l[a].key!=e[o]||l[a].invalid||(n=a),a++;else n=r(l,!0),n=n===!1?void 0:n,s=l[n].key;c=!(void 0===n||!r(l[n].children))&&l[n].children,i[o]=s}return{lvl:o+1,nVector:i}}function u(t){var a=[];return C=C>T++?C:T,t.children("li").each(function(t){var s=ne(this),n=s.clone();n.children("ul,ol").remove();var i=e._processMarkup?e._processMarkup(n):n.html().replace(/^\s\s*/,"").replace(/\s\s*$/,""),r=!!s.attr("data-invalid"),l={key:void 0===s.attr("data-val")||null===s.attr("data-val")?t:s.attr("data-val"),value:i,invalid:r,children:null},o=s.children("ul,ol");o.length&&(l.children=u(o)),a.push(l)}),T--,a}function m(t,a,s){var n,r=(a||0)+1,l=[],c={},d={};for(c=i(t,null,a),n=0;n<t.length;n++)e._tempWheelArray[n]=t[n]=s.nVector[n]||0;for(;r<s.lvl;)d[r]=y?c[0][r]:c[r][0],l.push(r++);o(s.lvl),M=t.slice(0),l.length&&(f=!0,e.changeWheel(d))}var h,f,p,b=le({},e.settings),v=le(e.settings,rt,b),g=v.layout||(/top|bottom/.test(v.display)?"liquid":""),y="liquid"==g,x=v.readonly,_=ne(this),w=this.id+"_dummy",C=0,T=0,M=[],k=v.wheelArray||u(_),D=n(C),S=c(k),V=i(S,C);return ne("#"+w).remove(),v.input?h=ne(v.input):v.showInput&&(h=ne('<input type="text" id="'+w+'" value="" class="'+v.inputClass+'" placeholder="'+(v.placeholder||"")+'" readonly />').insertBefore(_)),h&&e.attachShow(h),v.wheelArray||_.hide(),{wheels:V,anchor:h,layout:g,headerText:!1,setOnTap:1==C,formatValue:function(e){return void 0===p&&(p=d(e,e.length).lvl),e.slice(0,p).join(" ")},parseValue:function(e){return e?(e+"").split(" "):(v.defaultValue||S).slice(0)},onBeforeShow:function(){var t=e.getArrayVal(!0);M=t.slice(0),v.wheels=i(t,C,C),f=!0},onWheelGestureStart:function(e){v.readonly=s(C,e.index)},onWheelAnimationEnd:function(t){var a=t.index,s=e.getArrayVal(!0),n=d(s,a);p=n.lvl,v.readonly=x,s[a]!=M[a]&&m(s,a,n)},onFill:function(e){p=void 0,h&&h.val(e.valueText)},validate:function(e){var a=e.values,s=e.index,n=d(a,a.length);return p=n.lvl,void 0===s&&(o(n.lvl),f||m(a,s,n)),f=!1,{disabled:t(p,k,a)}},onDestroy:function(){h&&ne("#"+w).remove(),_.show()}}};var lt=$.presets.scroller;$.presetShort("image"),lt.image=function(e){return e.settings.enhance&&(e._processMarkup=function(e){var t=e.attr("data-icon");return e.children().each(function(e,t){t=ne(t),t.is("img")?ne('<div class="mbsc-img-c"></div>').insertAfter(t).append(t.addClass("mbsc-img")):t.is("p")&&t.addClass("mbsc-img-txt")}),t&&e.prepend('<div class="mbsc-ic mbsc-ic-'+t+'"></div'),e.html('<div class="mbsc-img-w">'+e.html()+"</div>"),e.html()}),lt.list.call(this,e)},$.presets.scroller.treelist=$.presets.scroller.list,$.presetShort("list"),$.presetShort("treelist");var ot=$.presets.scroller,ct=$.classes,dt=$.util,ut=dt.datetime.adjustedDate,mt=dt.jsPrefix,ht=dt.testTouch,ft=dt.getCoord,pt=dt.animEnd,bt=new Date,vt={min:new Date(bt.getFullYear()-100,0,1),max:new Date(bt.getFullYear()+1,11,31,23,59,59),controls:["calendar"],firstDay:0,weekDays:"short",maxMonthWidth:170,months:1,preMonths:1,highlight:!0,outerMonthChange:!0,quickNav:!0,yearChange:!0,todayClass:"mbsc-cal-today",btnCalPrevClass:"mbsc-ic mbsc-ic-arrow-left6",btnCalNextClass:"mbsc-ic mbsc-ic-arrow-right6",dateText:"Date",timeText:"Time",calendarText:"Calendar",todayText:"Today",prevMonthText:"Previous Month",nextMonthText:"Next Month",prevYearText:"Previous Year",nextYearText:"Next Year"};ot.calbase=function(e){function t(e){var t;Te=ne(this),Me=!1,"keydown"!=e.type?(we=ft(e,"X"),Ce=ft(e,"Y"),t=ht(e,this)):t=32===e.keyCode,ke||!t||Te.hasClass("mbsc-fr-btn-d")||(ke=!0,setTimeout(n,100),"mousedown"==e.type&&ne(document).on("mousemove",a).on("mouseup",s))}function a(e){(Math.abs(we-ft(e,"X"))>7||Math.abs(Ce-ft(e,"Y"))>7)&&(ke=!1,Te.removeClass("mbsc-fr-btn-a"))}function s(e){"touchend"==e.type&&e.preventDefault(),Te&&!Me&&n(),ke=!1,"mouseup"==e.type&&ne(document).off("mousemove",a).off("mouseup",s)}function n(){Me=!0,Te.hasClass("mbsc-cal-prev-m")?C():Te.hasClass("mbsc-cal-next-m")?w():Te.hasClass("mbsc-cal-prev-y")?M(Te):Te.hasClass("mbsc-cal-next-y")&&T(Te)}function i(e){return!(e<ut(de.getFullYear(),de.getMonth(),de.getDate()))&&(!(e>ue)&&(void 0===ge[e]||void 0!==ve[e]))}function r(e,t,a){var s,n,i,r,l={},o=at+Ve;return e&&ne.each(e,function(e,c){if(s=c.d||c.start||c,n=s+"",c.start&&c.end)for(r=new Date(c.start);r<=c.end;)i=ut(r.getFullYear(),r.getMonth(),r.getDate()),l[i]=l[i]||[],l[i].push(c),r.setDate(r.getDate()+1);else if(s.getTime)i=ut(s.getFullYear(),s.getMonth(),s.getDate()),l[i]=l[i]||[],l[i].push(c);else if(n.match(/w/i)){var d=+n.replace("w",""),u=0,m=Xe.getDate(t,a-at-Ae,1).getDay();for(Xe.firstDay-m+1>1&&(u=7),F=0;F<5*Se;F++)i=Xe.getDate(t,a-at-Ae,7*F-u-m+1+d),l[i]=l[i]||[],l[i].push(c)}else if(n=n.split("/"),n[1])a+o>=11&&(i=Xe.getDate(t+1,n[0]-1,n[1]),l[i]=l[i]||[],l[i].push(c)),a-o<=1&&(i=Xe.getDate(t-1,n[0]-1,n[1]),l[i]=l[i]||[],l[i].push(c)),i=Xe.getDate(t,n[0]-1,n[1]),l[i]=l[i]||[],l[i].push(c);else for(F=0;F<Se;F++)i=Xe.getDate(t,a-at-Ae+F,n[0]),Xe.getDay(i)==n[0]&&(l[i]=l[i]||[],l[i].push(c))}),l}function l(t,a){ge=r(Xe.invalid,t,a),ve=r(Xe.valid,t,a),e.onGenMonth(t,a)}function o(e,t,a,s,n,i,r){var l='<div class="mbsc-cal-h mbsc-cal-sc-c mbsc-cal-'+e+"-c "+(Xe.calendarClass||"")+'"><div class="mbsc-cal-sc"><div class="mbsc-cal-sc-p"><div class="mbsc-cal-sc-tbl"><div class="mbsc-cal-sc-row">';for(Y=1;Y<=t;Y++)l+=Y<=12||Y>a?'<div class="mbsc-cal-sc-m-cell mbsc-cal-sc-cell mbsc-cal-sc-empty"><div class="mbsc-cal-sc-cell-i">&nbsp;</div></div>':'<div tabindex="0" role="button"'+(i?' aria-label="'+i[Y-13]+'"':"")+' class="mbsc-fr-btn-e mbsc-fr-btn-nhl mbsc-cal-sc-m-cell mbsc-cal-sc-cell mbsc-cal-'+e+'-s" data-val='+(s+Y-13)+'><div class="mbsc-cal-sc-cell-i mbsc-cal-sc-tbl"><div class="mbsc-cal-sc-cell">'+(r?r[Y-13]:s+Y-13+n)+"</div></div></div>",Y<t&&(Y%12===0?l+='</div></div></div><div class="mbsc-cal-sc-p" style="'+(et?"top":Ze?"right":"left")+":"+100*Math.round(Y/12)+'%"><div class="mbsc-cal-sc-tbl"><div class="mbsc-cal-sc-row">':Y%3===0&&(l+='</div><div class="mbsc-cal-sc-row">'));return l+="</div></div></div></div></div>"}function c(t,a){var s,n,r,l,o,c,d,u,m,h,f,p,b,v,g,y,x=1,_=0,w=Xe.getDate(t,a,1),C=Xe.getYear(w),T=Xe.getMonth(w),M=null!==Xe.defaultValue||e._hasValue?e.getDate(!0):null,k=Xe.getDate(C,T,1).getDay(),D='<div class="mbsc-cal-table">',S='<div class="mbsc-cal-week-nr-c">';for(Xe.firstDay-k+1>1&&(_=7),y=0;y<42;y++)g=y+Xe.firstDay-_,s=Xe.getDate(C,T,g-k+1),r=s.getFullYear(),l=s.getMonth(),o=s.getDate(),c=Xe.getMonth(s),d=Xe.getDay(s),v=Xe.getMaxDayOfMonth(r,l),u=r+"-"+l+"-"+o,m=le({valid:i(s),selected:M&&M.getFullYear()===r&&M.getMonth()===l&&M.getDate()===o},e.getDayProps(s,M)),h=m.valid,f=m.selected,n=m.cssClass,p=new Date(s).setHours(12,0,0,0)===(new Date).setHours(12,0,0,0),b=c!==T,je[u]=m,y%7===0&&(D+=(y?"</div>":"")+'<div class="mbsc-cal-row'+(Xe.highlight&&M&&M-s>=0&&M-s<6048e5?" mbsc-cal-week-hl":"")+'">'),Be&&1==s.getDay()&&("month"==Be&&b&&x>1?x=1==o?1:2:"year"==Be&&(x=Xe.getWeekNumber(s)),S+='<div class="mbsc-cal-week-nr"><div class="mbsc-cal-week-nr-i">'+x+"</div></div>",x++),D+='<div role="button" tabindex="-1" aria-label="'+(p?Xe.todayText+", ":"")+Xe.dayNames[s.getDay()]+", "+Xe.monthNames[c]+" "+d+" "+(m.ariaLabel?", "+m.ariaLabel:"")+'"'+(b&&!Ye?' aria-hidden="true"':"")+(f?' aria-selected="true"':"")+(h?"":' aria-disabled="true"')+' data-day="'+g%7+'" data-full="'+u+'"class="mbsc-cal-day '+(Xe.dayClass||"")+(f?" mbsc-cal-day-sel":"")+(p?" "+Xe.todayClass:"")+(n?" "+n:"")+(1==d?" mbsc-cal-day-first":"")+(d==v?" mbsc-cal-day-last":"")+(b?" mbsc-cal-day-diff":"")+(h?" mbsc-cal-day-v mbsc-fr-btn-e mbsc-fr-btn-nhl":" mbsc-cal-day-inv")+'"><div class="mbsc-cal-day-i '+(f?bt:"")+" "+(Xe.innerDayClass||"")+'"><div class="mbsc-cal-day-fg">'+d+"</div>"+(m.markup||"")+'<div class="mbsc-cal-day-frame"></div></div></div>';return D+="</div></div>"+S+"</div>"}function d(e,t,a){var s=Xe.getDate(e,t,1),n=Xe.getYear(s),i=Xe.getMonth(s),r=n+lt;if(tt){if(Ee&&Ee.removeClass("mbsc-cal-sc-sel").removeAttr("aria-selected").find(".mbsc-cal-sc-cell-i").removeClass(bt),He&&He.removeClass("mbsc-cal-sc-sel").removeAttr("aria-selected").find(".mbsc-cal-sc-cell-i").removeClass(bt),Ee=ne('.mbsc-cal-year-s[data-val="'+n+'"]',H).addClass("mbsc-cal-sc-sel").attr("aria-selected","true"),He=ne('.mbsc-cal-month-s[data-val="'+i+'"]',H).addClass("mbsc-cal-sc-sel").attr("aria-selected","true"),Ee.find(".mbsc-cal-sc-cell-i").addClass(bt),He.find(".mbsc-cal-sc-cell-i").addClass(bt),Oe&&Oe.scroll(Ee,a),ne(".mbsc-cal-month-s",H).removeClass("mbsc-fr-btn-d"),n===ae)for(Y=0;Y<ie;Y++)ne('.mbsc-cal-month-s[data-val="'+Y+'"]',H).addClass("mbsc-fr-btn-d");if(n===se)for(Y=re+1;Y<=12;Y++)ne('.mbsc-cal-month-s[data-val="'+Y+'"]',H).addClass("mbsc-fr-btn-d")}for(1==ee.length&&ee.attr("aria-label",n).html(r),Y=0;Y<De;++Y)s=Xe.getDate(e,t-Ae+Y,1),n=Xe.getYear(s),i=Xe.getMonth(s),r=n+lt,ne(J[Y]).attr("aria-label",Xe.monthNames[i]+(st?"":" "+n)).html((!st&&te<Q?r+" ":"")+K[i]+(!st&&te>Q?" "+r:"")),ee.length>1&&ne(ee[Y]).html(r);Xe.getDate(e,t-Ae-1,1)<oe?m(ne(".mbsc-cal-prev-m",H)):u(ne(".mbsc-cal-prev-m",H)),Xe.getDate(e,t+De-Ae,1)>ce?m(ne(".mbsc-cal-next-m",H)):u(ne(".mbsc-cal-next-m",H)),Xe.getDate(e,t,1).getFullYear()<=oe.getFullYear()?m(ne(".mbsc-cal-prev-y",H)):u(ne(".mbsc-cal-prev-y",H)),Xe.getDate(e,t,1).getFullYear()>=ce.getFullYear()?m(ne(".mbsc-cal-next-y",H)):u(ne(".mbsc-cal-next-y",H))}function u(e){e.removeClass(xt).find(".mbsc-cal-btn-txt").removeAttr("aria-disabled")}function m(e){e.addClass(xt).find(".mbsc-cal-btn-txt").attr("aria-disabled","true")}function h(t){e.trigger("onDayHighlight",{date:t}),Xe.highlight&&(ne(".mbsc-cal-day-sel .mbsc-cal-day-i",L).removeClass(bt),ne(".mbsc-cal-day-sel",L).removeClass("mbsc-cal-day-sel").removeAttr("aria-selected"),ne(".mbsc-cal-week-hl",L).removeClass("mbsc-cal-week-hl"),(null!==Xe.defaultValue||e._hasValue)&&ne('.mbsc-cal-day[data-full="'+t.getFullYear()+"-"+t.getMonth()+"-"+t.getDate()+'"]',L).addClass("mbsc-cal-day-sel").attr("aria-selected","true").find(".mbsc-cal-day-i").addClass(bt).closest(".mbsc-cal-row").addClass("mbsc-cal-week-hl"))}function f(t,a){if(R&&("calendar"===xe||a)){var s,n,i=Xe.getDate(he,fe,1),r=Math.abs(12*(Xe.getYear(t)-Xe.getYear(i))+Xe.getMonth(t)-Xe.getMonth(i));e.needsSlide&&r&&(he=Xe.getYear(t),fe=Xe.getMonth(t),t>i?(n=r>at-Ae+De-1,fe-=n?0:r-at,s="next"):t<i&&(n=r>at+Ae,fe+=n?0:r-at,s="prev"),g(he,fe,s,Math.min(r,at),n,!0)),a||(me=t,h(t)),e.needsSlide=!0}}function p(t,a,s){for(s||e.trigger("onMonthLoading",{year:t,month:a}),l(t,a),Y=0;Y<Se;Y++)Ne[Y].html(c(t,a-Ae-at+Y));v(),Ie=void 0,e.trigger("onMonthLoaded",{year:t,month:a})}function b(e,t){for(var a=at,s=at;s&&Xe.getDate(e,t+s+De-Ae-1,1)>ce;)s--;for(;a&&Xe.getDate(e,t-a-Ae,1)<oe;)a--;le(G.settings,{contSize:De*W,snap:W,minScroll:$-(Ze?a:s)*W,maxScroll:$+(Ze?s:a)*W}),G.refresh()}function v(){Be&&U.html(ne(".mbsc-cal-week-nr-c",Ne[at]).html()),ne(".mbsc-cal-slide-a .mbsc-cal-day",N).attr("tabindex",0)}function g(t,a,s,n,i,r,o){if(t&&We.push({y:t,m:a,dir:s,slideNr:n,load:i,active:r,callback:o}),!_e){var u,m=We.shift();if(t=m.y,a=m.m,s="next"===m.dir,n=m.slideNr,i=m.load,r=m.active,o=m.callback||Re,u=Xe.getDate(t,a,1),t=Xe.getYear(u),a=Xe.getMonth(u),_e=!0,e.changing=!0,e.trigger("onMonthChange",{year:t,month:a}),e.trigger("onMonthLoading",{year:t,month:a}),l(t,a),i)for(Y=0;Y<De;Y++)Ne[s?Se-De+Y:Y].html(c(t,a-Ae+Y));r&&Le.addClass("mbsc-cal-slide-a"),setTimeout(function(){e.ariaMessage(Xe.monthNames[a]+" "+t),d(t,a,200),$=s?$-W*n*Je:$+W*n*Je,G.scroll($,r?200:0,!1,function(){var r;if(Ne.length){if(Le.removeClass("mbsc-cal-slide-a").attr("aria-hidden","true"),s)for(r=Ne.splice(0,n),Y=0;Y<n;Y++)Ne.push(r[Y]),x(Ne[Ne.length-1],+Ne[Ne.length-2].attr("data-curr")+100*Je);else for(r=Ne.splice(Se-n,n),Y=n-1;Y>=0;Y--)Ne.unshift(r[Y]),x(Ne[0],+Ne[1].attr("data-curr")-100*Je);for(Y=0;Y<n;Y++)Ne[s?Se-n+Y:Y].html(c(t,a-Ae-at+Y+(s?Se-n:0))),i&&Ne[s?Y:Se-n+Y].html(c(t,a-Ae-at+Y+(s?0:Se-n)));for(Y=0;Y<De;Y++)Ne[at+Y].addClass("mbsc-cal-slide-a").removeAttr("aria-hidden");b(t,a),_e=!1}We.length?setTimeout(function(){g()},10):(he=t,fe=a,e.changing=!1,ne(".mbsc-cal-day",N).attr("tabindex",-1),v(),void 0!==Ie?p(t,a,Ie):e.trigger("onMonthLoaded",{year:t,month:a}),o())})},10)}}function y(){var t=ne(this),a=e.live,s=e.getDate(!0),n=t.attr("data-full"),i=n.split("-"),r=ut(i[0],i[1],i[2]),l=ut(r.getFullYear(),r.getMonth(),r.getDate(),s.getHours(),s.getMinutes(),s.getSeconds()),o=t.hasClass("mbsc-cal-day-sel");!Ye&&t.hasClass("mbsc-cal-day-diff")||e.trigger("onDayChange",le(je[n],{date:l,target:this,selected:o}))!==!1&&(e.needsSlide=!1,j=!0,e.setDate(l,a,.2,!a,!0),Xe.outerMonthChange&&(ke=!0,r<Xe.getDate(he,fe-Ae,1)?C():r>Xe.getDate(he,fe-Ae+De,0)&&w(),ke=!1),e.live&&e.trigger("onSet",{valueText:e._value}))}function x(e,t){e.attr("data-curr",t),e[0].style[mt+"Transform"]="translate3d("+(et?"0,"+t+"%,":t+"%,0,")+"0)"}function _(t){e.isVisible()&&R&&(e.changing?Ie=t:p(he,fe,t))}function w(){ke&&Xe.getDate(he,fe+De-Ae,1)<=ce&&g(he,++fe,"next",1,!1,!0,w)}function C(){ke&&Xe.getDate(he,fe-Ae-1,1)>=oe&&g(he,--fe,"prev",1,!1,!0,C)}function T(e){ke&&Xe.getDate(he,fe,1)<=Xe.getDate(Xe.getYear(ce)-1,Xe.getMonth(ce)-Ve,1)?g(++he,fe,"next",at,!0,!0,function(){T(e)}):ke&&!e.hasClass("mbsc-fr-btn-d")&&g(Xe.getYear(ce),Xe.getMonth(ce)-Ve,"next",at,!0,!0)}function M(e){ke&&Xe.getDate(he,fe,1)>=Xe.getDate(Xe.getYear(oe)+1,Xe.getMonth(oe)+Ae,1)?g(--he,fe,"prev",at,!0,!0,function(){M(e)}):ke&&!e.hasClass("mbsc-fr-btn-d")&&g(Xe.getYear(oe),Xe.getMonth(oe)+Ae,"prev",at,!0,!0)}function k(t,a){t.hasClass("mbsc-cal-v")||(t.addClass("mbsc-cal-v"+(a?"":" mbsc-cal-p-in")).removeClass("mbsc-cal-p-out mbsc-cal-h"),e.trigger("onSelectShow"))}function D(e,t){e.hasClass("mbsc-cal-v")&&e.removeClass("mbsc-cal-v mbsc-cal-p-in").addClass("mbsc-cal-h"+(t?"":" mbsc-cal-p-out"))}function S(e,t){(t||e).hasClass("mbsc-cal-v")?D(e):k(e)}function V(){ne(this).removeClass("mbsc-cal-p-out mbsc-cal-p-in")}function A(e){return e[0].innerWidth||e.innerWidth()}var I,Y,F,O,E,H,P,L,N,W,$,j,R,q,X,U,B,z,K,G,Z,J,Q,ee,te,ae,se,ie,re,oe,ce,de,ue,me,he,fe,pe,be,ve,ge,ye,xe,_e,we,Ce,Te,Me,ke,De,Se,Ve,Ae,Ie,Ye,Fe,Oe,Ee,He,Pe=this,Le=[],Ne=[],We=[],$e={},je={},Re=function(){},qe=le({},e.settings),Xe=le(e.settings,vt,qe),Ue="full"==Xe.weekDays?"":"min"==Xe.weekDays?"Min":"Short",Be=Xe.weekCounter,ze=Xe.layout||(/top|bottom|inline/.test(Xe.display)?"liquid":""),Ke="liquid"==ze&&"bubble"!==Xe.display,Ge="center"==Xe.display,Ze=Xe.rtl,Je=Ze?-1:1,Qe=Ke?null:Xe.calendarWidth,et="vertical"==Xe.calendarScroll,tt=Xe.quickNav,at=Xe.preMonths,st=Xe.yearChange,nt=Xe.controls.join(","),it=(Xe.tabs===!0||Xe.tabs!==!1&&Ke)&&Xe.controls.length>1,rt=!it&&void 0===Xe.tabs&&!Ke&&Xe.controls.length>1,lt=Xe.yearSuffix||"",bt=Xe.activeClass||"",gt="mbsc-cal-tab-sel "+(Xe.activeTabClass||""),yt=Xe.activeTabInnerClass||"",xt="mbsc-fr-btn-d "+(Xe.disabledClass||""),_t="",wt="";return nt.match(/calendar/)?R=!0:tt=!1,nt.match(/date/)&&($e.date=1),nt.match(/time/)&&($e.time=1),R&&$e.date&&(it=!0,rt=!1),Xe.layout=ze,Xe.preset=($e.date||R?"date":"")+($e.time?"time":""),"inline"==Xe.display&&ne(this).closest('[data-role="page"]').on("pageshow",function(){e.position()}),e.changing=!1,e.needsSlide=!0,e.getDayProps=Re,e.onGenMonth=Re,e.prepareObj=r,e.refresh=function(){_(!1)},e.redraw=function(){_(!0)},e.navigate=function(t,a){var s,n,i=e.isVisible();a&&i?f(t,!0):(s=Xe.getYear(t),n=Xe.getMonth(t),!i||s==he&&n==fe||(e.trigger("onMonthChange",{year:s,month:n}),d(s,n),p(s,n),b(t.getFullYear(),t.getMonth())),he=s,fe=n)},e.showMonthView=function(){tt&&!z&&(D(wt,!0),D(_t,!0),k(B,!0),z=!0)},e.changeTab=function(t){e._isVisible&&$e[t]&&xe!=t&&(xe=t,ne(".mbsc-cal-pnl",H).removeClass("mbsc-cal-p-in").addClass("mbsc-cal-pnl-h"),ne(".mbsc-cal-tab",H).removeClass(gt).removeAttr("aria-selected").find(".mbsc-cal-tab-i").removeClass(yt),ne('.mbsc-cal-tab[data-control="'+t+'"]',H).addClass(gt).attr("aria-selected","true").find(".mbsc-cal-tab-i").addClass(yt),$e[xe].removeClass("mbsc-cal-pnl-h").addClass("mbsc-cal-p-in"),"calendar"==xe&&(I=e.getDate(!0),I.getFullYear()===me.getFullYear()&&I.getMonth()===me.getMonth()&&I.getDate()===me.getDate()||f(I)),e.showMonthView(),e.trigger("onTabChange",{tab:xe}))},O=ot.datetime.call(this,e),Q=(Xe.dateWheels||Xe.dateFormat).search(/m/i),te=(Xe.dateWheels||Xe.dateFormat).search(/y/i),le(O,{ariaMessage:Xe.calendarText,onMarkupReady:function(n){var i,r,l="";if(H=ne(n.target),P="inline"==Xe.display?ne(this).is("div")?ne(this):ne(this).parent():e._window,me=e.getDate(!0),he||(he=Xe.getYear(me),fe=Xe.getMonth(me)),$=0,X=!0,_e=!1,K=Xe.monthNames,xe="calendar",Xe.min&&(oe=ut(Xe.min.getFullYear(),Xe.min.getMonth(),1),de=Xe.min),Xe.max&&(ce=ut(Xe.max.getFullYear(),Xe.max.getMonth(),1),ue=Xe.max),H.addClass("mbsc-calendar"),E=ne(".mbsc-fr-popup",H),ye=ne(".mbsc-fr-c",H),$e.date?$e.date=ne(".mbsc-sc-whl-gr-c",H).eq(0):R&&ne(".mbsc-sc-whl-gr-c",H).eq(0).addClass("mbsc-cal-hdn"),$e.time&&($e.time=ne(".mbsc-sc-whl-gr-c",H).eq(1)),R){for(De="auto"==Xe.months?Math.max(1,Math.min(3,Math.floor((Qe||A(P))/280))):Xe.months,Se=De+2*at,Ve=Math.floor(De/2),Ae=Math.round(De/2)-1,Ye=void 0===Xe.showOuterDays?De<2:Xe.showOuterDays,et=et&&De<2,r='<div class="mbsc-cal-btnw"><div class="'+(Ze?"mbsc-cal-next-m":"mbsc-cal-prev-m")+' mbsc-cal-prev mbsc-cal-btn mbsc-fr-btn mbsc-fr-btn-e"><div role="button" tabindex="0" class="mbsc-cal-btn-txt '+(Xe.btnCalPrevClass||"")+'" aria-label="'+Xe.prevMonthText+'"></div></div>',Y=0;Y<De;++Y)r+='<div class="mbsc-cal-btnw-m" style="width: '+100/De+'%"><span role="button" class="mbsc-cal-month"></span></div>';for(r+='<div class="'+(Ze?"mbsc-cal-prev-m":"mbsc-cal-next-m")+' mbsc-cal-next mbsc-cal-btn mbsc-fr-btn mbsc-fr-btn-e"><div role="button" tabindex="0" class="mbsc-cal-btn-txt '+(Xe.btnCalNextClass||"")+'" aria-label="'+Xe.nextMonthText+'"></div></div></div>',st&&(l='<div class="mbsc-cal-btnw"><div class="'+(Ze?"mbsc-cal-next-y":"mbsc-cal-prev-y")+' mbsc-cal-prev mbsc-cal-btn mbsc-fr-btn mbsc-fr-btn-e"><div role="button" tabindex="0" class="mbsc-cal-btn-txt '+(Xe.btnCalPrevClass||"")+'" aria-label="'+Xe.prevYearText+'"></div></div><span role="button" class="mbsc-cal-year"></span><div class="'+(Ze?"mbsc-cal-prev-y":"mbsc-cal-next-y")+' mbsc-cal-next mbsc-cal-btn mbsc-fr-btn mbsc-fr-btn-e"><div role="button" tabindex="0" class="mbsc-cal-btn-txt '+(Xe.btnCalNextClass||"")+'" aria-label="'+Xe.nextYearText+'"></div></div></div>'),tt&&(ae=Xe.getYear(oe),se=Xe.getYear(ce),ie=Xe.getMonth(oe),re=Xe.getMonth(ce),be=Math.ceil((se-ae+1)/12)+2,_t=o("month",36,24,0,"",Xe.monthNames,Xe.monthNamesShort),wt=o("year",12*be,se-ae+13,ae,lt)),q='<div class="mbsc-w-p mbsc-cal-c"><div class="mbsc-cal mbsc-cal-hl-now '+(De>1?" mbsc-cal-multi ":"")+(Be?" mbsc-cal-weeks ":"")+(et?" mbsc-cal-vertical":"")+(Ye?"":" mbsc-cal-hide-diff ")+(Xe.calendarClass||"")+'"><div class="mbsc-cal-header"><div class="mbsc-cal-btnc '+(st?"mbsc-cal-btnc-ym":"mbsc-cal-btnc-m")+'">'+(te<Q||De>1?l+r:r+l)+'</div></div><div class="mbsc-cal-body"><div class="mbsc-cal-m-c mbsc-cal-v"><div class="mbsc-cal-days-c">',F=0;F<De;++F){for(q+='<div aria-hidden="true" class="mbsc-cal-days" style="width: '+100/De+'%"><table cellpadding="0" cellspacing="0"><tr>',Y=0;Y<7;Y++)q+="<th>"+Xe["dayNames"+Ue][(Y+Xe.firstDay)%7]+"</th>";q+="</tr></table></div>"}for(q+='</div><div class="mbsc-cal-week-nrs-c '+(Xe.weekNrClass||"")+'"><div class="mbsc-cal-week-nrs"></div></div><div class="mbsc-cal-anim-c '+(Xe.calendarClass||"")+'"><div class="mbsc-cal-anim">',Y=0;Y<De+2*at;Y++)q+='<div class="mbsc-cal-slide" aria-hidden="true"></div>';q+="</div></div></div>"+_t+wt+"</div></div></div>",$e.calendar=ne(q)}if(ne.each(Xe.controls,function(e,t){$e[t]=ne('<div class="mbsc-cal-pnl" id="'+(Pe.id+"_dw_pnl_"+e)+'"></div>').append(ne('<div class="mbsc-cal-pnl-i"></div>').append($e[t])).appendTo(ye)}),i='<div class="mbsc-cal-tabs"><ul role="tablist">',ne.each(Xe.controls,function(e,t){$e[t]&&(i+='<li role="tab" aria-controls="'+(Pe.id+"_dw_pnl_"+e)+'" class="mbsc-cal-tab '+(e?"":gt)+'" data-control="'+t+'"><a href="#" class="mbsc-fr-btn-e mbsc-fr-btn-nhl mbsc-cal-tab-i '+(e?"":yt)+'">'+Xe[t+"Text"]+"</a></li>")}),i+="</ul></div>",ye.before(i),L=ne(".mbsc-cal-anim-c",H),N=ne(".mbsc-cal-anim",L),U=ne(".mbsc-cal-week-nrs",H),R){for(z=!0,Le=ne(".mbsc-cal-slide",N).each(function(e,t){Ne.push(ne(t))}),Le.slice(at,at+De).addClass("mbsc-cal-slide-a").removeAttr("aria-hidden"),Y=0;Y<Se;Y++)x(Ne[Y],100*(Y-at)*Je);p(he,fe),G=new ct.ScrollView(L[0],{axis:et?"Y":"X",easing:"",contSize:0,snap:1,maxSnapScroll:at,moveElement:N,mousewheel:Xe.mousewheel,time:200,lock:!0,stopProp:!1,minScroll:-(1/0),maxScroll:1/0,onAnimationEnd:function(e){var t=Math.round(((et?e.posY:e.posX)-$)/W)*Je;t&&g(he,fe-t,t>0?"prev":"next",t>0?t:-t)}})}J=ne(".mbsc-cal-month",H),ee=ne(".mbsc-cal-year",H),B=ne(".mbsc-cal-m-c",H),tt&&(B.on(pt,V),_t=ne(".mbsc-cal-month-c",H).on(pt,V),wt=ne(".mbsc-cal-year-c",H).on(pt,V),Fe=ne(".mbsc-cal-sc-p",H),pe={axis:et?"Y":"X",contSize:0,snap:1,maxSnapScroll:1,rtl:Xe.rtl,mousewheel:Xe.mousewheel,time:200,stopProp:!1,minScroll:-(1/0),maxScroll:1/0},Oe=new ct.ScrollView(wt[0],pe),Z=new ct.ScrollView(_t[0],pe)),Ke?H.addClass("mbsc-cal-liq"):ne(".mbsc-cal",H).width(Qe||280*De),Xe.calendarHeight&&ne(".mbsc-cal-anim-c",H).height(Xe.calendarHeight),e.tap(L,function(e){var t=ne(e.target);_e||G.scrolled||Xe.readonly===!0||(t=t.closest(".mbsc-cal-day",this),t.hasClass("mbsc-cal-day-v")&&y.call(t[0]))}),ne(".mbsc-cal-btn",H).on("touchstart mousedown keydown",t).on("touchmove",a).on("touchend touchcancel keyup",s),ne(".mbsc-cal-tab",H).on("touchstart click",function(t){ht(t,this)&&e.changeTab(ne(this).attr("data-control"))}),tt&&(e.tap(ne(".mbsc-cal-month",H),function(){wt.hasClass("mbsc-cal-v")||(S(B),z=B.hasClass("mbsc-cal-v")),S(_t),D(wt)}),e.tap(ne(".mbsc-cal-year",H),function(){wt.hasClass("mbsc-cal-v")||Oe.scroll(Ee),_t.hasClass("mbsc-cal-v")||(S(B),z=B.hasClass("mbsc-cal-v")),S(wt),D(_t)}),e.tap(ne(".mbsc-cal-month-s",H),function(){Z.scrolled||ne(this).hasClass("mbsc-fr-btn-d")||e.navigate(Xe.getDate(he,ne(this).attr("data-val"),1))}),e.tap(ne(".mbsc-cal-year-s",H),function(){Oe.scrolled||(I=Xe.getDate(ne(this).attr("data-val"),fe,1),e.navigate(new Date(dt.constrain(I,oe,ce))))}),e.tap(wt,function(){Oe.scrolled||(D(wt),k(B),z=!0)}),e.tap(_t,function(){Z.scrolled||(D(_t),k(B),z=!0)}))},onShow:function(){R&&d(he,fe)},onPosition:function(t){var a,s,n,i,r,l,o=0,c=0,d=0,u=t.windowHeight;if(Ke&&(Ge&&L.height(""),ye.height(""),N.width("")),W&&(r=W),R&&(W=Math.round(Math.round(L[0][et?"offsetHeight":"offsetWidth"])/De)),W&&(H.removeClass("mbsc-cal-m mbsc-cal-l"),W>1024?H.addClass("mbsc-cal-l"):W>640&&H.addClass("mbsc-cal-m")),(it&&(X||Ke)||rt)&&(ne(".mbsc-cal-pnl",H).removeClass("mbsc-cal-pnl-h"),ne.each($e,function(e,t){a=t[0].offsetWidth,o=Math.max(o,a),c=Math.max(c,t[0].offsetHeight),d+=a}),it||rt&&d>A(P)?(s=!0,xe=ne(".mbsc-cal-tabs .mbsc-cal-tab-sel",H).attr("data-control"),E.addClass("mbsc-cal-tabbed")):(xe="calendar",o="",c="",E.removeClass("mbsc-cal-tabbed"),ye.css({width:"",height:""}))),Ke&&Ge&&R&&(e._isFullScreen=!0,s&&ye.height($e.calendar[0].offsetHeight),i=E[0].offsetHeight,u>=i&&L.height(u-i+L[0].offsetHeight),c=Math.max(c,$e.calendar[0].offsetHeight)),s&&(ye.css({width:Ke?"":o,height:c}),R&&(W=Math.round(Math.round(L[0][et?"offsetHeight":"offsetWidth"])/De))),W){if(N[et?"height":"width"](W),W!==r){if(st)for(K=Xe.maxMonthWidth>ne(".mbsc-cal-btnw-m",H).width()?Xe.monthNamesShort:Xe.monthNames,Y=0;Y<De;++Y)ne(J[Y]).text(K[Xe.getMonth(Xe.getDate(he,fe-Ae+Y,1))]);tt&&(l=wt[0][et?"offsetHeight":"offsetWidth"],le(Oe.settings,{contSize:l,snap:l,minScroll:(2-be)*l,maxScroll:-l}),le(Z.settings,{contSize:l,snap:l,minScroll:-l,maxScroll:-l}),Oe.refresh(),Z.refresh(),wt.hasClass("mbsc-cal-v")&&Oe.scroll(Ee)),Ke&&!X&&r&&(n=$/r,$=n*W),b(he,fe)}}else W=r;s&&(ne(".mbsc-cal-pnl",H).addClass("mbsc-cal-pnl-h"),$e[xe].removeClass("mbsc-cal-pnl-h")),e.trigger("onCalResize"),X=!1},onHide:function(){We=[],Ne=[],xe=null,he=null,fe=null,_e=!0,W=0,G&&G.destroy(),tt&&Oe&&Z&&(Oe.destroy(),Z.destroy())},onValidated:function(t){var a,s,n;if(s=e.getDate(!0),j)a="calendar";else for(n in e.order)n&&e.order[n]===t&&(a=/[mdy]/.test(n)?"date":"time");e.trigger("onSetDate",{date:s,control:a}),f(s),j=!1}}),O};var gt=$.util,yt=gt.datetime,xt=yt.adjustedDate,_t=$.presets.scroller,wt={};$.presetShort("calendar"),_t.calendar=function(e){function t(e){if(e){if(m[e])return m[e];var t=ne('<div style="background-color:'+e+';"></div>').appendTo("body"),a=window.getComputedStyle?getComputedStyle(t[0]):t[0].style,s=a.backgroundColor.replace(/rgb|rgba|\(|\)|\s/g,"").split(","),n=.299*s[0]+.587*s[1]+.114*s[2],i=n>130?"#000":"#fff";return t.remove(),m[e]=i,i}}function a(e){return xt(e.getFullYear(),e.getMonth(),e.getDate())}function s(e){if(y={},e&&e.length)for(o=0;o<e.length;o++)y[a(e[o])]=e[o]}function n(){e.refresh()}var i,r,l,o,c,d,u,m={},h=le({},e.settings),f=le(e.settings,wt,h),p=f.activeClass||"",b="multiple"==f.select||f.select>1||"week"==f.selectType,v=gt.isNumeric(f.select)?f.select:1/0,g=!!f.events,y={};if(u=_t.calbase.call(this,e),i=le({},u),l=void 0===f.firstSelectDay?f.firstDay:f.firstSelectDay,b&&f.defaultValue&&f.defaultValue.length)for(o=0;o<f.defaultValue.length;o++)y[a(f.defaultValue[o])]=f.defaultValue[o];return e.onGenMonth=function(t,a){c=e.prepareObj(f.events||f.marked,t,a)},e.getDayProps=function(e){var a,s=b?void 0!==y[e]:void 0,n=!!c[e]&&c[e],i=n&&n[0]&&n[0].text,r=n&&n[0]&&n[0].color,l=g&&i?t(r):"",o="",d="";if(n){for(a=0;a<n.length;a++)n[a].icon&&(o+='<span class="mbsc-ic mbsc-ic-'+n[a].icon+'"'+(n[a].text?"":n[a].color?' style="color:'+n[a].color+';"':"")+"></span>\n");for(d='<div class="mbsc-cal-day-m"><div class="mbsc-cal-day-m-t">',a=0;a<n.length;a++)d+='<div class="mbsc-cal-day-m-c"'+(n[a].color?' style="background:'+n[a].color+';"':"")+"></div>";d+="</div></div>"}return{marked:n,selected:s,cssClass:n?"mbsc-cal-day-marked":"",ariaLabel:g?i:"",markup:g&&i?'<div class="mbsc-cal-day-txt-c"><div class="mbsc-cal-day-txt" title="'+ne("<div>"+i+"</div>").text()+'"'+(r?' style="background:'+r+";color:"+l+';text-shadow:none;"':"")+">"+o+i+"</div></div>":g&&o?'<div class="mbsc-cal-day-ic-c">'+o+"</div>":n?d:""
}},e.addValue=function(e){y[a(e)]=e,n()},e.removeValue=function(e){delete y[a(e)],n()},e.setVal=function(t,a,i,r,l){b&&(s(t),t=t?t[0]:null),e._setVal(t,a,i,r,l),n()},e.getVal=function(t){return b?gt.objectToArray(y):e.getDate(t)},le(u,{highlight:!b,outerMonthChange:!b,parseValue:function(t){var s,n;if(b&&t&&"string"==typeof t){for(y={},t=t.split(","),s=0;s<t.length;s++)n=yt.parseDate(e.format,t[s].replace(/^\s+|\s+$/g,""),f),y[a(n)]=n;t=t[0]}return b&&f.defaultValue&&f.defaultValue.length&&(f.defaultValue=f.defaultValue[0]),i.parseValue.call(this,t)},formatValue:function(t){var a,s=[];if(b){for(a in y)s.push(yt.formatDate(e.format,y[a],f));return s.join(", ")}return i.formatValue.call(this,t)},onClear:function(){b&&(y={},e.refresh())},onBeforeShow:function(){void 0!==f.setOnDayTap||f.buttons&&f.buttons.length||(f.setOnDayTap=!0),f.setOnDayTap&&"inline"!=f.display&&(f.outerMonthChange=!1),f.counter&&b&&(f.headerText=function(){var e=0,t="week"==f.selectType?7:1;return ne.each(y,function(){e++}),e=Math.round(e/t),(e>1?f.selectedPluralText||f.selectedText:f.selectedText).replace(/{count}/,e)})},onMarkupReady:function(e){i.onMarkupReady.call(this,e),r=ne(e.target),b&&(ne(".mbsc-fr-hdr",r).attr("aria-live","off"),d=le({},y)),g&&ne(".mbsc-cal",r).addClass("mbsc-cal-ev")},onDayChange:function(t){var s=t.date,i=a(s),o=ne(t.target),c=t.selected;if(b)if("week"==f.selectType){var d,u,m=i.getDay()-l;for(m=m<0?7+m:m,"multiple"!=f.select&&(y={}),d=0;d<7;d++)u=xt(i.getFullYear(),i.getMonth(),i.getDate()-m+d),c?delete y[u]:gt.objectToArray(y).length/7<v&&(y[u]=u);n()}else{var h=ne('.mbsc-cal .mbsc-cal-day[data-full="'+o.attr("data-full")+'"]',r);c?(h.removeClass("mbsc-cal-day-sel").removeAttr("aria-selected").find(".mbsc-cal-day-i").removeClass(p),delete y[i]):gt.objectToArray(y).length<v&&(h.addClass("mbsc-cal-day-sel").attr("aria-selected","true").find(".mbsc-cal-day-i").addClass(p),y[i]=i)}if(f.setOnDayTap&&"multiple"!=f.select&&"inline"!=f.display)return e.needsSlide=!1,e.setDate(s),e.select(),!1},onCancel:function(){!e.live&&b&&(y=le({},d))}}),u};var Ct={wheelOrder:"hhiiss",useShortLabels:!1,min:0,max:1/0,labels:["Years","Months","Days","Hours","Minutes","Seconds"],labelsShort:["Yrs","Mths","Days","Hrs","Mins","Secs"]};$.presetShort("timespan"),$.presets.scroller.timespan=function(e){function t(e){var t={};return ne(p).each(function(a,s){t[s]=y[s]?Math.floor(e/b[s].limit):0,e-=t[s]*b[s].limit}),t}function a(e){var t=!1,a=g[y[e]-1]||1,n=b[e],i=n.label,l=n.wheel;if(l.data=[],l.label=n.label,h.match(new RegExp(n.re+n.re,"i"))&&(t=!0),e==x)l.min=c[e],l.max=d[e],l.data=function(e){return{value:e*a,display:s(e*a,t,i)}},l.getIndex=function(e){return Math.round(e/a)};else for(r=0;r<=n.until;r+=a)l.data.push({value:r,display:s(r,t,i)})}function s(e,t,a){return(e<10&&t?"0":"")+e+'<span class="mbsc-ts-lbl">'+a+"</span>"}function n(e){var t=0,a=0;return ne.each(v,function(s,n){isNaN(+e[t])||(a+=b[n.v].limit*e[s])}),a}function i(e,t){return Math.floor(e/t)*t}var r,l,o,c,d,u=le({},e.settings),m=le(e.settings,Ct,u),h=m.wheelOrder,f=m.useShortLabels?m.labelsShort:m.labels,p=["years","months","days","hours","minutes","seconds"],b={years:{ord:0,index:6,until:10,limit:31536e6,label:f[0],re:"y",wheel:{}},months:{ord:1,index:5,until:11,limit:2592e6,label:f[1],re:"m",wheel:{}},days:{ord:2,index:4,until:31,limit:864e5,label:f[2],re:"d",wheel:{}},hours:{ord:3,index:3,until:23,limit:36e5,label:f[3],re:"h",wheel:{}},minutes:{ord:4,index:2,until:59,limit:6e4,label:f[4],re:"i",wheel:{}},seconds:{ord:5,index:1,until:59,limit:1e3,label:f[5],re:"s",wheel:{}}},v=[],g=m.steps||[],y={},x="seconds",_=m.defaultValue||Math.max(m.min,Math.min(0,m.max)),w=[[]];return ne(p).each(function(e,t){l=h.search(new RegExp(b[t].re,"i")),l>-1&&(v.push({o:l,v:t}),b[t].index>b[x].index&&(x=t))}),v.sort(function(e,t){return e.o>t.o?1:-1}),ne.each(v,function(e,t){y[t.v]=e+1,w[0].push(b[t.v].wheel)}),c=t(m.min),d=t(m.max),ne.each(v,function(e,t){a(t.v)}),e.getVal=function(t,a){return a?e._getVal(t):e._hasValue||t?n(e.getArrayVal(t)):null},{showLabel:!0,wheels:w,compClass:"mbsc-ts",parseValue:function(e){var a,s=[];return $.util.isNumeric(e)||!e?(o=t(e||_),ne.each(v,function(e,t){s.push(o[t.v])})):ne.each(v,function(t,n){a=new RegExp("(\\d+)\\s?("+m.labels[b[n.v].ord]+"|"+m.labelsShort[b[n.v].ord]+")","gi").exec(e),s.push(a?a[1]:0)}),ne(s).each(function(e,t){s[e]=i(t,g[e]||1)}),s},formatValue:function(e){var t="";return ne.each(v,function(a,s){t+=+e[a]?e[a]+" "+b[s.v].label+" ":""}),t?t.replace(/\s+$/g,""):0},validate:function(a){var s,i,r,l,o=a.values,u=a.direction,m=[],h=!0,f=!0;return ne(p).each(function(a,p){if(void 0!==y[p]){if(r=y[p]-1,m[r]=[],l={},p!=x){if(h)for(i=d[p]+1;i<=b[p].until;i++)l[i]=!0;if(f)for(i=0;i<c[p];i++)l[i]=!0}o[r]=e.getValidValue(r,o[r],u,l),s=t(n(o)),h=h&&s[p]==d[p],f=f&&s[p]==c[p],ne.each(l,function(e){m[r].push(e)})}}),{disabled:m}}}};var Tt={autostart:!1,step:1,useShortLabels:!1,labels:["Years","Months","Days","Hours","Minutes","Seconds",""],labelsShort:["Yrs","Mths","Days","Hrs","Mins","Secs",""],startText:"Start",stopText:"Stop",resetText:"Reset",lapText:"Lap",hideText:"Hide"};$.presetShort("timer"),$.presets.scroller.timer=function(e){function t(e){return new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())}function a(e){var a={};if(E&&T[Y].index>T.days.index){var s,n,i,r,l=new Date,o=b?l:O,c=b?O:l;for(c=t(c),o=t(o),a.years=o.getFullYear()-c.getFullYear(),a.months=o.getMonth()-c.getMonth(),a.days=o.getDate()-c.getDate(),a.hours=o.getHours()-c.getHours(),a.minutes=o.getMinutes()-c.getMinutes(),a.seconds=o.getSeconds()-c.getSeconds(),a.fract=(o.getMilliseconds()-c.getMilliseconds())/10,s=C.length;s>0;s--)n=C[s-1],i=T[n],r=C[ne.inArray(n,C)-1],T[r]&&a[n]<0&&(a[r]--,a[n]+="months"==r?32-new Date(o.getFullYear(),o.getMonth(),32).getDate():i.until+1);"months"==Y&&(a.months+=12*a.years,delete a.years)}else ne(C).each(function(t,s){T[s].index<=T[Y].index&&(a[s]=Math.floor(e/T[s].limit),e-=a[s]*T[s].limit)});return a}function s(e){var t=1,a=T[e],s=a.wheel,i=a.prefix,r=0,l=a.until,c=T[C[ne.inArray(e,C)-1]];if(a.index<=T[Y].index&&(!c||c.limit>I))if(M[e]||H[0].push(s),M[e]=1,s.data=[],s.label=a.label||"",s.cssClass="mbsc-timer-whl-"+e,I>=a.limit&&(t=Math.max(Math.round(I/a.limit),1),d=t*a.limit),e==Y)s.min=0,s.data=function(e){return{value:e,display:n(e,i,a.label)}},s.getIndex=function(e){return e};else for(o=r;o<=l;o+=t)s.data.push({value:o,display:n(o,i,a.label)})}function n(e,t,a){return(t||"")+(e<10?"0":"")+e+'<span class="mbsc-timer-lbl">'+a+"</span>"}function i(e){var t,s=[],n=a(e);return ne(C).each(function(e,a){M[a]&&(t=Math.max(Math.round(I/T[a].limit),1),s.push(Math.round(n[a]/t)*t))}),s}function r(e){E?(f=O-new Date,f<0?(f*=-1,b=!0):b=!1,p=0,A=!0):void 0!==O?(A=!1,f=1e3*O,b="countdown"!=x.mode,e&&(p=0)):(f=0,b="countdown"!=x.mode,A=b,e&&(p=0))}function l(){S?(ne(".mbsc-fr-w",v).addClass("mbsc-timer-running mbsc-timer-locked"),ne(".mbsc-timer-btn-toggle-c > div",v).text(x.stopText),e.buttons.start.icon&&ne(".mbsc-timer-btn-toggle-c > div",v).removeClass("mbsc-ic-"+e.buttons.start.icon),e.buttons.stop.icon&&ne(".mbsc-timer-btn-toggle-c > div",v).addClass("mbsc-ic-"+e.buttons.stop.icon),"stopwatch"==x.mode&&(ne(".mbsc-timer-btn-resetlap-c > div",v).text(x.lapText),e.buttons.reset.icon&&ne(".mbsc-timer-btn-resetlap-c > div",v).removeClass("mbsc-ic-"+e.buttons.reset.icon),e.buttons.lap.icon&&ne(".mbsc-timer-btn-resetlap-c > div",v).addClass("mbsc-ic-"+e.buttons.lap.icon))):(ne(".mbsc-fr-w",v).removeClass("mbsc-timer-running"),ne(".mbsc-timer-btn-toggle-c > div",v).text(x.startText),e.buttons.start.icon&&ne(".mbsc-timer-btn-toggle-c > div",v).addClass("mbsc-ic-"+e.buttons.start.icon),e.buttons.stop.icon&&ne(".mbsc-timer-btn-toggle-c > div",v).removeClass("mbsc-ic-"+e.buttons.stop.icon),"stopwatch"==x.mode&&(ne(".mbsc-timer-btn-resetlap-c > div",v).text(x.resetText),e.buttons.reset.icon&&ne(".mbsc-timer-btn-resetlap-c > div",v).addClass("mbsc-ic-"+e.buttons.reset.icon),e.buttons.lap.icon&&ne(".mbsc-timer-btn-resetlap-c > div",v).removeClass("mbsc-ic-"+e.buttons.lap.icon)))}var o,c,d,u,m,h,f,p,b,v,g,y=le({},e.settings),x=le(e.settings,Tt,y),_=x.useShortLabels?x.labelsShort:x.labels,w=["toggle","resetlap"],C=["years","months","days","hours","minutes","seconds","fract"],T={years:{index:6,until:10,limit:31536e6,label:_[0],wheel:{}},months:{index:5,until:11,limit:2592e6,label:_[1],wheel:{}},days:{index:4,until:31,limit:864e5,label:_[2],wheel:{}},hours:{index:3,until:23,limit:36e5,label:_[3],wheel:{}},minutes:{index:2,until:59,limit:6e4,label:_[4],wheel:{}},seconds:{index:1,until:59,limit:1e3,label:_[5],wheel:{}},fract:{index:0,until:99,limit:10,label:_[6],prefix:".",wheel:{}}},M={},k=[],D=0,S=!1,V=!0,A=!1,I=Math.max(10,1e3*x.step),Y=x.maxWheel,F="stopwatch"==x.mode||E,O=x.targetTime,E=O&&void 0!==O.getTime,H=[[]];return e.start=function(){if(V&&e.reset(),!S){if(r(),!A&&p>=f)return;S=!0,V=!1,m=new Date,u=p,x.readonly=!0,e.setVal(i(b?p:f-p),!0,!0,!1,100),c=setInterval(function(){p=new Date-m+u,e.setVal(i(b?p:f-p),!0,!0,!1,Math.min(100,d-10)),!A&&p+d>=f&&(clearInterval(c),setTimeout(function(){e.stop(),p=f,e.setVal(i(b?p:0),!0,!0,!1,100),e.trigger("onFinish",{time:f}),V=!0},f-p))},d),l(),e.trigger("onStart")}},e.stop=function(){S&&(S=!1,clearInterval(c),p=new Date-m+u,l(),e.trigger("onStop",{ellapsed:p}))},e.toggle=function(){S?e.stop():e.start()},e.reset=function(){e.stop(),p=0,k=[],D=0,e.setVal(i(b?0:f),!0,!0,!1,100),e.settings.readonly=F,V=!0,F||ne(".mbsc-fr-w",v).removeClass("mbsc-timer-locked"),e.trigger("onReset")},e.lap=function(){S&&(h=new Date-m+u,g=h-D,D=h,k.push(h),e.trigger("onLap",{ellapsed:h,lap:g,laps:k}))},e.resetlap=function(){S&&"stopwatch"==x.mode?e.lap():e.reset()},e.getTime=function(){return f},e.setTime=function(e){O=e/1e3,f=e},e.getEllapsedTime=function(){return S?new Date-m+u:0},e.setEllapsedTime=function(t,a){V||(u=p=t,m=new Date,e.setVal(i(b?p:f-p),!0,a,!1,100))},r(!0),Y||f||(Y="minutes"),"inline"!==x.display&&w.push("hide"),Y||ne(C).each(function(e,t){if(!Y&&f>=T[t].limit)return Y=t,!1}),ne(C).each(function(e,t){s(t)}),d=Math.max(87,d),x.autostart&&setTimeout(function(){e.start()},0),e.handlers.toggle=e.toggle,e.handlers.start=e.start,e.handlers.stop=e.stop,e.handlers.resetlap=e.resetlap,e.handlers.reset=e.reset,e.handlers.lap=e.lap,e.buttons.toggle={parentClass:"mbsc-timer-btn-toggle-c",text:x.startText,icon:x.startIcon,handler:"toggle"},e.buttons.start={text:x.startText,icon:x.startIcon,handler:"start"},e.buttons.stop={text:x.stopText,icon:x.stopIcon,handler:"stop"},e.buttons.reset={text:x.resetText,icon:x.resetIcon,handler:"reset"},e.buttons.lap={text:x.lapText,icon:x.lapIcon,handler:"lap"},e.buttons.resetlap={parentClass:"mbsc-timer-btn-resetlap-c",text:x.resetText,icon:x.resetIcon,handler:"resetlap"},e.buttons.hide={parentClass:"mbsc-timer-btn-hide-c",text:x.hideText,icon:x.closeIcon,handler:"cancel"},{wheels:H,headerText:!1,readonly:F,buttons:w,mode:"countdown",compClass:"mbsc-timer",parseValue:function(){return i(b?0:f)},formatValue:function(e){var t="",a=0;return ne(C).each(function(s,n){"fract"!=n&&M[n]&&(t+=e[a]+("seconds"==n&&M.fract?"."+e[a+1]:"")+" "+_[s]+" ",a++)}),t},validate:function(e){var t=e.values,a=e.index,s=0;V&&void 0!==a&&(O=0,ne(C).each(function(e,a){M[a]&&(O+=T[a].limit*t[s],s++)}),O/=1e3,r(!0))},onBeforeShow:function(){x.showLabel=!0},onMarkupReady:function(e){v=ne(e.target),l(),F&&ne(".mbsc-fr-w",v).addClass("mbsc-timer-locked")},onPosition:function(e){ne(".mbsc-fr-w",e.target).css("min-width",0).css("min-width",ne(".mbsc-fr-btn-cont",e.target)[0].offsetWidth)},onDestroy:function(){clearInterval(c)}}};var Mt=function(){},kt=function(e,t,a){var s,n,i,r,l=this;$.classes.Base.call(this,e,t,!0),l.__init=Mt,l.__destroy=Mt,l._init=function(t){var a;r=l.settings,s=ne(e),a=!!n,n=s.parent(),n=n.hasClass("mbsc-input-wrap")?n.parent():n,l._$parent=n,i&&n.removeClass(i),i=l._css+" mbsc-progress-w mbsc-control-w mbsc-"+r.theme+(r.baseTheme?" mbsc-"+r.baseTheme:"")+(r.rtl?" mbsc-rtl":" mbsc-ltr"),n.addClass(i),s.addClass("mbsc-control"),l.__init(t),a||l._attachChange(),l.refresh()},l._destroy=function(){l.__destroy(),n.removeClass(i),s.removeClass("mbsc-control")},a||l.init(t)};kt.prototype={_class:"progressbase"};var Dt="mbsc-input-wrap",St=function(e,t,a){function s(){var e=n("value",h);e!==g&&i(e)}function n(e,t){var a=l.attr(e);return void 0===a||""===a?t:+a}function i(e,t,a,s){e=Math.min(p,Math.max(e,h)),c.css("width",100*(e-h)/(p-h)+"%"),void 0===a&&(a=!0),void 0===s&&(s=a),(e!==g||t)&&x._display(e),e!==g&&(g=e,a&&l.attr("value",g),s&&l.trigger("change"))}var r,l,o,c,d,u,h,p,b,v,g,y,x=this;kt.call(this,e,t,!0),x._display=function(e){y=v&&b.returnAffix?v.replace(/\{value\}/,e).replace(/\{max\}/,p):e,d&&d.html(y),r&&r.html(y)},x._attachChange=function(){l.on("change",s)},x.__init=function(t){var a,s,i,y;if(b=x.settings,l=ne(e),y=!!o,o=x._$parent,h=x._min=void 0===t.min?n("min",b.min):t.min,p=x._max=void 0===t.max?n("max",b.max):t.max,g=n("value",h),a=l.attr("data-val")||b.val,i=l.attr("data-step-labels"),i=i?JSON.parse(i):b.stepLabels,v=l.attr("data-template")||(100!=p||b.template?b.template:"{value}%"),y?(a&&(r.remove(),o.removeClass("mbsc-progress-value-"+("right"==a?"right":"left"))),i&&ne(".mbsc-progress-step-label",u).remove()):(f(o),m(l),o.find(".mbsc-input-wrap").append('<span class="mbsc-progress-cont"><span class="mbsc-progress-track mbsc-progress-anim"><span class="mbsc-progress-bar"></span></span></span>'),c=x._$progress=o.find(".mbsc-progress-bar"),u=x._$track=o.find(".mbsc-progress-track")),l.attr("min",h).attr("max",p),a&&(r=ne('<span class="mbsc-progress-value"></span>'),o.addClass("mbsc-progress-value-"+("right"==a?"right":"left")).find(".mbsc-input-wrap").append(r)),i)for(s=0;s<i.length;++s)u.append('<span class="mbsc-progress-step-label" style="'+(b.rtl?"right":"left")+": "+100*(i[s]-h)/(p-h)+'%" >'+i[s]+"</span>");d=ne(l.attr("data-target")||b.target)},x.__destroy=function(){o.removeClass("mbsc-ic-left mbsc-ic-right").find(".mbsc-progress-cont").remove(),o.find(".mbsc-input-ic").remove(),l.off("change",s)},x.refresh=function(){i(n("value",h),!0,!1)},x.getVal=function(){return g},x.setVal=function(e,t,a){i(e,!0,t,a)},a||x.init(t)};St.prototype={_class:"progress",_css:"mbsc-progress",_hasTheme:!0,_hasLang:!0,_defaults:{min:0,max:100,returnAffix:!0}},$.classes.Progress=St,$.presetShort("progress","Progress");var Vt=function(){},At=$.util,It=At.getCoord,Yt=At.testTouch,Ft=function(e,t,a){function s(t){!Yt(t,this)||C||e.disabled||(L.stopProp&&t.stopPropagation(),C=!0,E=!1,T=!1,W=It(t,"X"),$=It(t,"Y"),S=W,w.removeClass("mbsc-progress-anim"),v=H?ne(".mbsc-slider-handle",this):y,g&&g.removeClass("mbsc-handle-curr"),g=v.parent().addClass("mbsc-active mbsc-handle-curr"),A=+v.attr("data-index"),q=w[0].offsetWidth,D=w[0].getBoundingClientRect().left,"mousedown"===t.type&&(t.preventDefault(),ne(document).on("mousemove",n).on("mouseup",i)))}function n(e){C&&(S=It(e,"X"),V=It(e,"Y"),M=S-W,k=V-$,(Math.abs(M)>5||E)&&(E=!0,Math.abs(B-new Date)>50&&(B=new Date,h(S,L.round,Y))),E?e.preventDefault():Math.abs(k)>7&&m(e))}function i(e){C&&(e.preventDefault(),H||w.addClass("mbsc-progress-anim"),h(S,!0,!0),E||T||("touchend"==e.type&&At.preventClick(),U._onTap(X[A])),m())}function r(){C&&m()}function l(){var e=U._readValue(ne(this)),t=+ne(this).attr("data-index");e!==X[t]&&(X[t]=e,p(e,t))}function o(e){e.stopPropagation()}function c(e){e.preventDefault()}function d(t){var a;if(!e.disabled){switch(t.keyCode){case 38:case 39:a=1;break;case 40:case 37:a=-1}a&&(t.preventDefault(),R||(A=+ne(this).attr("data-index"),p(X[A]+P*a,A,!0),R=setInterval(function(){p(X[A]+P*a,A,!0)},200)))}}function u(e){e.preventDefault(),clearInterval(R),R=null}function m(){C=!1,g.removeClass("mbsc-active"),ne(document).off("mousemove",n).off("mouseup",i)}function h(e,t,a){var s=t?Math.min(Math.round(Math.max(100*(e-D)/q,0)/N/P)*P*100/(F-O),100):Math.max(0,Math.min(100*(e-D)/q,100));I&&(s=100-s),p(Math.round((O+s/N)*j)/j,A,a,s)}function f(e){return 100*(e-O)/(F-O)}function p(e,t,a,s,n,i){var r=y.eq(t),l=r.parent();e=Math.min(F,Math.max(e,O)),void 0===i&&(i=a),U._update?U._update(e,X,t,s,H,n,l):l.css({left:I?"auto":(s||f(e))+"%",right:I?(s||f(e))+"%":"auto"}),e>O?l.removeClass("mbsc-slider-start"):(X[t]>O||n)&&l.addClass("mbsc-slider-start"),a&&X[t]!=e&&(T=!0,X[t]=e,U._fillValue(e,t,i)),r.attr("aria-valuenow",e)}var b,v,g,y,x,_,w,C,T,M,k,D,S,V,A,I,Y,F,O,E,H,P,L,N,W,$,j,R,q,X,U=this,B=new Date;kt.call(this,e,t,!0),U._onTap=Vt,U.___init=Vt,U.___destroy=Vt,U._attachChange=function(){b.on(L.changeEvent,l)},U.__init=function(e){var t;y&&(t=!0,y.parent().remove()),U.___init(e),_=U._$parent,w=U._$track,b=_.find("input"),L=U.settings,O=U._min,F=U._max,P=U._step,Y=U._live,j=P%1!==0?100/(100*+(P%1).toFixed(2)):1,N=100/(F-O)||100,H=b.length>1,I=L.rtl,X=[],b.each(function(e){X[e]=U._readValue(ne(this)),ne(this).attr("data-index",e)}),y=_.find(".mbsc-slider-handle"),x=_.find(H?".mbsc-slider-handle-cont":".mbsc-progress-cont"),y.on("keydown",d).on("keyup",u).on("blur",u),x.on("touchstart mousedown",s).on("touchmove",n).on("touchend touchcancel",i).on("pointercancel",r),t||(b.on("click",o),_.on("click",c))},U.__destroy=function(){_.off("click",c),b.off(L.changeEvent,l).off("click",o),y.off("keydown",d).off("keyup",u).off("blur",u),x.off("touchstart mousedown",s).off("touchmove",n).off("touchend touchcancel",i).off("pointercancel",r),U.___destroy()},U.refresh=function(){b.each(function(e){p(U._readValue(ne(this)),e,!0,!1,!0,!1)})},U.getVal=function(){return H?X.slice(0):X[0]},U.setVal=U._setVal=function(e,t,a){ne.isArray(e)||(e=[e]),ne.each(e,function(e,t){p(t,e,!0,!1,!0,a)})},a||U.init(t)};Ft.prototype={_class:"sliderbase"};var Ot=function(e,t,a){function s(e){return 100*(e-p)/(f-p)}function n(e,t){var a=i.attr(e);return void 0===a||""===a?t:"true"===a}var i,r,l,o,c,d,u,m,h,f,p,b,v,g=this;St.call(this,e,t,!0);var y=g.__init,x=g.__destroy;Ft.call(this,e,t,!0);var _=g.__init,w=g.__destroy;g.__init=function(e){y(e),_(e)},g.__destroy=function(){x(),w()},g._update=function(e,t,a,n,i,r,c){m?0===a?(e=Math.min(e,t[1]),l.css({width:s(t[1])-s(e)+"%",left:h?"auto":s(e)+"%",right:h?s(e)+"%":"auto"})):(e=Math.max(e,t[0]),l.css({width:s(e)-s(t[0])+"%"})):i||!d?c.css({left:h?"auto":(n||s(e))+"%",right:h?(n||s(e))+"%":"auto"}):l.css("width",(n||s(e))+"%"),u&&o.eq(a).html(e),i||t[a]==e&&!r||g._display(e)},g._readValue=function(e){return+e.val()},g._fillValue=function(e,t,a){i.eq(t).val(e),a&&i.eq(t).trigger("change")},g.___init=function(e){var t,a;if(r&&(r.removeClass("mbsc-slider-has-tooltip"),1!=b&&ne(".mbsc-slider-step",c).remove()),r=g._$parent,c=g._$track,l=g._$progress,i=r.find("input"),v=g.settings,p=g._min,f=g._max,g._step=b=void 0===e.step?+i.attr("step")||v.step:e.step,g._live=n("data-live",v.live),u=n("data-tooltip",v.tooltip),d=n("data-highlight",v.highlight)&&i.length<3,m=d&&2==i.length,h=v.rtl,u&&r.addClass("mbsc-slider-has-tooltip"),1!=b)for(a=(f-p)/b,t=0;t<=a;++t)c.append('<span class="mbsc-slider-step" style="'+(h?"right":"left")+":"+100/a*t+'%"></span>');i.each(function(e){"range"==this.type&&ne(this).attr("min",p).attr("max",f).attr("step",b),(d?l:c).append('<span class="mbsc-slider-handle-cont'+(m&&!e?" mbsc-slider-handle-left":"")+'"><span tabindex="0" class="mbsc-slider-handle" aria-valuemin="'+p+'" aria-valuemax="'+f+'" data-index="'+e+'"></span>'+(u?'<span class="mbsc-slider-tooltip"></span>':"")+"</span>")}),o=r.find(".mbsc-slider-tooltip")},a||g.init(t)};Ot.prototype={_class:"progress",_css:"mbsc-progress mbsc-slider",_hasTheme:!0,_hasLang:!0,_defaults:{changeEvent:"change",stopProp:!0,min:0,max:100,step:1,live:!0,highlight:!0,round:!0,returnAffix:!0}},$.classes.Slider=Ot,$.presetShort("slider","Slider");var Et=$.util,Ht=function(){},Pt=$.classes,Lt=function(e,t,a){function s(e,t,a){if(!a){Z._value=Z._hasValue?Z._tempValue.slice(0):null;for(var s=0;s<k.length;++s)k[s].tempChangedColor&&Z._value&&Z._value.indexOf(k[s].tempChangedColor)!=-1&&(k[s].changedColor=k[s].tempChangedColor),delete k[s].tempChangedColor}e&&(Z._isInput&&J.val(Z._hasValue?Z._tempValue:""),S("onFill",{valueText:Z._hasValue?Z._tempValue:"",change:t}),t&&(ee=le(!0,{},te),Z._preventChange=!0,J.trigger("change")),m(Z._value,!0))}function n(e,t){return t=void 0!==t?t:r(e),'<div class="mbsc-color-input-item" data-color="'+(void 0!==t?t:e)+'" style="background: '+e+';">'+(R?"":'<div class="mbsc-color-input-item-close mbsc-ic mbsc-ic-material-close"></div>')+"</div>"}function i(e){P[0].style.background=e?Et.prefix+"linear-gradient(left, "+(x.rtl?"#000000":"#FFFFFF")+" 0%, "+e+" 50%, "+(x.rtl?"#FFFFFF":"#000000")+" 100%)":""}function r(e){if(Object.keys(te).length&&!isNaN(e))return e;for(var t in k)if(e==k[t].color||e==k[t].changedColor)return t}function l(){if(j){var e,t="";if(U.empty(),Z._value){if(R)t+=n(Z._value,$);else for(e=0;e<Z._value.length;++e)t+=n(Z._value[e],Object.keys(te).length&&te[e].colorIndex?te[e].colorIndex:r(Z._value[e]));U.append(t),Z.tap(ne(".mbsc-color-input-item",U),function(e){if(ne(e.target).hasClass("mbsc-color-input-item-close")){var t=ne(this).index();e.stopPropagation(),e.preventDefault(),void 0===$&&($=ne(e.target).parent().attr("data-color")),H&&(Q=k[$].previewInd,z.eq(Q).parent().removeClass("mbsc-color-active"),ee[t]={},te[t]={}),Z._value.splice(t,1),Z.setVal(Z._value,!0,!0)}else L&&"inline"!==x.display&&(O=!0,$=ne(e.target).attr("data-color"),isNaN($)&&($=r($)),$&&(k[$].selected=!0,Q=k[$].previewInd,setTimeout(function(){V.scroll(B.eq($),400),H&&A.scroll(z.eq(Q),400)},200)))})}}}function o(e,t){var a,s=e.match(/\d+/gim);switch(!0){case e.indexOf("rgb")>-1:a=p({r:s[0],g:s[1],b:s[2]});break;case e.indexOf("hsl")>-1:a=w({h:s[0],s:s[1],l:s[2]});break;case e.indexOf("hsv")>-1:a=C({h:s[0],s:s[1],v:s[2]});break;case e.indexOf("#")>-1:a=e}return c(a,t||x.format)}function c(e,t){switch(t){case"rgb":return b(e);case"hsl":return _(e);case"hsv":return T(e);default:return e}}function d(){var e;for(e=0;e<x.select;++e)if(void 0===te[e].colorIndex)return e}function u(e,t){ne(".mbsc-color-active",t).removeClass("mbsc-color-active"),L&&(e.parent().addClass("mbsc-color-active"),H&&e&&void 0!==Q&&z.eq(Q).parent().addClass("mbsc-color-active"))}function m(e,t){var a,s,n=[],i=0,r=ne.map(k,function(e){return e.changedColor||e.color});if(R){if(e=ne.isArray(e)?e[0]:e,s=r.indexOf(e),s>-1&&n.push(s),e&&!n.length){var o=+ne(".mbsc-color-input-item",U).attr("data-color");isNaN(o)||n.push(o),$=o}}else if(e)if(H&&L)for(var c in ee)void 0!==ee[c].colorIndex&&n.push(+ee[c].colorIndex);else for(a=0;a<e.length;++a)s=r.indexOf(e[a]),s>-1&&(n.push(s),r[s]="temp"+a);for(a=0;a<n.length;++a)h(!0,n[a],i++,k[n[a]].changedColor||k[n[a]].color,!0);for(a=0;a<k.length;++a)n.indexOf(a)==-1&&h(!1,a,void 0,k[a].changedColor||k[a].color,!1);if(H)for(a=i;a<x.select;++a)te[a]={},z&&z.eq(a).addClass("mbsc-color-preview-item-empty").css({background:"transparent"});ee=le(!0,{},te),t!==!1&&l()}function h(e,t,a,s,n,i){if(H&&n&&(te[a].colorIndex=e?t:void 0,te[a].color=e?s:void 0,z)){var r=z.eq(a);r.removeClass("mbsc-color-preview-item-empty").css({background:e?s:"transparent"}),e||r.addClass("mbsc-color-preview-item-empty").parent().removeClass("mbsc-color-active")}i&&(e?Z._tempValue.splice(a,0,s):Z._tempValue.splice(Z._tempValue.indexOf(s),1)),B&&(e?B.eq(t).addClass("mbsc-color-selected"):B.eq(t).removeClass("mbsc-color-selected").parent().removeClass("mbsc-color-active")),k[t].previewInd=e?a:void 0,k[t].selected=e}function f(e,t){void 0!==e&&(R||k[e].selected)?($=e,Y=k[e].changedColor||k[e].color,K=B.eq(e),L&&(u(B.eq(e),t||""),F=o(k[e].color,"hsl"),F.l=o(Y,"hsl").l,i(k[e].color),W.setVal(100-F.l,!1,!1))):L&&i()}function v(){var e,t=[];for(e=0;e<k.length;++e)k[e].selected&&t.push(k[e]);return t}function g(e,t){var a=ne(e.target).index();$=te[a].colorIndex,K=B.eq($),Q=a,f($,t),V.scroll(K,250),S("onPreviewItemTap",{target:e.target,value:te[a].color,index:a})}function y(e,t){var a=!1,s=ne(".mbsc-color-selected",t);return K=ne(e.target),K.hasClass("mbsc-color-clear-item")?(Y="",void Z.clear()):void((R||q>+s.length||K.hasClass("mbsc-color-selected"))&&($=K.attr("data-index"),H&&(Q=void 0!==k[$].previewInd?k[$].previewInd:d(),a=L&&K.hasClass("mbsc-color-selected")&&!K.parent().hasClass("mbsc-color-active"),z.length>6&&A.scroll(z.eq(Q))),Y=k[$].changedColor||k[$].color,R?(s.removeClass("mbsc-color-selected"),Z._tempValue=Y,Y&&K.toggleClass("mbsc-color-selected"),u(K,t)):(u(K,t),a||h(!k[$].selected,$,Q,Y,!0,!0)),f($,t),Z.live&&(Z._fillValue(),S("onSet",{value:Z._value})),S("onItemTap",{target:e.target,value:Y,selected:k[$].selected,index:$})))}var x,M,k,D,S,V,A,I,Y,F,O,E,H,P,L,N,W,$,j,R,q,X,U,B,z,K,G,Z=this,J=ne(e),Q=0,ee={},te={};Pt.Frame.call(this,e,t,!0),Z.setVal=Z._setVal=function(e,t,a,n){Z._hasValue=null!==e&&void 0!==e,Z._tempValue=R?ne.isArray(e)?e[0]:e:ne.isArray(e)?e:[e],s(t,void 0===a?t:a,n)},Z.getVal=Z._getVal=function(e){return Z._hasValue||e?X?v():Z[e?"_tempValue":"_value"]:null},Z._readValue=function(){var e=J.val()||"";Z._hasValue=!1,0!==e.length&&""!==e&&(Z._hasValue=!0),Z._hasValue?(Z._tempValue=R?e:"hex"==x.format?e.split(","):e.match(/[a-z]{3}\((\d+\.?\d{0,}?),\s*([\d.]+)%{0,},\s*([\d.]+)%{0,}\)/gim),s(!0)):Z._tempValue=[],m(Z._tempValue,Z._hasValue)},Z._fillValue=function(){Z._hasValue=!0,s(!0,!0)},Z._generateContent=function(){var e,t,a,s=I?1:0;for(N=E?Math.ceil((k.length+s)/x.rows):x.rows,t='<div class="mbsc-color-scroll-cont mbsc-w-p '+(E?"":"mbsc-color-vertical")+'"><div class="mbsc-color-cont">'+(E?'<div class="mbsc-color-row">':""),e=0;e<k.length;++e)a=k[e].changedColor||k[e].color,I&&0===e&&(t+='<div class="mbsc-color-item-c"><div tabindex="0" class="mbsc-color-clear-item mbsc-btn-e mbsc-color-selected"><div class="mbsc-color-clear-cross"></div></div></div>'),0!==e&&(e+s)%N===0&&(t+=E?'</div><div class="mbsc-color-row">':""),t+='<div class="mbsc-color-item-c"><div tabindex="0" data-index="'+e+'" class="mbsc-color-item mbsc-btn-e mbsc-ic mbsc-ic-material-check mbsc-color-btn-e '+(k[e].selected?"mbsc-color-selected":"")+'"  style="background:'+a+'"></div></div>';if(t+="</div></div>"+(E?"</div>":""),L&&(t+='<div class="mbsc-color-slider-cont"><input class="mbsc-color-slider" type="range" data-highlight="false" value="50" min="0" max="100"/></div>'),H){t+='<div class="mbsc-color-preview-cont"><div class="mbsc-color-refine-preview">';for(var n in ee)t+='<div class="mbsc-color-preview-item-c mbsc-btn-e mbsc-color-btn-e" tabindex="0"><div class="mbsc-color-preview-item '+(ee[n].color?"":"mbsc-color-preview-item-empty")+'" style="background: '+(ee[n].color||"initial")+';"></div></div>';t+="</div></div>"}return t},Z._position=function(e){var t,a;E||(t=e.find(".mbsc-color-cont"),a=Math.ceil(t.find(".mbsc-color-item-c")[0].offsetWidth),t.width(Math.min(Math.floor(e.find(".mbsc-fr-c").width()/a),Math.round(k.length/x.rows))*a+1)),V&&V.refresh(),A&&A.refresh()},Z._markupInserted=function(e){E||e.find(".mbsc-color-scroll-cont").css("max-height",e.find(".mbsc-color-item-c")[0].offsetHeight*x.rows),V=new Pt.ScrollView(e.find(".mbsc-color-scroll-cont")[0],{axis:E?"X":"Y",rtl:x.rtl,elastic:60,stopProp:!1,mousewheel:x.mousewheel,onBtnTap:function(t){y(t,e)}})},Z._attachEvents=function(e){var t;B=ne(".mbsc-color-item",e),e.on("keydown",".mbsc-color-btn-e",function(t){t.stopPropagation(),32==t.keyCode&&(t.target.classList.contains("mbsc-color-item")?y(t,e):g(t,e))}),H&&(z=ne(".mbsc-color-preview-item",e)),L&&(e.addClass("mbsc-color-refine"),G=ne(".mbsc-color-slider",e),W=new Pt.Slider(G[0],{theme:x.theme,rtl:x.rtl}),P=e.find(".mbsc-progress-track"),$&&Z._value&&f($,e),G.on("change",function(){void 0!==$&&(R||k[$].selected)&&(F.l=100-this.value,t=o(F.toString()).toString(),R?Z._tempValue=t:Z._tempValue[void 0!==Q?Q:Z._tempValue.length]=t,k[$].tempChangedColor=t,B.eq($).css("background",t),H&&(te[Q].color=t,z.eq(Q).removeClass("mbsc-color-preview-item-empty").css({background:t})),Z.live&&Et.throttle(Z._fillValue()))})),H&&(A=new Pt.ScrollView(e.find(".mbsc-color-preview-cont")[0],{axis:"X",rtl:x.rtl,mousewheel:x.mousewheel,onBtnTap:function(t){g(t,e)}}))},Z._detachEvents=function(){V.destroy(),W&&W.destroy(),A&&A.destroy()},Z.__processSettings=function(){var t,a;if(x=Z.settings,D=x.format,S=Z.trigger,E="horizontal"==x.navigation,Z._value=[],Z._tempValue=[],R="single"==x.select,I=void 0!==x.clear?x.clear:R,a=x.data||[],!a.length)switch(x.format){case"rgb":a=["rgb(255,235,60)","rgb(255,153,0)","rgb(244,68,55)","rgb(234,30,99)","rgb(156,38,176)","rgb(104,58,183)","rgb(63,81,181)","rgb(33,150,243)","rgb(0,151,136)","rgb(75,175,79)","rgb(126,93,78)","rgb(158,158,158)"],I&&a.splice(10,0,"rgb(83, 71, 65)");break;case"hsl":a=["hsl(54,100%,62%)","hsl(36,100%,50%)","hsl(4,90%,59%)","hsl(340,83%,52%)","hsl(291,64%,42%)","hsl(262,52%,47%)","hsl(231,48%,48%)","hsl(207,90%,54%)","hsl(174,100%,30%)","hsl(122,40%,49%)","hsl(19,24%,40%)","hsl(0,0%,62%)"],I&&a.splice(10,0,"hsl(20, 12%, 29%)");break;default:a=["#ffeb3c","#ff9900","#f44437","#ea1e63","#9c26b0","#683ab7","#3f51b5","#2196f3","#009788","#4baf4f","#7e5d4e","#9e9e9e"],I&&a.splice(10,0,"#534741")}if(L="refine"==x.mode,H=!isNaN(x.select),q=isNaN(x.select)?R?2:a.length:x.select,X=ne.isPlainObject(a[0]),H&&!Object.keys(ee).length)for(t=0;t<x.select;++t)ee[t]={},te[t]={};if(!k)for(k=a.slice(0),t=0;t<k.length;++t)ne.isPlainObject(a[t])?k[t].color=a[t].color:(a[t]=a[t].toLowerCase(),k[t]={key:t,name:a[t],color:a[t]});M=x.defaultValue||k[0].color,Y=M,F=o(Y,"hsl"),j=x.enhance&&J.is("input"),j&&(J.hasClass("mbsc-color-input-hdn")?U=J.prev():(U=ne("<div "+(e.placeholder?'data-placeholder="'+e.placeholder+'"':"")+' class="mbsc-control mbsc-color-input '+(x.inputClass||"")+'" readonly ></div>'),U.insertBefore(J),J.addClass("mbsc-color-input-hdn").attr("tabindex",-1)),x.anchor=U,Z.attachShow(U))},Z.__init=function(){x.cssClass=(x.cssClass||"")+" mbsc-color"},Z.__destroy=function(){j&&(J.removeClass("mbsc-color-input-hdn"),U.remove())},a||Z.init(t)};Lt.prototype={_hasDef:!0,_hasTheme:!0,_hasLang:!0,_class:"color",_defaults:le({},Pt.Frame.prototype._defaults,{headerText:!1,validate:Ht,parseValue:Ht,enhance:!0,rows:2,select:"single",format:"hex",navigation:"horizontal"})},$.classes.Color=Lt,$.themes.color=$.themes.frame,$.presetShort("color","Color",!1),Et.color={hsv2hex:C,hsv2rgb:v,rgb2hsv:g,rgb2hex:p,rgb2hsl:y,hex2rgb:b,hex2hsv:T,hex2hsl:_};var Nt=$.presets.scroller,Wt=$.util.datetime,$t=$.util,jt=$t.testTouch,Rt={autoCorrect:!0,showSelector:!0,minRange:1,rangeTap:!0,fromText:"Start",toText:"End"};$.presetShort("range"),Nt.range=function(e){function t(e,t){e&&(e.setFullYear(t.getFullYear()),e.setMonth(t.getMonth()),e.setDate(t.getDate()))}function a(t){e._startDate=k=g,e._endDate=D=x,I.startInput&&(ne(I.startInput).val(b),t&&ne(I.startInput).trigger("change")),I.endInput&&(ne(I.endInput).val(v),t&&ne(I.endInput).trigger("change"))}function s(e,t){var a=!0;return e&&g&&x&&(x-g>I.maxRange-1&&(S?g=new Date(x-I.maxRange+1):x=new Date(+g+I.maxRange-1)),x-g<I.minRange-1&&(S?g=new Date(x-I.minRange+1):x=new Date(+g+I.minRange-1))),g&&x||(a=!1),t&&l(),a}function n(){return g&&x?Math.max(1,Math.round((new Date(x).setHours(0,0,0,0)-new Date(g).setHours(0,0,0,0))/864e5)+1):0}function i(e){e.addClass("mbsc-range-btn-sel").attr("aria-checked","true").find(".mbsc-range-btn").addClass(O)}function r(){M&&d&&(ne(".mbsc-range-btn-c",d).removeClass("mbsc-range-btn-sel").removeAttr("aria-checked").find(".mbsc-range-btn",d).removeClass(O),i(ne(".mbsc-range-btn-c",d).eq(S)))}function l(){var e,t,a,s,n,i=0,r=F||!S?" mbsc-cal-day-hl mbsc-cal-sel-start":" mbsc-cal-sel-start",l=F||S?" mbsc-cal-day-hl mbsc-cal-sel-end":" mbsc-cal-sel-end";if(b=g?Wt.formatDate(m,g,I):"",v=x?Wt.formatDate(m,x,I):"",d&&(ne(".mbsc-range-btn-v-start",d).html(b||"&nbsp;"),ne(".mbsc-range-btn-v-end",d).html(v||"&nbsp;"),e=g?new Date(g):null,a=x?new Date(x):null,!e&&a&&(e=new Date(a)),!a&&e&&(a=new Date(e)),n=S?a:e,ne(".mbsc-cal-table .mbsc-cal-day-sel .mbsc-cal-day-i",d).removeClass(O),
ne(".mbsc-cal-table .mbsc-cal-day-hl",d).removeClass(H),ne(".mbsc-cal-table .mbsc-cal-day-sel",d).removeClass("mbsc-cal-day-sel mbsc-cal-sel-start mbsc-cal-sel-end").removeAttr("aria-selected"),e&&a))for(t=e.setHours(0,0,0,0),s=a.setHours(0,0,0,0);a>=e&&i<84;)ne('.mbsc-cal-day[data-full="'+n.getFullYear()+"-"+n.getMonth()+"-"+n.getDate()+'"]',d).addClass("mbsc-cal-day-sel"+(n.getTime()===t?r:"")+(n.getTime()===s?l:"")).attr("aria-selected","true").find(".mbsc-cal-day-i ").addClass(O),n.setDate(n.getDate()+(S?-1:1)),i++}function o(e,t){return{h:e?e.getHours():t?23:0,i:e?e.getMinutes():t?59:0,s:e?e.getSeconds():t?59:0}}var c,d,u,m,h,f,p,b,v,g,y,x,_,w,C,T,M,k=e._startDate,D=e._endDate,S=0,V=new Date,A=le({},e.settings),I=le(e.settings,Rt,A),Y=I.anchor,F=I.rangeTap,O=I.activeClass||"",E="mbsc-fr-btn-d "+(I.disabledClass||""),H="mbsc-cal-day-hl",P=null===I.defaultValue?[]:I.defaultValue||[new Date(V.setHours(0,0,0,0)),new Date(V.getFullYear(),V.getMonth(),V.getDate()+6,23,59,59,999)];return F&&(I.tabs=!0),h=Nt.calbase.call(this,e),c=le({},h),m=e.format,w="time"===I.controls.join(""),M=1!=I.controls.length||"calendar"!=I.controls[0]||I.showSelector,I.startInput&&(C=ne(I.startInput).prop("readonly"),e.attachShow(ne(I.startInput).prop("readonly",!0),function(){S=0,I.anchor=Y||ne(I.startInput)})),I.endInput&&(T=ne(I.endInput).prop("readonly"),e.attachShow(ne(I.endInput).prop("readonly",!0),function(){S=1,I.anchor=Y||ne(I.endInput)})),e.setVal=function(t,a,s,n,i){var r=t||[],l=t;(void 0===r[0]||null===r[0]||r[0].getTime)&&(p=!0,g=r[0]||null,b=g?Wt.formatDate(m,g,I):"",S||(l=c.parseValue(b,e))),(void 0===r[1]||null===r[1]||r[1].getTime)&&(p=!0,x=r[1]||null,v=x?Wt.formatDate(m,x,I):"",S&&(l=c.parseValue(v,e))),n||(e._startDate=k=g,e._endDate=D=x),e._setVal(l,a,s,n,i)},e.getVal=function(t){return t?[g,x]:e._hasValue?[k,D]:null},e.getDayProps=function(e){var t=g?new Date(g.getFullYear(),g.getMonth(),g.getDate()):null,a=x?new Date(x.getFullYear(),x.getMonth(),x.getDate()):null;return{selected:t&&a&&e>=t&&e<=x,cssClass:((F||!S)&&t&&t.getTime()===e.getTime()||(F||S)&&a&&a.getTime()===e.getTime()?H:"")+(t&&t.getTime()===e.getTime()?" mbsc-cal-sel-start":"")+(a&&a.getTime()===e.getTime()?" mbsc-cal-sel-end":"")}},e.setActiveDate=function(t){var a;S="start"==t?0:1,a="start"==t?g:x,e.isVisible()&&(r(),F||(ne(".mbsc-cal-table .mbsc-cal-day-hl",d).removeClass(H),a&&ne('.mbsc-cal-day[data-full="'+a.getFullYear()+"-"+a.getMonth()+"-"+a.getDate()+'"]',d).addClass(H)),a&&(f=!0,e.setDate(a,!1,1e3,!0)))},e.getValue=e.getVal,le(h,{highlight:!1,outerMonthChange:!1,formatValue:function(){return b+(I.endInput?"":v?" - "+v:"")},parseValue:function(t){var a=t?t.split(" - "):[];return I.defaultValue=P[1],D=I.endInput?ne(I.endInput).val()?Wt.parseDate(m,ne(I.endInput).val(),I):P[1]:a[1]?Wt.parseDate(m,a[1],I):P[1],I.defaultValue=P[0],k=I.startInput?ne(I.startInput).val()?Wt.parseDate(m,ne(I.startInput).val(),I):P[0]:a[0]?Wt.parseDate(m,a[0],I):P[0],I.defaultValue=P[S],b=k?Wt.formatDate(m,k,I):"",v=D?Wt.formatDate(m,D,I):"",e._startDate=k,e._endDate=D,c.parseValue(S?v:b,e)},onFill:function(e){a(e.change)},onBeforeClose:function(t){if("set"===t.button&&!s(!0,!0))return e.setActiveDate(S?"start":"end"),!1},onHide:function(){c.onHide.call(e),S=0,d=null,I.anchor=Y},onClear:function(){F&&(S=0)},onBeforeShow:function(){I.headerText=!1,g=k,x=D,y=o(g,0),_=o(x,1),I.counter&&(I.headerText=function(){var e=n();return(e>1?I.selectedPluralText||I.selectedText:I.selectedText).replace(/{count}/,e)}),p=!0},onMarkupReady:function(t){var a;g&&(f=!0,e.setDate(g,!1,0,!0),g=e.getDate(!0)),x&&(f=!0,e.setDate(x,!1,0,!0),x=e.getDate(!0)),(S&&x||!S&&g)&&(f=!0,e.setDate(S?x:g,!1,0,!0)),l(),c.onMarkupReady.call(this,t),d=ne(t.target),d.addClass("mbsc-range"),M&&(a='<div class="mbsc-range-btn-t" role="radiogroup"><div class="mbsc-range-btn-c mbsc-range-btn-start"><div role="radio" class="mbsc-fr-btn-e mbsc-fr-btn-nhl mbsc-range-btn">'+I.fromText+'<div class="mbsc-range-btn-v mbsc-range-btn-v-start">'+(b||"&nbsp;")+'</div></div></div><div class="mbsc-range-btn-c mbsc-range-btn-end"><div role="radio" class="mbsc-fr-btn-e mbsc-fr-btn-nhl mbsc-range-btn">'+I.toText+'<div class="mbsc-range-btn-v mbsc-range-btn-v-end">'+(v||"&nbsp;")+"</div></div></div></div>",ne(".mbsc-cal-tabs",d).before(a),r()),ne(".mbsc-range-btn-c",d).on("touchstart click",function(t){jt(t,this)&&(e.showMonthView(),e.setActiveDate(ne(this).index()?"end":"start"))})},onDayChange:function(e){e.active=S?"end":"start",u=!0},onSetDate:function(a){var n=a.date,i=e.order;f||(void 0===i.h&&n.setHours(S?23:0),void 0===i.i&&n.setMinutes(S?59:0),void 0===i.s&&n.setSeconds(S?59:0),n.setMilliseconds(S?999:0),p&&!u||(F&&u&&(1==S&&n<g&&(S=0),S?n.setHours(_.h,_.i,_.s,999):n.setHours(y.h,y.i,y.s,0)),S?(x=new Date(n),_=o(x)):(g=new Date(n),y=o(g)),w&&(t(g,n),t(x,n)),F&&u&&!S&&(x=null))),e._isValid=s(p||u||I.autoCorrect,!f),a.active=S?"end":"start",!f&&F&&(u&&(S=S?0:1),r()),e.isVisible()&&(e._isValid?ne(".mbsc-fr-btn-s .mbsc-fr-btn",e._markup).removeClass(E):ne(".mbsc-fr-btn-s .mbsc-fr-btn",e._markup).addClass(E)),u=!1,p=!1,f=!1},onTabChange:function(t){"calendar"!=t.tab&&e.setDate(S?x:g,!1,1e3,!0),s(!0,!0)},onDestroy:function(){ne(I.startInput).prop("readonly",C),ne(I.endInput).prop("readonly",T)}}),h};var qt,Xt=$.classes,Ut=$.util,Bt=Ut.prefix,zt=Ut.jsPrefix,Kt=Ut.getCoord,Gt=Ut.testTouch,Zt=Ut.vibrate,Jt=Ut.animEnd,Qt=1,ea=function(){},ta=window.requestAnimationFrame||function(e){e()},aa=window.cancelAnimationFrame||ea,sa="transparent",na=function(e,t){function a(){ut=!1,st=!1,z=0,xt=0,_t=new Date,Ne=ee.width(),se=A(ee),je=se.index(We),$e=We[0].offsetHeight,na=We[0].offsetTop,It=Yt[We.attr("data-type")||"defaults"],yt=It.stages}function s(e){var t;"touchstart"===e.type&&(nt=!0,clearTimeout(it)),!Gt(e,this)||X||jt||qt||oa||(X=!0,K=!0,wt=Kt(e,"X"),Ct=Kt(e,"Y"),ue=0,me=0,We=ne(this),t=We,a(),St=ft.onItemTap||It.tap||We.hasClass("mbsc-lv-parent")||We.hasClass("mbsc-lv-back"),ze=$t.offset().top,Xe=We.offset().top,St&&(B=setTimeout(function(){t.addClass("mbsc-lv-item-active"),xe("onItemActivate",{target:t[0],domEvent:e})},120)),Nt.sortable&&!We.hasClass("mbsc-lv-back")&&(Nt.sortable.group||(tt=We.nextUntil(".mbsc-lv-gr-title").filter(".mbsc-lv-item"),rt=We.prevUntil(".mbsc-lv-gr-title").filter(".mbsc-lv-item")),Ge=(Nt.sortable.group?ee.children(qe).eq(0):rt.length?rt.eq(-1):We)[0].offsetTop-na,Ke=(Nt.sortable.group?ee.children(qe).eq(-1):tt.length?tt.eq(-1):We)[0].offsetTop-na,Nt.sortable.handle?ne(e.target).hasClass("mbsc-lv-handle")&&(clearTimeout(B),"Moz"===zt?(e.preventDefault(),c()):At=setTimeout(function(){c()},100)):At=setTimeout(function(){_e.appendTo(We),_e[0].style[zt+"Animation"]="mbsc-lv-fill "+(ft.sortDelay-100)+"ms linear",clearTimeout(ve),clearTimeout(B),K=!1,At=setTimeout(function(){_e[0].style[zt+"Animation"]="",c()},ft.sortDelay-80)},80)),"mousedown"==e.type&&ne(document).on("mousemove",n).on("mouseup",i))}function n(e){var t=!1,a=!0;if(X)if(ge=Kt(e,"X"),ye=Kt(e,"Y"),ue=ge-wt,me=ye-Ct,clearTimeout(ve),pe||Mt||pt||We.hasClass("mbsc-lv-back")||(Math.abs(me)>10?(pt=!0,i(le({},e,{type:"mousemove"==e.type?"mouseup":"touchend"})),clearTimeout(B)):Math.abs(ue)>7&&r()),Mt)e.preventDefault(),z=ue/Ne*100,l();else if(pe){e.preventDefault();var s,n=Et.scrollTop(),o=Math.max(Ge,Math.min(me+Pt,Ke)),c=ke?Xe-Lt+n-Pt:Xe;Ht+n<c+o+$e?(Et.scrollTop(c+o-Ht+$e),s=!0):c+o<n&&(Et.scrollTop(c+o),s=!0),s&&(Pt+=Et.scrollTop()-n),Qe&&(Nt.sortable.multiLevel&&Je.hasClass("mbsc-lv-parent")?na+$e/4+o>Qe?t=!0:na+$e-$e/4+o>Qe&&(he=Je.addClass("mbsc-lv-item-hl"),a=!1):na+$e/2+o>Qe&&(Je.hasClass("mbsc-lv-back")?Nt.sortable.multiLevel&&(fe=Je.addClass("mbsc-lv-item-hl"),a=!1):t=!0),t&&(lt.insertAfter(Je),ot=Je,Je=F(Je,"next"),ct=Qe,Qe=Je.length&&Je[0].offsetTop,Q++)),!t&&ct&&(Nt.sortable.multiLevel&&ot.hasClass("mbsc-lv-parent")?na+$e-$e/4+o<ct?t=!0:na+$e/4+o<ct&&(he=ot.addClass("mbsc-lv-item-hl"),a=!1):na+$e/2+o<ct&&(ot.hasClass("mbsc-lv-back")?Nt.sortable.multiLevel&&(fe=ot.addClass("mbsc-lv-item-hl"),a=!1):t=!0),t&&(lt.insertBefore(ot),Je=ot,ot=F(ot,"prev"),Qe=ct,ct=ot.length&&ot[0].offsetTop+ot[0].offsetHeight,Q--)),a&&(he&&(he.removeClass("mbsc-lv-item-hl"),he=!1),fe&&(fe.removeClass("mbsc-lv-item-hl"),fe=!1)),t&&xe("onSortChange",[We,Q]),_(We,o),xe("onSort",[We,Q])}else(Math.abs(ue)>5||Math.abs(me)>5)&&w()}function i(e){var t,a,s,r,l=We;X&&(X=!1,w(),"mouseup"==e.type&&ne(document).off("mousemove",n).off("mouseup",i),pt||(it=setTimeout(function(){nt=!1},300)),(Mt||pt||pe)&&(st=!0),Mt?o():pe?(s=ee,he?(k(We.detach()),a=la[he.attr("data-ref")],Q=A(a.child).length,he.removeClass("mbsc-lv-item-hl"),ft.navigateOnDrop?N(he,function(){Nt.add(null,We,null,null,he,!0),P(We),d(We,je,s,!0)}):(Nt.add(null,We,null,null,he,!0),d(We,je,s,!0))):fe?(k(We.detach()),a=la[fe.attr("data-back")],Q=A(a.parent).index(a.item)+1,fe.removeClass("mbsc-lv-item-hl"),ft.navigateOnDrop?N(fe,function(){Nt.add(null,We,Q,null,ee,!0),P(We),d(We,je,s,!0)}):(Nt.add(null,We,Q,null,a.parent,!0),d(We,je,s,!0))):(t=lt[0].offsetTop-na,_(We,t,6*Math.abs(t-Math.max(Ge,Math.min(me+Pt,Ke))),function(){k(We),We.insertBefore(lt),d(We,je,s,Q!==je)})),pe=!1):!pt&&Math.abs(ue)<5&&Math.abs(me)<5&&(It.tap&&(r=It.tap.call(Wt,{target:We,index:je,domEvent:e},Nt)),St&&("touchend"===e.type&&Ut.preventClick(),We.addClass("mbsc-lv-item-active"),xe("onItemActivate",{target:We[0],domEvent:e})),r=xe("onItemTap",{target:We[0],index:je,domEvent:e}),r!==!1&&N(We)),clearTimeout(B),setTimeout(function(){l.removeClass("mbsc-lv-item-active"),xe("onItemDeactivate",{target:l[0]})},100),pt=!1,ie=null)}function r(){Mt=D(It.swipe,{target:We[0],index:je,direction:ue>0?"right":"left"}),Mt&&(w(),clearTimeout(B),It.actions?(U=H(It,ue),Ze.html(It.icons).show().children().css("width",U+"%"),Pe.hide(),ne(".mbsc-lv-ic-m",Le).removeClass("mbsc-lv-ic-disabled"),ne(It.leftMenu).each(p),ne(It.rightMenu).each(p)):(Pe.show(),Ze.hide(),re=It.start+(ue>0?0:1),dt=yt[re-1],et=yt[re]),We.addClass("mbsc-lv-item-swiping").removeClass("mbsc-lv-item-active"),Vt.css("line-height",$e+"px"),Le.css({top:na,height:$e,backgroundColor:O(ue)}).addClass("mbsc-lv-stage-c-v").appendTo(ee.parent()),ft.iconSlide&&We.append(Pe),xe("onSlideStart",{target:We[0],index:je}))}function l(){var e=!1;ht||(It.actions?Le.attr("class","mbsc-lv-stage-c-v mbsc-lv-stage-c mbsc-lv-"+(z<0?"right":"left")):(dt&&z<=dt.percent?(re--,et=dt,dt=yt[re],e=!0):et&&z>=et.percent&&(re++,dt=et,et=yt[re],e=!0),e&&(ie=z>0?dt:et,ie&&(C(ie,ft.iconSlide),xe("onStageChange",{target:We[0],index:je,stage:ie})))),bt||(ht=!0,mt=ta(g)))}function o(e){var t,a,s,n=!1,i=!0;aa(mt),ht=!1,bt||g(),It.actions?Math.abs(z)>10&&U&&(x(We,z<0?-U:U,200),n=!0,qt=!0,G=We,Z=je,ne(document).on("touchstart.mbsc-lv-conf mousedown.mbsc-lv-conf",function(t){t.preventDefault(),y(We,!0,e)})):z&&(ft.quickSwipe&&!bt&&(s=new Date-_t,t=s<300&&ue<-50,a=s<300&&ue>50,t?(ut=!0,ie=It.left,C(ie,ft.iconSlide)):a&&(ut=!0,ie=It.right,C(ie,ft.iconSlide))),ie&&ie.action&&(de=D(ie.disabled,{target:We[0],index:je}),de||(n=!0,qt=bt||D(ie.confirm,{target:We[0],index:je}),qt?(x(We,(z<0?-1:1)*Pe[0].offsetWidth*100/Ne,200,!0),v(ie,We,je,!1,e)):b(ie,We,je,e)))),n||y(We,i,e),Mt=!1}function c(){pe=!0,he=!1,fe=!1,Pt=0,Q=je,ft.vibrate&&Zt(),Je=F(We,"next"),Qe=Je.length&&Je[0].offsetTop,ot=F(We,"prev"),ct=ot.length&&ot[0].offsetTop+ot[0].offsetHeight,lt.height($e).insertAfter(We),We.css({top:na}).addClass("mbsc-lv-item-dragging").removeClass("mbsc-lv-item-active").appendTo(be),xe("onSortStart",{target:We[0],index:Q})}function d(e,t,a,s){e.removeClass("mbsc-lv-item-dragging"),lt.remove(),xe("onSortEnd",{target:e[0],index:Q}),ft.vibrate&&Zt(),s&&(Nt.addUndoAction(function(s){Nt.move(e,t,null,s,a,!0)},!0),xe("onSortUpdate",{target:e[0],index:Q}))}function u(){nt||(clearTimeout(Fe),qt&&ne(document).trigger("touchstart"),Ae&&(Nt.close(Ve,Ie),Ae=!1,Ve=null))}function m(){clearTimeout(oe),oe=setTimeout(function(){Ht=Et[0].innerHeight||Et.innerHeight(),Lt=ke?Et.offset().top:0,X&&(na=We[0].offsetTop,$e=We[0].offsetHeight,Le.css({top:na,height:$e}))},200)}function h(e){st&&(e.stopPropagation(),e.preventDefault(),st=!1)}function f(){if(pe||!X){var e,t=Et.scrollTop(),a=$t.offset().top,s=$t[0].offsetHeight,n=ke?Et.offset().top:t;ne(".mbsc-lv-gr-title",$t).each(function(t,a){ne(a).offset().top<n&&(e=a)}),a<n&&a+s>n?Ce.show().empty().append(ne(e).clone()):Ce.hide()}}function p(e,t){D(t.disabled,{target:We[0],index:je})&&ne(".mbsc-ic-"+t.icon,Le).addClass("mbsc-lv-ic-disabled")}function b(e,t,a,s){var n,i={icon:"undo2",text:ft.undoText,color:"#b1b1b1",action:function(){Nt.undo()}};e.undo&&(Nt.startActionTrack(),ne.isFunction(e.undo)&&Nt.addUndoAction(function(){e.undo.call(Wt,{target:t[0],index:a},Nt)}),Ft=t.attr("data-ref")),n=e.action.call(Wt,{target:t[0],index:a},Nt),e.undo?(Nt.endActionTrack(),n!==!1&&x(t,+t.attr("data-pos")<0?-100:100,200),lt.height($e).insertAfter(t),t.css("top",na).addClass("mbsc-lv-item-undo"),Ze.hide(),Pe.show(),Le.append(Pe),C(i),v(i,t,a,!0,s)):y(t,n,s)}function v(e,t,a,s,n){var i,r;qt=!0,ne(document).off(".mbsc-lv-conf").on("touchstart.mbsc-lv-conf mousedown.mbsc-lv-conf",function(e){e.preventDefault(),s&&M(t),y(t,!0,n)}),ce||Pe.off(".mbsc-lv-conf").on("touchstart.mbsc-lv-conf mousedown.mbsc-lv-conf",function(e){e.stopPropagation(),i=Kt(e,"X"),r=Kt(e,"Y")}).on("touchend.mbsc-lv-conf mouseup.mbsc-lv-conf",function(l){l.preventDefault(),"touchend"===l.type&&Ut.preventClick(),Math.abs(Kt(l,"X")-i)<10&&Math.abs(Kt(l,"Y")-r)<10&&(b(e,t,a,n),s&&(Ot=null,M(t)))})}function g(){x(We,xt+100*ue/Ne),ht=!1}function y(e,t,a){ne(document).off(".mbsc-lv-conf"),Pe.off(".mbsc-lv-conf"),t!==!1?x(e,0,"0"!==e.attr("data-pos")?200:0,!1,function(){T(e,a),k(e)}):T(e,a),qt=!1}function x(e,t,a,s,n){t=Math.max("right"==Mt?0:-100,Math.min(t,"left"==Mt?0:100)),Tt=e[0].style,e.attr("data-pos",t),Tt[zt+"Transform"]="translate3d("+(s?Ne*t/100+"px":t+"%")+",0,0)",Tt[zt+"Transition"]=Bt+"transform "+(a||0)+"ms",n&&(jt++,setTimeout(function(){n(),jt--},a)),z=t}function _(e,t,a,s){t=Math.max(Ge,Math.min(t,Ke)),Tt=e[0].style,Tt[zt+"Transform"]="translate3d(0,"+t+"px,0)",Tt[zt+"Transition"]=Bt+"transform "+(a||0)+"ms ease-out",s&&(jt++,setTimeout(function(){s(),jt--},a))}function w(){clearTimeout(At),!K&&Nt.sortable&&(K=!0,_e.remove())}function C(e,t){var a=D(e.text,{target:We[0],index:je})||"";D(e.disabled,{target:We[0],index:je})?Le.addClass("mbsc-lv-ic-disabled"):Le.removeClass("mbsc-lv-ic-disabled"),Le.css("background-color",e.color||(0===e.percent?O(z):sa)),Pe.attr("class","mbsc-lv-ic-c mbsc-lv-ic-"+(t?"move-":"")+(z<0?"right":"left")),He.attr("class"," mbsc-lv-ic-s mbsc-lv-ic mbsc-ic mbsc-ic-"+(e.icon||"none")),Vt.attr("class","mbsc-lv-ic-text"+(e.icon?"":" mbsc-lv-ic-text-only")+(a?"":" mbsc-lv-ic-only")).html(a||"&nbsp;"),ft.animateIcons&&(ut?He.addClass("mbsc-lv-ic-v"):setTimeout(function(){He.addClass("mbsc-lv-ic-a")},10))}function T(e,t){X||(He.attr("class","mbsc-lv-ic-s mbsc-lv-ic mbsc-ic mbsc-ic-none"),Le.attr("style","").removeClass("mbsc-lv-stage-c-v"),Vt.html("")),Le.removeClass("mbsc-lv-left mbsc-lv-right"),e&&(xe("onSlideEnd",{target:e[0],index:je}),t&&t())}function M(e){e.css("top","").removeClass("mbsc-lv-item-undo"),Ot?Nt.animate(lt,"collapse",function(){lt.remove()}):lt.remove(),T(),Ft=null,Ot=null}function k(e){Tt=e[0].style,Tt[zt+"Transform"]="",Tt[zt+"Transition"]="",Tt.top="",e.removeClass("mbsc-lv-item-swiping")}function D(e,t){return ne.isFunction(e)?e.call(this,t,Nt):e}function S(e){var t;if(e.attr("data-ref")||(t=Qt++,e.attr("data-ref",t),la[t]={item:e,child:e.children(Be),parent:e.parent(),ref:e.parent()[0]===Wt?null:e.parent().parent().attr("data-ref")}),e.addClass("mbsc-lv-item"),Nt.sortable.handle&&"list-divider"!=e.attr("data-role")&&!e.children(".mbsc-lv-handle-c").length&&e.append(De),ft.enhance&&!e.hasClass("mbsc-lv-item-enhanced")){var a=e.attr("data-icon"),s=e.find("img").eq(0).addClass("mbsc-lv-img");s.is(":first-child")?e.addClass("mbsc-lv-img-"+(ft.rtl?"right":"left")):s.length&&e.addClass("mbsc-lv-img-"+(ft.rtl?"left":"right")),e.addClass("mbsc-lv-item-enhanced").children().each(function(e,t){t=ne(t),t.is("p, h1, h2, h3, h4, h5, h6")&&t.addClass("mbsc-lv-txt")}),a&&e.addClass("mbsc-lv-item-ic-"+(e.attr("data-icon-align")||(ft.rtl?"right":"left"))).append('<div class="mbsc-lv-item-ic mbsc-ic mbsc-ic-'+a+'"></div>')}}function V(e){ne(qe,e).not(".mbsc-lv-item").each(function(){S(ne(this))}),ne('[data-role="list-divider"]',e).removeClass("mbsc-lv-item").addClass("mbsc-lv-gr-title"),ne(Be,e).not(".mbsc-lv").addClass("mbsc-lv").prepend(Oe).parent().addClass("mbsc-lv-parent").prepend(Ee),ne(".mbsc-lv-back",e).each(function(){ne(this).attr("data-back",ne(this).parent().parent().attr("data-ref"))})}function A(e){return e.children(qe).not(".mbsc-lv-back").not(".mbsc-lv-removed").not(".mbsc-lv-ph")}function I(e){return"object"!==("undefined"==typeof e?"undefined":j(e))&&(e=ne(qe+'[data-id="'+e+'"]',J)),ne(e)}function Y(e){for(var t=0,a=la[e.attr("data-ref")];a&&a.ref;)t++,a=la[a.ref];return t}function F(e,t){for(e=e[t]();e.length&&(!e.hasClass("mbsc-lv-item")||e.hasClass("mbsc-lv-ph")||e.hasClass("mbsc-lv-item-dragging"));){if(!Nt.sortable.group&&e.hasClass("mbsc-lv-gr-title"))return!1;e=e[t]()}return e}function O(e){return(e>0?It.right:It.left).color||sa}function E(e){return Ut.isNumeric(e)?e+"":0}function H(e,t){return+(t<0?E((e.actionsWidth||0).right)||E(e.actionsWidth)||E(ft.actionsWidth.right)||E(ft.actionsWidth):E((e.actionsWidth||0).left)||E(e.actionsWidth)||E(ft.actionsWidth.left)||E(ft.actionsWidth))}function P(e,t){if(e){var a=Et.scrollTop(),s=e.is(".mbsc-lv-item")?e[0].offsetHeight:0,n=e.offset().top+(ke?a-Lt:0);t?(n<a||n+s>a+Ht)&&Et.scrollTop(n):n<a?Et.scrollTop(n):n+s>a+Ht&&Et.scrollTop(Math.min(n,n+s-Ht/2))}}function L(e,t,a,s,n){var i=t.parent(),r=t.prev();s=s||ea,r[0]===Pe[0]&&(r=Pe.prev()),ee[0]!==t[0]?(xe("onNavStart",{level:Rt,direction:e,list:t[0]}),vt.prepend(t.addClass("mbsc-lv-v mbsc-lv-sl-new")),P(J),W(vt,"mbsc-lv-sl-"+e,function(){ee.removeClass("mbsc-lv-sl-curr"),t.removeClass("mbsc-lv-sl-new").addClass("mbsc-lv-sl-curr"),te&&te.length?ee.removeClass("mbsc-lv-v").insertAfter(te):ae.append(ee.removeClass("mbsc-lv-v")),te=r,ae=i,ee=t,P(a,n),s.call(Wt,a),xe("onNavEnd",{level:Rt,direction:e,list:t[0]})})):(P(a,n),s.call(Wt,a))}function N(e,t){jt||(e.hasClass("mbsc-lv-parent")?(Rt++,L("r",la[e.attr("data-ref")].child,null,t)):e.hasClass("mbsc-lv-back")&&(Rt--,L("l",la[e.attr("data-back")].parent,la[e.attr("data-back")].item,t)))}function W(e,t,a){function s(){clearTimeout(n),jt--,e.off(Jt,s).removeClass(t),a.call(Wt,e)}var n;a=a||ea,ft.animation&&"mbsc-lv-item-none"!==t?(jt++,e.on(Jt,s).addClass(t),n=setTimeout(s,500)):a.call(Wt,e)}function R(e,t){var a,s=e.attr("data-ref");a=ra[s]=ra[s]||[],t&&a.push(t),e.attr("data-action")||(t=a.shift(),e.attr("data-action",1),t(function(){e.removeAttr("data-action"),a.length?R(e):delete ra[s]}))}function q(e,t,a){var s,n;e&&e.length&&(s=100/(e.length+2),ne.each(e,function(i,r){void 0===r.key&&(r.key=gt++),void 0===r.percent&&(r.percent=t*s*(i+1),a&&(n=le({},r),n.key=gt++,n.percent=-s*(i+1),e.push(n),ia[n.key]=n)),ia[r.key]=r}))}var X,U,B,z,K,G,Z,J,Q,ee,te,ae,se,ie,re,oe,ce,de,ue,me,he,fe,pe,be,ve,ge,ye,xe,_e,we,Ce,Te,Me,ke,De,Se,Ve,Ae,Ie,Ye,Fe,Oe,Ee,He,Pe,Le,Ne,We,$e,je,Re,qe,Xe,Ue,Be,ze,Ke,Ge,Ze,Je,Qe,et,tt,at,st,nt,it,rt,lt,ot,ct,dt,ut,mt,ht,ft,pt,bt,vt,gt,yt,xt,_t,wt,Ct,Tt,Mt,kt,Dt,St,Vt,At,It,Yt,Ft,Ot,Et,Ht,Pt,Lt,Nt=this,Wt=e,$t=ne(Wt),jt=0,Rt=0,na=0,ia={},ra={},la={};Xt.Base.call(this,e,t,!0),Nt.animate=function(e,t,a){W(e,"mbsc-lv-item-"+t,a)},Nt.add=function(e,t,a,s,n,i){var r,l,o,c,d,u,m="",h=void 0===n?$t:I(n),f=h,p="object"!==("undefined"==typeof t?"undefined":j(t))?ne("<"+Re+' data-ref="'+Qt++ +'" data-id="'+e+'">'+t+"</"+Re+">"):t,b=p.attr("data-pos")<0?"left":"right",v=p.attr("data-ref");s=s||ea,v||(v=Qt++,p.addClass("mbsc-lv-item").attr("data-ref",v)),S(p),i||Nt.addUndoAction(function(e){c?Nt.navigate(h,function(){f.remove(),h.removeClass("mbsc-lv-parent").children(".mbsc-lv-arr").remove(),d.child=h.children(Be),Nt.remove(p,null,e,!0)}):Nt.remove(p,null,e,!0)},!0),R(p,function(e){k(p.css("top","").removeClass("mbsc-lv-item-undo")),h.is(qe)?(u=h.attr("data-ref"),h.children(Be).length||(c=!0,h.append("<"+Ue+"></"+Ue+">"))):u=h.children(".mbsc-lv-back").attr("data-back"),d=la[u],d&&(d.child.length?f=d.child:(h.addClass("mbsc-lv-parent").prepend(Ee),f=h.children(Be).prepend(Oe).addClass("mbsc-lv"),d.child=f,ne(".mbsc-lv-back",h).attr("data-back",u))),la[v]={item:p,child:p.children(Be),parent:f,ref:u},o=A(f),l=o.length,void 0!==a&&null!==a||(a=l),i&&(m="mbsc-lv-item-new-"+(i?b:"")),V(p.addClass(m)),a!==!1&&(l?a<l?p.insertBefore(o.eq(a)):p.insertAfter(o.eq(l-1)):(r=ne(".mbsc-lv-back",f),r.length?p.insertAfter(r):f.append(p))),f.hasClass("mbsc-lv-v")?Nt.animate(p.height(p[0].offsetHeight),i&&Ft===v?"none":"expand",function(t){Nt.animate(t.height(""),i?"add-"+b:"pop-in",function(t){s.call(Wt,t.removeClass(m)),e()})}):(s.call(Wt,p.removeClass(m)),e()),J.trigger("mbsc-refresh"),xe("onItemAdd",{target:p[0]})})},Nt.swipe=function(e,t,s,n,i){e=I(e),We=e,ce=n,bt=!0,X=!0,s=void 0===s?300:s,ue=t>0?1:-1,a(),r(),x(e,t,s),clearTimeout(Dt),clearInterval(kt),kt=setInterval(function(){z=Ut.getPosition(e)/Ne*100,l()},10),Dt=setTimeout(function(){clearInterval(kt),z=t,l(),o(i),ce=!1,bt=!1,X=!1},s)},Nt.openStage=function(e,t,a,s){ia[t]&&Nt.swipe(e,ia[t].percent,a,s)},Nt.openActions=function(e,t,a,s){e=I(e);var n=H(Yt[e.attr("data-type")||"defaults"],"left"==t?-1:1);Nt.swipe(e,"left"==t?-n:n,a,s)},Nt.close=function(e,t){Nt.swipe(e,0,t)},Nt.remove=function(e,t,a,s){var n,i,r;a=a||ea,e=I(e),e.length&&(i=e.parent(),n=A(i).index(e),r=e[0].style,s||(e.attr("data-ref")===Ft&&(Ot=!0),Nt.addUndoAction(function(t){Nt.add(null,e,n,t,i,!0)},!0)),R(e,function(n){t=t||(e.attr("data-pos")<0?"left":"right"),i.hasClass("mbsc-lv-v")?Nt.animate(e.addClass("mbsc-lv-removed"),s?"pop-out":"remove-"+t,function(e){r.height=e[0].offsetHeight+"px",Nt.animate(e,"collapse",function(e){r.height="",k(e.removeClass("mbsc-lv-removed")),a.call(Wt,e)!==!1&&e.remove(),n()})}):(a.call(Wt,e)!==!1&&e.remove(),n()),xe("onItemRemove",{target:e[0]})}))},Nt.move=function(e,t,a,s,n,i){e=I(e),i||Nt.startActionTrack(),Le.append(Pe),Nt.remove(e,a,null,i),Nt.add(null,e,t,s,n,i),i||Nt.endActionTrack()},Nt.navigate=function(e,t){var a,s;e=I(e),a=la[e.attr("data-ref")],s=Y(e),a&&(L(s>=Rt?"r":"l",a.parent,e,t,!0),Rt=s)},Nt._processSettings=function(){$t.is("[mbsc-enhance]")&&(Te=!0,$t.removeAttr("mbsc-enhance"))},Nt._init=function(){var e,t,a,r=$t.find(Be).length?"left":"right",l=0,o="",c="",d="";Ue=ft.listNode,Be=ft.listSelector,Re=ft.itemNode,qe=ft.itemSelector,a=ft.sort||ft.sortable||!1,"group"===a&&(a={group:!1,multiLevel:!0}),a===!0&&(a={group:!0,multiLevel:!0,handle:ft.sortHandle}),a&&void 0===a.handle&&(a.handle=ft.sortHandle),a.handle&&(Me=a.handle===!0?r:a.handle,De='<div class="mbsc-lv-handle-c mbsc-lv-item-h-'+Me+' mbsc-lv-handle"><div class="'+ft.handleClass+' mbsc-lv-handle-bar-c mbsc-lv-handle">'+ft.handleMarkup+"</div></div>"),Oe="<"+Re+' class="mbsc-lv-item mbsc-lv-back">'+ft.backText+'<div class="mbsc-lv-arr mbsc-lv-ic mbsc-ic '+ft.leftArrowClass+'"></div></'+Re+">",Ee='<div class="mbsc-lv-arr mbsc-lv-ic mbsc-ic '+ft.rightArrowClass+'"></div>',e="mbsc-lv-cont mbsc-lv-"+ft.theme+(ft.rtl?" mbsc-lv-rtl":"")+(ft.baseTheme?" mbsc-lv-"+ft.baseTheme:"")+(ft.animateIcons?" mbsc-lv-ic-anim":"")+(ft.striped?" mbsc-lv-alt-row":"")+(ft.fixedHeader?" mbsc-lv-has-fixed-header":"")+(a.handle?" mbsc-lv-handle-"+Me:""),Nt.sortable=a||!1,J?(J.attr("class",e),a.handle&&ne(".mbsc-lv-handle-c",$t).remove(),ne(qe+":not(.mbsc-lv-back)",$t).removeClass("mbsc-lv-item")):(o+='<div class="mbsc-lv-multi-c"></div>',o+='<div class="mbsc-lv-ic-c"><div class="mbsc-lv-ic-s mbsc-lv-ic mbsc-ic mbsc-ic-none"></div><div class="mbsc-lv-ic-text"></div></div>',$t.addClass("mbsc-lv mbsc-lv-v mbsc-lv-root").show(),Le=ne('<div class="mbsc-lv-stage-c">'+o+"</div>"),Pe=ne(".mbsc-lv-ic-c",Le),Ze=ne(".mbsc-lv-multi-c",Le),He=ne(".mbsc-lv-ic-s",Le),Vt=ne(".mbsc-lv-ic-text",Le),lt=ne("<"+Re+' class="mbsc-lv-item mbsc-lv-ph"></'+Re+">"),_e=ne('<div class="mbsc-lv-fill-item"></div>'),J=ne('<div class="'+e+'"><'+Ue+' class="mbsc-lv mbsc-lv-dummy"></'+Ue+'><div class="mbsc-lv-sl-c"></div></div>'),ke="body"!==ft.context,Et=ne(ke?ft.context:window),be=ne(".mbsc-lv-dummy",J),J.insertAfter($t),Et.on("orientationchange resize",m),m(),J.on("touchstart mousedown",".mbsc-lv-item",s).on("touchmove",".mbsc-lv-item",n).on("touchend touchcancel",".mbsc-lv-item",i),Wt.addEventListener("click",h,!0),J.on("touchstart mousedown",".mbsc-lv-ic-m",function(e){ce||(e.stopPropagation(),e.preventDefault()),wt=Kt(e,"X"),Ct=Kt(e,"Y")}).on("touchend mouseup",".mbsc-lv-ic-m",function(e){ce||("touchend"===e.type&&Ut.preventClick(),qt&&!ne(this).hasClass("mbsc-lv-ic-disabled")&&Math.abs(Kt(e,"X")-wt)<10&&Math.abs(Kt(e,"Y")-Ct)<10&&b((z<0?It.rightMenu:It.leftMenu)[ne(this).index()],G,Z))}),vt=ne(".mbsc-lv-sl-c",J).append($t.addClass("mbsc-lv-sl-curr")).attr("data-ref",Qt++),ee=$t,ae=J),V($t),gt=0,Yt=ft.itemGroups||{},Yt.defaults={swipeleft:ft.swipeleft,swiperight:ft.swiperight,stages:ft.stages,actions:ft.actions,actionsWidth:ft.actionsWidth},ne.each(Yt,function(e,t){if(t.swipe=void 0!==t.swipe?t.swipe:ft.swipe,t.stages=t.stages||[],q(t.stages,1,!0),q(t.stages.left,1),q(t.stages.right,-1),(t.stages.left||t.stages.right)&&(t.stages=[].concat(t.stages.left||[],t.stages.right||[])),we=!1,t.stages.length||(t.swipeleft&&t.stages.push({percent:-30,action:t.swipeleft}),t.swiperight&&t.stages.push({percent:30,action:t.swiperight})),ne.each(t.stages,function(e,t){if(0===t.percent)return we=!0,!1}),we||t.stages.push({percent:0}),t.stages.sort(function(e,t){return e.percent-t.percent}),ne.each(t.stages,function(e,a){if(0===a.percent)return t.start=e,!1}),we?t.left=t.right=t.stages[t.start]:(t.left=t.stages[t.start-1]||{},t.right=t.stages[t.start+1]||{}),t.actions){for(t.leftMenu=t.actions.left||t.actions,t.rightMenu=t.actions.right||t.leftMenu,c="",d="",l=0;l<t.leftMenu.length;l++)c+="<div "+(t.leftMenu[l].color?'style="background-color: '+t.leftMenu[l].color+'"':"")+' class="mbsc-lv-ic-m mbsc-lv-ic mbsc-ic mbsc-ic-'+t.leftMenu[l].icon+'">'+(t.leftMenu[l].text||"")+"</div>";for(l=0;l<t.rightMenu.length;++l)d+="<div "+(t.rightMenu[l].color?'style="background-color: '+t.rightMenu[l].color+'"':"")+' class="mbsc-lv-ic-m mbsc-lv-ic mbsc-ic mbsc-ic-'+t.rightMenu[l].icon+'">'+(t.rightMenu[l].text||"")+"</div>";t.actions.left&&(t.swipe=t.actions.right?t.swipe:"right"),t.actions.right&&(t.swipe=t.actions.left?t.swipe:"left"),t.icons='<div class="mbsc-lv-multi mbsc-lv-multi-ic-left">'+c+'</div><div class="mbsc-lv-multi mbsc-lv-multi-ic-right">'+d+"</div>"}}),ft.fixedHeader&&(t="mbsc-lv-fixed-header"+(ke?" mbsc-lv-fixed-header-ctx mbsc-lv-"+ft.theme+(ft.baseTheme?" mbsc-lv-"+ft.baseTheme:""):""),Ce?Ce.attr("class",t):(Ce=ne('<div class="'+t+'"></div>'),ke?Et.before(Ce):J.prepend(Ce),at=Ut.throttle(f,200),Et.on("scroll touchmove",at))),ft.hover&&(Ie||J.on("mouseover.mbsc-lv",".mbsc-lv-item",function(){Ve&&Ve[0]==this||(u(),Ve=ne(this),Yt[Ve.attr("data-type")||"defaults"].actions&&(Fe=setTimeout(function(){nt?Ve=null:(Ae=!0,Nt.openActions(Ve,Se,Ie,!1))},Ye)))}).on("mouseleave.mbsc-lv",u),Ie=ft.hover.time||200,Ye=ft.hover.timeout||200,Se=ft.hover.direction||ft.hover||"right"),Te&&J.attr("mbsc-enhance",""),J.trigger("mbsc-enhance",[{theme:ft.theme,lang:ft.lang}])},Nt._destroy=function(){var e;ae.append(ee),ke&&Ce&&Ce.remove(),Te&&($t.attr("mbsc-enhance",""),e=$.instances[J[0].id],e&&e.destroy()),Wt.removeEventListener("click",h,!0),J.find(".mbsc-lv-txt,.mbsc-lv-img").removeClass("mbsc-lv-txt mbsc-lv-img"),J.find(Be).removeClass("mbsc-lv mbsc-lv-v mbsc-lv-root mbsc-lv-sl-curr").find(qe).removeClass("mbsc-lv-gr-title mbsc-lv-item mbsc-lv-item-enhanced mbsc-lv-parent mbsc-lv-img-left mbsc-lv-img-right mbsc-lv-item-ic-left mbsc-lv-item-ic-right").removeAttr("data-ref"),ne(".mbsc-lv-back,.mbsc-lv-handle-c,.mbsc-lv-arr,.mbsc-lv-item-ic",J).remove(),$t.insertAfter(J),J.remove(),Le.remove(),Et.off("orientationchange resize",m),at&&Et.off("scroll touchmove",at)};var oa,ca=[],da=[],ua=[],ma=0;Nt.startActionTrack=function(){ma||(ua=[]),ma++},Nt.endActionTrack=function(){ma--,ma||da.push(ua)},Nt.addUndoAction=function(e,t){var a={action:e,async:t};ma?ua.push(a):(da.push([a]),da.length>ft.undoLimit&&da.shift())},Nt.undo=function(){function e(){s<0?(oa=!1,t()):(a=n[s],s--,a.async?a.action(e):(a.action(),e()))}function t(){n=ca.shift(),n&&(oa=!0,s=n.length-1,e())}var a,s,n;da.length&&ca.push(da.pop()),oa||t()},ft=Nt.settings,xe=Nt.trigger,Nt.init(t)};na.prototype={_class:"listview",_hasDef:!0,_hasTheme:!0,_hasLang:!0,_defaults:{context:"body",actionsWidth:90,sortDelay:250,undoLimit:10,swipe:!0,quickSwipe:!0,animateIcons:!0,animation:!0,revert:!0,vibrate:!0,handleClass:"",handleMarkup:'<div class="mbsc-lv-handle-bar mbsc-lv-handle"></div><div class="mbsc-lv-handle-bar mbsc-lv-handle"></div><div class="mbsc-lv-handle-bar mbsc-lv-handle"></div>',listNode:"ul",listSelector:"ul,ol",itemNode:"li",itemSelector:"li",leftArrowClass:"mbsc-ic-arrow-left4",rightArrowClass:"mbsc-ic-arrow-right4",backText:"Back",undoText:"Undo",stages:[]}},Xt.ListView=na,$.themes.listview.mobiscroll={leftArrowClass:"mbsc-ic-arrow-left5",rightArrowClass:"mbsc-ic-arrow-right5"},$.presetShort("listview","ListView");var ia={batch:50,min:0,max:100,defaultUnit:"",units:null,unitNames:null,invalid:[],sign:!1,step:.05,scale:2,convert:function(e){return e},signText:"&nbsp;",wholeText:"Whole",fractionText:"Fraction",unitText:"Unit"};$.presets.scroller.measurement=function(e){function t(e){return Math.max(y,Math.min(x,P?e<0?Math.ceil(e):Math.floor(e):i(Math.round(e-R),$)+R))}function a(e){return P?i((Math.abs(e)-Math.abs(t(e)))*W-q,$)+q:0}function s(e){var s=t(e),n=a(e),i=e<0?"-":"+";return n>=W&&(e<0?s--:s++,n=0),[i,s,n]}function n(e){var t=+e[p],a=P?e[f]/W*(t<0?-1:1):0;return(F&&"-"==e[0]?-1:1)*(t+a)}function i(e,t){return Math.round(e/t)*t}function r(e,t){for(e+="";e.length<t;)e="0"+e;return e}function l(e,t,a){return t!==a&&k.convert?k.convert.call(this,e,t,a):e}function o(e,t,a){return e=e>a?a:e,e=e<t?t:e}function c(e){var t,s;v=l(k.min,E,e),g=l(k.max,E,e),P?(y=v<0?Math.ceil(v):Math.floor(v),x=g<0?Math.ceil(g):Math.floor(g),_=a(v),w=a(g)):(y=Math.round(v),x=Math.round(g),x=y+Math.floor((x-y)/$)*$,R=y%$),t=y,s=x,F&&(s=Math.abs(t)>Math.abs(s)?Math.abs(t):Math.abs(s),t=t<0?0:t),A.min=t<0?Math.ceil(t/L):Math.floor(t/L),A.max=s<0?Math.ceil(s/L):Math.floor(s/L)}function d(e){return n(e).toFixed(P?N:0)+(O?" "+H[e[b]]:"")}var u,m,h,f,p,b,v,g,y,x,_,w,C,T,M=le({},e.settings),k=le(e.settings,ia,M),D={},S=[[]],V={},A={},I={},Y=[],F=k.sign,O=k.units&&k.units.length,E=O?k.defaultUnit||k.units[0]:"",H=[],P=k.step<1,L=k.step>1?k.step:1,N=P?Math.max(k.scale,(k.step+"").split(".")[1].length):1,W=Math.pow(10,N),$=Math.round(P?k.step*W:k.step),j=-1,R=0,q=0,X=0;if(e.setVal=function(t,a,s,n,i){e._setVal(ne.isArray(t)?d(t):t,a,s,n,i)},k.units)for(T=0;T<k.units.length;++T)C=k.units[T],H.push(k.unitNames?k.unitNames[C]||C:C);if(F)if(F=!1,O)for(T=0;T<k.units.length;T++)l(k.min,E,k.units[T])<0&&(F=!0);else F=k.min<0;if(F&&(S[0].push({data:["-","+"],label:k.signText}),j=X++),A={label:k.wholeText,data:function(e){return y%L+e*L},getIndex:function(e){return Math.round((e-y%L)/L)}},S[0].push(A),p=X++,c(E),P){for(S[0].push(I),I.data=[],I.label=k.fractionText,T=q;T<W;T+=$)Y.push(T),I.data.push({value:T,display:"."+r(T,N)});f=X++,u=Math.ceil(100/$),k.invalid&&k.invalid.length&&(ne.each(k.invalid,function(e,t){var a=t>0?Math.floor(t):Math.ceil(t);0===a&&(a=t<=0?-.001:.001),V[a]=(V[a]||0)+1,0===t&&(a=.001,V[a]=(V[a]||0)+1)}),ne.each(V,function(e,t){t<u?delete V[e]:V[e]=e}))}if(O){for(D={data:[],label:k.unitText,cssClass:"mbsc-msr-whl-unit",circular:!1},T=0;T<k.units.length;T++)D.data.push({value:T,display:H[T]});S[0].push(D)}return b=X,{wheels:S,minWidth:F&&P?70:80,showLabel:!1,formatValue:d,
compClass:"mbsc-msr",parseValue:function(e){var t,a=("number"==typeof e?e+"":e)||k.defaultValue,n=(a+"").split(" "),i=+n[0],r=[],l="";return O&&(l=ne.inArray(n[1],H),l=l==-1?ne.inArray(E,k.units):l,l=l==-1?0:l),h=O?k.units[l]:"",c(h),i=isNaN(i)?0:i,i=o(i,v,g),t=s(i),t[1]=o(t[1],y,x),m=i,F&&(r[0]=t[0],t[1]=Math.abs(t[1])),r[p]=t[1],P&&(r[f]=t[2]),O&&(r[b]=l),r},onCancel:function(){m=void 0},validate:function(t){var a,r,d,u,C,T=t.values,M=t.index,D=t.direction,S={},I=[],H={},N=O?k.units[T[b]]:"";if(F&&0===M&&(m=Math.abs(m)*("-"==T[0]?-1:1)),(M===p||M===f&&P||void 0===m||void 0===M)&&(m=n(T),h=N),(O&&M===b&&h!==N||void 0===M)&&(c(N),m=l(m,h,N),h=N,r=s(m),void 0!==M&&(H[p]=A,e.changeWheel(H)),F&&(T[0]=r[0])),I[p]=[],F)for(I[0]=[],v>0&&(I[0].push("-"),T[0]="+"),g<0&&(I[0].push("+"),T[0]="-"),C=Math.abs("-"==T[0]?y:x),X=C+L;X<C+20*L;X+=L)I[p].push(X),S[X]=!0;if(m=o(m,v,g),r=s(m),d=F?Math.abs(r[1]):r[1],a=F?"-"==T[0]:m<0,T[p]=d,a&&(r[0]="-"),P&&(T[f]=r[2]),ne.each(P?V:k.invalid,function(e,t){if(F&&a){if(!(t<=0))return;t=Math.abs(t)}t=i(l(t,E,N),P?1:$),S[t]=!0,I[p].push(t)}),T[p]=e.getValidValue(p,d,D,S),r[1]=T[p]*(F&&a?-1:1),P){I[f]=[];var W=F?T[0]+T[1]:(m<0?"-":"+")+Math.abs(r[1]),j=(v<0?"-":"+")+Math.abs(y),R=(g<0?"-":"+")+Math.abs(x);W===j&&ne(Y).each(function(e,t){(a?t>_:t<_)&&I[f].push(t)}),W===R&&ne(Y).each(function(e,t){(a?t<w:t>w)&&I[f].push(t)}),ne.each(k.invalid,function(e,t){u=s(l(t,E,N)),(r[0]===u[0]||0===r[1]&&0===u[1]&&0===u[2])&&r[1]===u[1]&&I[f].push(u[2])})}return{disabled:I,valid:T}}}},$.presetShort("measurement"),$.presets.scroller.number=$.presets.scroller.measurement,$.presetShort("number");var ra=$.util,la=$.presets.numpad,oa=ra.testTouch,ca=ra.getCoord,da=ra.isNumeric,ua=function(){},ma=function(e,t,a){function s(t){var a,s=g.validate.call(e,{values:S.slice(0),variables:P},O)||[],i=s&&s.disabled||[];if(O._isValid=!s.invalid,O._tempValue=g.formatValue.call(e,S.slice(0),P,O),v=S.length,V=s.length||I,O._isVisible){if(ne(".mbsc-np-ph",f).each(function(e){ne(this).html("ltr"==g.fill?e>=v?b:y||S[e]:e>=I-V?e+v<I?b:y||S[e+v-I]:"")}),ne(".mbsc-np-cph",f).each(function(){ne(this).html(P[ne(this).attr("data-var")]||ne(this).attr("data-ph"))}),v===I)for(a=0;a<=9;a++)i.push(a);for(ne(".mbsc-np-btn",f).removeClass(p),a=0;a<i.length;a++)ne('.mbsc-np-btn[data-val="'+i[a]+'"]',f).addClass(p);O._isValid?ne(".mbsc-fr-btn-s .mbsc-fr-btn",f).removeClass(p):ne(".mbsc-fr-btn-s .mbsc-fr-btn",f).addClass(p),O.live&&(O._hasValue=t||O._hasValue,n(t,!1,t),t&&A("onSet",{valueText:O._value}))}}function n(e,t,a,n){t&&s(),n||(Y=S.slice(0),L=le({},P),E=H.slice(0),O._value=O._hasValue?O._tempValue:null),e&&(O._isInput&&F.val(O._hasValue&&O._isValid?O._value:""),A("onFill",{valueText:O._hasValue?O._tempValue:"",change:a}),a&&(O._preventChange=!0,F.trigger("change")))}function i(e){var t,a,s=e||[],n=[];for(H=[],P={},t=0;t<s.length;t++)/:/.test(s[t])?(a=s[t].split(":"),P[a[0]]=a[1],H.push(a[0])):(n.push(s[t]),H.push("digit"));return n}function r(e,t){!(v||t||g.allowLeadingZero)||e.hasClass("mbsc-fr-btn-d")||e.hasClass("mbsc-np-btn-empty")||v<I&&(H.push("digit"),S.push(t),s(!0))}function l(e){var t,a,n=e.attr("data-val"),i="false"!==e.attr("data-track"),r=e.attr("data-var");if(!e.hasClass("mbsc-fr-btn-d")){if(r&&(a=r.split(":"),i&&H.push(a[0]),P[a[0]]=void 0===a[2]?a[1]:P[a[0]]==a[1]?a[2]:a[1]),n.length+v<=V)for(t=0;t<n.length;++t)a=da(n[t])?+n[t]:n[t],(g.allowLeadingZero||v||a)&&(H.push("digit"),S.push(a),v=S.length);s(!0)}}function o(){var e,t,a=H.pop();if(v||"digit"!==a){if("digit"!==a&&P[a])for(delete P[a],t=H.slice(0),H=[],e=0;e<t.length;e++)t[e]!==a&&H.push(t[e]);else S.pop();s(!0)}}function c(e){k=!0,x=ca(e,"X"),_=ca(e,"Y"),clearInterval(D),clearTimeout(D),o(),D=setInterval(function(){o()},150)}function d(){clearInterval(D),k=!1}function u(e){oa(e,this)&&(c(e),"mousedown"===e.type&&ne(document).on("mousemove",m).on("mouseup",h))}function m(e){k&&(w=ca(e,"X"),C=ca(e,"Y"),T=w-x,M=C-_,(Math.abs(T)>7||Math.abs(M)>7)&&d())}function h(e){k&&(e.preventDefault(),d(),"mouseup"===e.type&&ne(document).off("mousemove",m).off("mouseup",h))}var f,p,b,v,g,y,x,_,w,C,T,M,k,D,S,V,A,I,Y,F=ne(e),O=this,E=[],H=[],P={},L={},N={107:"+",109:"-"},W={48:0,49:1,50:2,51:3,52:4,53:5,54:6,55:7,56:8,57:9,96:0,97:1,98:2,99:3,100:4,101:5,102:6,103:7,104:8,105:9};ke.call(this,e,t,!0),O.setVal=O._setVal=function(t,a,s,r){O._hasValue=null!==t&&void 0!==t,S=i(ne.isArray(t)?t.slice(0):g.parseValue.call(e,t,O)),n(a,!0,void 0===s?a:s,r)},O.getVal=O._getVal=function(e){return O._hasValue||e?O[e?"_tempValue":"_value"]:null},O.setArrayVal=O.setVal,O.getArrayVal=function(e){return e?S.slice(0):O._hasValue?Y.slice(0):null},O._readValue=function(){var t=F.val()||"";""!==t&&(O._hasValue=!0),y?(P={},H=[],S=[]):(P=O._hasValue?L:{},H=O._hasValue?E:[],S=O._hasValue&&Y?Y.slice(0):i(g.parseValue.call(e,t,O)),n(!1,!0))},O._fillValue=function(){O._hasValue=!0,n(!0,!1,!0)},O._generateContent=function(){var e,t,a,s=1,n="",i="";for(i+='<div class="mbsc-np-hdr"><div role="button" tabindex="0" aria-label="'+g.deleteText+'" class="mbsc-np-del mbsc-fr-btn-e mbsc-ic mbsc-ic-'+g.deleteIcon+'"></div><div class="mbsc-np-dsp">',n=g.template.replace(/d/g,'<span class="mbsc-np-ph">'+b+"</span>").replace(/&#100;/g,"d"),n=n.replace(/{([a-zA-Z0-9]*)\:?([a-zA-Z0-9\-\_]*)}/g,'<span class="mbsc-np-cph" data-var="$1" data-ph="$2">$2</span>'),i+=n,i+="</div></div>",i+='<div class="mbsc-np-tbl-c mbsc-w-p"><div class="mbsc-np-tbl">',e=0;e<4;e++){for(i+='<div class="mbsc-np-row">',t=0;t<3;t++)a=s,10==s||12==s?a="":11==s&&(a=0),i+=""===a?10==s&&g.leftKey?'<div role="button" tabindex="0" class="mbsc-np-btn mbsc-np-btn-custom mbsc-fr-btn-e" '+(g.leftKey.variable?'data-var="'+g.leftKey.variable+'"':"")+' data-val="'+(g.leftKey.value||"")+'" '+(void 0!==g.leftKey.track?' data-track="'+g.leftKey.track+'"':"")+">"+g.leftKey.text+"</div>":12==s&&g.rightKey?'<div role="button" tabindex="0" class="mbsc-np-btn mbsc-np-btn-custom mbsc-fr-btn-e" '+(g.rightKey.variable?'data-var="'+g.rightKey.variable+'"':"")+' data-val="'+(g.rightKey.value||"")+'" '+(void 0!==g.rightKey.track?' data-track="'+g.rightKey.track+'"':"")+" >"+g.rightKey.text+"</div>":'<div class="mbsc-np-btn mbsc-np-btn-empty"></div>':'<div tabindex="0" role="button" class="mbsc-np-btn mbsc-fr-btn-e" data-val="'+a+'">'+a+"</div>",s++;i+="</div>"}return i+="</div></div>"},O._markupReady=function(){f=O._markup,s()},O._attachEvents=function(e){e.on("keydown",function(t){var a;void 0!==N[t.keyCode]?(a=ne('.mbsc-np-btn[data-var="sign:-:"]',e),a.length&&(P.sign=107==t.keyCode?"-":"",l(a))):void 0!==W[t.keyCode]?r(ne('.mbsc-np-btn[data-val="'+W[t.keyCode]+'"]',e),W[t.keyCode]):8==t.keyCode&&(t.preventDefault(),o())}),O.tap(ne(".mbsc-np-btn",e),function(){var e=ne(this);e.hasClass("mbsc-np-btn-custom")?l(e):r(e,+e.attr("data-val"))},!1,30,!0),ne(".mbsc-np-del",e).on("touchstart mousedown keydown",u).on("touchmove mousemove",m).on("keyup mouseup touchend",h)},O.__init=function(){g=O.settings,g.cssClass=(g.cssClass||"")+" mbsc-np",g.template=g.template.replace(/\\d/,"&#100;"),b=g.placeholder,I=(g.template.match(/d/g)||[]).length,p="mbsc-fr-btn-d "+(g.disabledClass||""),y=g.mask,A=O.trigger,y&&F.is("input")&&F.attr("type","password")},O._indexOf=function(e,t){var a;for(a=0;a<e.length;++a)if(e[a].toString()===t.toString())return a;return-1},a||O.init(t)};ma.prototype={_hasDef:!0,_hasTheme:!0,_hasLang:!0,_hasPreset:!0,_class:"numpad",_defaults:le({},ke.prototype._defaults,{template:"dd.dd",placeholder:"0",deleteIcon:"backspace",allowLeadingZero:!1,headerText:!1,fill:"rtl",deleteText:"Delete",decimalSeparator:".",thousandsSeparator:",",validate:ua,parseValue:ua,formatValue:function(e,t,a){var s,n=1,i=a.settings,r=i.placeholder,l=i.template,o=e.length,c=l.length,d="";for(s=0;s<c;s++)"d"==l[c-s-1]?(d=n<=o?e[o-n]+d:r+d,n++):d=l[c-s-1]+d;return ne.each(t,function(e,t){d=d.replace("{"+e+"}",t)}),ne("<div>"+d+"</div>").text()}})},$.classes.Numpad=ma,$.themes.numpad=$.themes.frame,$.presetShort("numpad","Numpad",!1);var ha={min:0,max:99.99,scale:2,prefix:"",suffix:"",returnAffix:!1};la.decimal=function(e){function t(e,t){for(var a,s=e.slice(0),i=0;s.length;)i=10*i+s.shift();for(a=0;a<n.scale;a++)i/=10;return t?i*-1:i}function a(e){var a=t(e).toFixed(n.scale).replace(".",n.decimalSeparator).replace(/\B(?=(\d{3})+(?!\d))/g,n.thousandsSeparator);return a}var s=le({},e.settings),n=le(e.settings,ha,s),i=n.min<0;return e.getVal=function(t){var a=e._getVal(t),s=(a+"").replace(n.decimalSeparator,".").replace(n.thousandsSeparator,"");return ra.isNumeric(s)?+s:a},{template:(i?"{sign}":"")+n.prefix.replace(/d/g,"\\d")+Array((Math.floor(Math.max(n.max,Math.abs(n.min)))+"").length+1).join("d")+(n.scale?"."+Array(n.scale+1).join("d"):"")+n.suffix.replace(/d/g,"\\d"),leftKey:i?{text:"-/+",variable:"sign:-:",track:!1}:void 0,parseValue:function(e){var t,a,s=e||n.defaultValue,i=[];if(s&&(s=(s+"").replace(n.decimalSeparator,".").replace(n.thousandsSeparator,""),a=s.match(/\d+\.?\d*/g)))for(a=(+a[0]).toFixed(n.scale),t=0;t<a.length;t++)"."!=a[t]&&(+a[t]?i.push(+a[t]):i.length&&i.push(0));return e<0&&i.push("sign:-"),i},formatValue:function(e,s){var i=a(e),r=t(e,s&&"-"==s.sign);return(r<0?"-":"")+(n.returnAffix?n.prefix+i+n.suffix:i)},validate:function(s){var i=s.values,r=a(i),l=t(i,s.variables&&"-"==s.variables.sign),o=[];return i.length||n.allowLeadingZero||o.push(0),e.isVisible()&&ne(".mbsc-np-dsp",e._markup).html((s.variables.sign||"")+n.prefix+r+n.suffix),{disabled:o,invalid:l>n.max||l<n.min||!!n.invalid&&e._indexOf(n.invalid,l)!=-1}}}};var fa=["h","m","s"],pa={min:0,max:362439,defaultValue:0,hourTextShort:"h",minuteTextShort:"m",secTextShort:"s"};la.timespan=function(e){function t(e){var t,a="",s=3600;return ne(fa).each(function(i,r){t=Math.floor(e/s),e-=t*s,s/=60,(t>0||"s"==r&&!a)&&(a=a+(a?" ":"")+t+n[r])}),a}var a=le({},e.settings),s=le(e.settings,pa,a),n={h:s.hourTextShort.replace(/d/g,"\\d"),m:s.minuteTextShort.replace(/d/g,"\\d"),s:s.secTextShort.replace(/d/g,"\\d")},i='d<span class="mbsc-np-sup mbsc-np-time">'+n.s+"</span>";return s.max>9&&(i="d"+i),s.max>99&&(i='<span class="mbsc-np-ts-m">'+(s.max>639?"d":"")+'d</span><span class="mbsc-np-sup mbsc-np-time">'+n.m+"</span>"+i),s.max>6039&&(i='<span class="mbsc-np-ts-h">'+(s.max>38439?"d":"")+'d</span><span class="mbsc-np-sup mbsc-np-time">'+n.h+"</span>"+i),e.setVal=function(a,s,n,i){return ra.isNumeric(a)&&(a=t(a)),e._setVal(a,s,n,i)},e.getVal=function(t){return e._hasValue||t?M(e.getArrayVal(t)):null},{template:i,parseValue:function(e){var a,i=e||t(s.defaultValue),r=[];return i&&ne(fa).each(function(e,t){a=new RegExp("(\\d+)"+n[t],"gi").exec(i),a?(a=+a[1],a>9?(r.push(Math.floor(a/10)),r.push(a%10)):(r.length&&r.push(0),(a||r.length)&&r.push(a))):r.length&&(r.push(0),r.push(0))}),r},formatValue:function(e){return t(M(e))},validate:function(t){var a=t.values,n=M(a.slice(0)),i=[];return a.length||i.push(0),{disabled:i,invalid:n>s.max||n<s.min||!!s.invalid&&e._indexOf(s.invalid,+n)!=-1}}}};var ba={timeFormat:"hh:ii A",amText:"am",pmText:"pm"};la.time=function(e){function t(e,t){var a,s="";for(a=0;a<e.length;++a)s+=e[a]+(a%2==(e.length%2==1?0:1)&&a!=e.length-1?":":"");return ne.each(t,function(e,t){s+=" "+t}),s}function a(e){var t,a,s,l,o,b,v,g,y,x,_=[],w=2*i.length;if(c=w,e.length||(r&&(_.push(0),_.push(n.leftKey.value)),_.push(n.rightKey.value)),!r&&(w-e.length<2||1!=e[0]&&(e[0]>2||e[1]>3)&&w-e.length<=2)&&(_.push("30"),_.push("00")),(r?e[0]>1||e[1]>2:1!=e[0]&&(e[0]>2||e[1]>3))&&e[0]&&(e.unshift(0),c=w-1),e.length==w)for(t=0;t<=9;++t)_.push(t);else if(1==e.length&&r&&1==e[0]||e.length&&e.length%2===0||!r&&2==e[0]&&e[1]>3&&e.length%2==1)for(t=6;t<=9;++t)_.push(t);if(y=void 0!==e[1]?""+e[0]+e[1]:"",x=+h==+(void 0!==e[3]?""+e[2]+e[3]:""),n.invalid)for(t=0;t<n.invalid.length;++t)if(b=n.invalid[t].getHours(),v=n.invalid[t].getMinutes(),g=n.invalid[t].getSeconds(),b==+y){if(2==i.length&&(v<10?0:+(""+v)[0])==+e[2]){_.push(v<10?v:+(""+v)[1]);break}if((g<10?0:+(""+g)[0])==+e[4]){_.push(g<10?g:+(""+g)[1]);break}}if(n.min||n.max){if(a=+d==+y,s=+u==+y,o=s&&x,l=a&&x,0===e.length){for(t=r?2:d>19?d[0]:3;t<=(1==d[0]?9:d[0]-1);++t)_.push(t);if(d>=10&&(_.push(0),2==d[0]))for(t=3;t<=9;++t)_.push(t);if(u&&u<10||d&&d>=10)for(t=u&&u<10?+u[0]+1:0;t<(d&&d>=10?d[0]:10);++t)_.push(t)}if(1==e.length){if(0===e[0])for(t=0;t<d[0];++t)_.push(t);if(d&&0!==e[0]&&(r?1==e[0]:2==e[0]))for(t=r?3:4;t<=9;++t)_.push(t);if(e[0]==d[0])for(t=0;t<d[1];++t)_.push(t);if(e[0]==u[0]&&!r)for(t=+u[1]+1;t<=9;++t)_.push(t)}if(2==e.length&&(a||s))for(t=s?+h[0]+1:0;t<(a?+m[0]:10);++t)_.push(t);if(3==e.length&&(s&&e[2]==h[0]||a&&e[2]==m[0]))for(t=s&&e[2]==h[0]?+h[1]+1:0;t<(a&&e[2]==m[0]?+m[1]:10);++t)_.push(t);if(4==e.length&&(l||o))for(t=o?+p[0]+1:0;t<(l?+f[0]:10);++t)_.push(t);if(5==e.length&&(l&&e[4]==f[0]||o&&e[4]==p[0]))for(t=o&&e[4]==p[0]?+p[1]+1:0;t<(l&&e[4]==f[0]?+f[1]:10);++t)_.push(t)}return _}var s=le({},e.settings),n=le(e.settings,ba,s),i=n.timeFormat.split(":"),r=n.timeFormat.match(/a/i),l=r?"a"==r[0]?n.amText:n.amText.toUpperCase():"",o=r?"a"==r[0]?n.pmText:n.pmText.toUpperCase():"",c=0,d=n.min?""+n.min.getHours():"",u=n.max?""+n.max.getHours():"",m=n.min?""+(n.min.getMinutes()<10?"0"+n.min.getMinutes():n.min.getMinutes()):"",h=n.max?""+(n.max.getMinutes()<10?"0"+n.max.getMinutes():n.max.getMinutes()):"",f=n.min?""+(n.min.getSeconds()<10?"0"+n.min.getSeconds():n.min.getSeconds()):"",p=n.max?""+(n.max.getSeconds()<10?"0"+n.max.getSeconds():n.max.getSeconds()):"";return n.min?n.min.setFullYear(2014,7,20):"",n.max?n.max.setFullYear(2014,7,20):"",{placeholder:"-",allowLeadingZero:!0,template:(3==i.length?"dd:dd:dd":2==i.length?"dd:dd":"dd")+(r?'<span class="mbsc-np-sup">{ampm:--}</span>':""),leftKey:r?{text:l,variable:"ampm:"+l,value:"00"}:{text:":00",value:"00"},rightKey:r?{text:o,variable:"ampm:"+o,value:"00"}:{text:":30",value:"30"},parseValue:function(e){var t,a,s=e||n.defaultValue,i=[];if(s){if(s+="",a=s.match(/\d/g))for(t=0;t<a.length;t++)i.push(+a[t]);r&&i.push("ampm:"+(s.match(new RegExp(n.pmText,"gi"))?o:l))}return i},formatValue:function(e,a){return t(e,a)},validate:function(s){var i=s.values,l=s.variables,o=t(i,l),d=i.length>=3?new Date(2014,7,20,""+i[0]+(i.length%2===0?i[1]:""),""+i[i.length%2===0?2:1]+i[i.length%2===0?3:2]):"";return{disabled:a(i),length:c,invalid:(r?!new RegExp("^(0?[1-9]|1[012])(:[0-5]\\d)?(:[0-5][0-9]) (?:"+n.amText+"|"+n.pmText+")$","i").test(o):!/^([0-1]?[0-9]|2[0-4]):([0-5][0-9])(:[0-5][0-9])?$/.test(o))||!!n.invalid&&e._indexOf(n.invalid,d)!=-1||!((!n.min||n.min<=d)&&(!n.max||d<=n.max))}}}};var va={dateOrder:"mdy",dateFormat:"mm/dd/yy",delimiter:"/"};la.date=function(e){function t(e){return e%4===0&&e%100!==0||e%400===0}function a(e){var a,s,l,o,c,u=[],g=void 0!==e[n+3]?""+e[n]+e[n+1]+e[n+2]+e[n+3]:"",y=void 0!==e[i+1]?""+e[i]+e[i+1]:"",x=void 0!==e[r+1]?""+e[r]+e[r+1]:"",_=""+d.getMaxDayOfMonth(g||2012,y-1||0),w=b===g&&+m===+y,C=v===g&&+h===+y;if(d.invalid)for(a=0;a<d.invalid.length;++a){if(l=d.getYear(d.invalid[a]),o=d.getMonth(d.invalid[a]),c=d.getDay(d.invalid[a]),l==+g&&o+1==+y&&(c<10?0:+(""+c)[0])==+e[r]){u.push(c<10?c:+(""+c)[1]);break}if(o+1==+y&&c==+x&&(""+l).substring(0,3)==""+e[n]+e[n+1]+e[n+2]){u.push((""+l)[3]);break}if(l==+g&&c==+x&&(o<10?0:+(""+(o+1))[0])==+e[i]){u.push(o<10?o:+(""+(o+1))[1]);break}}if("31"!=x||e.length!=i&&e.length!=i+1||(1!=e[i]?u.push(2,4,6,9,11):u.push(1)),"30"==x&&0===e[i]&&e.length<=i+1&&u.push(2),e.length==i){for(a=v===g&&+h<10?1:2;a<=9;++a)u.push(a);b===g&&+m>=10&&u.push(0)}if(e.length==i+1){if(1==e[i]){for(a=v===g?+h[1]+1:3;a<=9;++a)u.push(a);if(b==g)for(a=0;a<+m[1];++a)u.push(a)}if(0===e[i]&&(u.push(0),v===g||b===g))for(a=v===g?+x>+p?+h:+h+1:0;a<=(b===g?+x<+f?+m-1:+m-1:9);++a)u.push(a)}if(e.length==r){for(a=C?(+p>10?+p[0]:0)+1:+_[0]+1;a<=9;++a)u.push(a);if(w)for(a=0;a<(+f<10?0:f[0]);++a)u.push(a)}if(e.length==r+1){if(e[r]>=3||"02"==y)for(a=+_[1]+1;a<=9;++a)u.push(a);if(C&&+p[0]==e[r])for(a=+p[1]+1;a<=9;++a)u.push(a);if(w&&f[0]==e[r])for(a=0;a<+f[1];++a)u.push(a);if(0===e[r]&&(u.push(0),C||w))for(a=C?+p+1:1;a<=(w?+f-1:9);++a)u.push(a)}if(void 0!==e[n+2]&&"02"==y&&"29"==x)for(s=+(""+e[n]+e[n+1]+e[n+2]+0);s<=+(""+e[n]+e[n+1]+e[n+2]+9);++s)u.push(t(s)?"":s%10);if(e.length==n){if(d.min)for(a=0;a<+b[0];++a)u.push(a);if(d.max)for(a=+v[0]+1;a<=9;++a)u.push(a);u.push(0)}if(d.min||d.max)for(s=1;s<4;++s)if(e.length==n+s){if(e[n+s-1]==+b[s-1]&&(3!=s||e[n+s-2]==+b[s-2]))for(a=0;a<+b[s]+(3==s&&e[i+1]&&+m>+y?1:0);++a)u.push(a);if(e[n+s-1]==+v[s-1]&&(3!=s||e[n+s-2]==+v[s-2]))for(a=+v[s]+(3==s&&+h<+y?0:1);a<=9;++a)u.push(a)}return u}function s(e){return new Date(+(""+e[n]+e[n+1]+e[n+2]+e[n+3]),+(""+e[i]+e[i+1])-1,+(""+e[r]+e[r+1]))}var n,i,r,l,o=[],c=le({},e.settings),d=le(e.settings,tt.defaults,va,c),u=d.dateOrder,m=d.min?""+(d.getMonth(d.min)+1):0,h=d.max?""+(d.getMonth(d.max)+1):0,f=d.min?""+d.getDay(d.min):0,p=d.max?""+d.getDay(d.max):0,b=d.min?""+d.getYear(d.min):0,v=d.max?""+d.getYear(d.max):0;for(u=u.replace(/y+/gi,"yyyy"),u=u.replace(/m+/gi,"mm"),u=u.replace(/d+/gi,"dd"),n=u.toUpperCase().indexOf("Y"),i=u.toUpperCase().indexOf("M"),r=u.toUpperCase().indexOf("D"),u="",o.push({val:n,n:"yyyy"},{val:i,n:"mm"},{val:r,n:"dd"}),o.sort(function(e,t){return e.val-t.val}),ne.each(o,function(e,t){u+=t.n}),n=u.indexOf("y"),i=u.indexOf("m"),r=u.indexOf("d"),u="",l=0;l<8;++l)u+="d",l+1!=n&&l+1!=i&&l+1!=r||(u+=d.delimiter);return e.getVal=function(t){return e._hasValue||t?s(e.getArrayVal(t)):null},{placeholder:"-",fill:"ltr",allowLeadingZero:!0,template:u,parseValue:function(e){var t,a=[],s=e||d.defaultValue,n=tt.parseDate(d.dateFormat,s,d);if(s)for(t=0;t<o.length;++t)a=/m/i.test(o[t].n)?a.concat(((d.getMonth(n)<9?"0":"")+(d.getMonth(n)+1)).split("")):/d/i.test(o[t].n)?a.concat(((d.getDay(n)<10?"0":"")+d.getDay(n)).split("")):a.concat((d.getYear(n)+"").split(""));return a},formatValue:function(e){return tt.formatDate(d.dateFormat,s(e),d)},validate:function(t){var n=t.values,i=s(n);return{disabled:a(n),invalid:!("Invalid Date"!=i&&(!d.min||d.min<=i)&&(!d.max||i<=d.max))||!!d.invalid&&e._indexOf(d.invalid,i)!=-1}}}};var ga=$.classes,ya=1,xa=function(e,t){function a(e){clearTimeout(_),_=setTimeout(function(){c("load"!==e.type)},200)}function s(e,t){if(e.length){var a=e.offset().left,s=e[0].offsetLeft,r=e[0].offsetWidth,l=u.offset().left;d=e,void 0===t&&(t=!y),C&&t&&(y?e.attr("data-selected")?i(e):n(e):(i(ne(".mbsc-ms-item-sel",O)),n(e))),w&&(s=S-s-r),"a"==k?a<l?M.scroll(w?s+r-b:-s,Y,!0):a+r>l+b&&M.scroll(w?s:b-s-r,Y,!0):M.scroll(b/2-s-r/2,Y,!0),t&&A("onItemTap",{target:e[0]})}}function n(e){e.addClass(T).attr("data-selected","true").attr("aria-selected","true")}function i(e){e.removeClass(T).removeAttr("data-selected").removeAttr("aria-selected")}function r(e){return"object"!==("undefined"==typeof e?"undefined":j(e))&&(e=O.children('[data-id="'+e+'"]')),ne(e)}function l(){v&&"inline"!=v&&m.find(".mbsc-page").css("padding-"+v,"")}function o(){var e,t;O.find(".mbsc-ripple").remove(),O.children().each(function(a){var s,n=ne(this),i=C&&"true"==n.attr("data-selected"),r="true"==n.attr("data-disabled"),l=n.attr("data-icon"),o=n.attr("data-ref");o||(o=ya++),0===a&&(h=n),C&&!y&&i&&(d=n),l&&(e=!0),n.text()&&(t=!0),s="mbsc-ms-item "+(D.itemClass||"")+(D.tapHighlight?" mbsc-btn-e":"")+(i?T:"")+(r?" mbsc-btn-d "+(D.disabledClass||""):"")+(l?" mbsc-ms-ic mbsc-ic mbsc-ic-"+l:""),n.attr("data-ref",o).attr("data-role","button").attr("aria-selected",i?"true":"false").attr("aria-disabled",r?"true":"false").removeClass(I[o]).addClass(s),I[o]=s}),e?u.addClass("mbsc-ms-icons"):u.removeClass("mbsc-ms-icons"),t?u.addClass("mbsc-ms-txt"):u.removeClass("mbsc-ms-txt")}function c(t,a){var s=D.itemWidth,n=D.layout;F.contWidth=b=u.width(),t&&x===b||!b||(x=b,$.util.isNumeric(n)&&(g=b?b/n:s,g<s&&(n="liquid")),s&&("liquid"==n?g=b?b/Math.min(Math.floor(b/s),O.children().length):s:"fixed"==n&&(g=s)),g&&O.children().css("width",g+"px"),"inline"!=v&&m.find(".mbsc-page").css("padding-"+v,e.offsetHeight+"px"),F.totalWidth=S=e.offsetWidth,le(M.settings,{contSize:b,maxSnapScroll:!!D.paging&&1,maxScroll:0,minScroll:S>b?b-S:0,snap:D.paging?b:!!D.snap&&(g||".mbsc-ms-item"),elastic:S>b&&(g||b)}),M.refresh(a))}var d,u,m,h,f,p,b,v,g,y,x,_,w,C,T,M,k,D,S,V,A,I={},Y=1e3,F=this,O=ne(e);ga.Base.call(this,e,t,!0),F.navigate=function(e,t){s(r(e),t)},F.next=function(e){var t=d?d.next():h;t.length&&(d=t,s(d,e))},F.prev=function(e){var t=d?d.prev():h;t.length&&(d=t,s(d,e))},F.select=function(e){y||i(ne(".mbsc-ms-item-sel",O)),n(r(e))},F.deselect=function(e){i(r(e))},F.enable=function(e){r(e).removeClass("mbsc-btn-d").removeAttr("data-disabled").removeAttr("aria-disabled")},F.disable=function(e){r(e).addClass("mbsc-btn-d").attr("data-disabled","true").attr("aria-disabled","true")},F.refresh=F.position=function(e){o(),c(!1,e)},F._init=function(){m=ne(D.context),f=ne("body"==D.context?window:D.context),"tabs"==D.type?(D.select=D.select||"single",D.variant=D.variant||"b"):"options"==D.type?(D.select=D.select||"multiple",D.variant=D.variant||"a"):"menu"==D.type&&(D.select=D.select||"off",D.variant=D.variant||"a"),D.itemWidth&&void 0===D.snap&&(D.snap=!0),l(),v=D.display,w=D.rtl,k=D.variant,C="off"!=D.select,y="multiple"==D.select,T=" mbsc-ms-item-sel "+(D.activeClass||""),p="mbsc-ms-c mbsc-no-touch mbsc-ms-"+k+" mbsc-ms-"+v+" mbsc-"+D.theme+" "+(D.baseTheme?" mbsc-"+D.baseTheme:"")+" "+(D.cssClass||"")+" "+(D.wrapperClass||"")+(w?" mbsc-ms-rtl":" mbsc-ms-ltr")+(D.itemWidth?" mbsc-ms-hasw":"")+("body"==D.context?"":" mbsc-ms-ctx")+(C?"":" mbsc-ms-nosel"),u?(u.attr("class",p),O.off(".mbsc-ripple")):(u=ne('<div class="'+p+'"><div class="mbsc-ms-sc"></div></div>').insertAfter(O),u.find(".mbsc-ms-sc").append(O),M=new $e(u[0],{axis:"X",contSize:0,maxScroll:0,maxSnapScroll:1,minScroll:0,snap:1,elastic:1,rtl:w,mousewheel:D.mousewheel,thresholdX:D.threshold,onStart:function(e){V||"touchstart"!=e.domEvent.type||(V=!0,m.find(".mbsc-no-touch").removeClass("mbsc-no-touch"))},onBtnTap:function(e){s(ne(e.target),!0)},onGestureStart:function(e){A("onGestureStart",e)},onGestureEnd:function(e){A("onGestureEnd",e)},onMove:function(e){A("onMove",e)},onAnimationStart:function(e){A("onAnimationStart",e)},onAnimationEnd:function(e){A("onAnimationEnd",e)}})),O.css("display","").addClass("mbsc-ms "+(D.groupClass||"")),o(),A("onMarkupReady",{target:u[0]}),c(),u.find("img").on("load",a),f.on("orientationchange resize",a)},F._destroy=function(){l(),f.off("orientationchange resize",a),O.removeClass("mbsc-ms mbsc-ms-a mbsc-ms-b").insertAfter(u).find(".mbsc-ms-item").each(function(){var e=ne(this);e.width("").removeClass(I[e.attr("data-ref")])}),u.remove(),M.destroy()},D=F.settings,A=F.trigger,F.init(t)};xa.prototype={_class:"menustrip",_hasDef:!0,_hasTheme:!0,_hasLang:!0,_defaults:{context:"body",type:"options",display:"inline",layout:"liquid",tapHighlight:!0}},ga.MenuStrip=xa,$.presetShort("menustrip","MenuStrip");var _a=function(e,t,a){function s(e){ne(".mbsc-fr-c",e).hasClass("mbsc-wdg-c")||(ne(".mbsc-fr-c",e).addClass("mbsc-wdg-c").append(l.show()),ne(".mbsc-w-p",e).length||ne(".mbsc-fr-c",e).addClass("mbsc-w-p"))}var n,i,r,l=ne(e),o=this;ke.call(this,e,t,!0),o._generateContent=function(){return""},o._markupReady=function(e){"inline"!=n.display&&s(e)},o._markupInserted=function(e){"inline"==n.display&&s(e),e.trigger("mbsc-enhance",[{theme:n.theme,lang:n.lang}])},o._markupRemove=function(){l.hide(),i?i.prepend(l):r.after(l)},o.__processSettings=function(){n=o.settings,o.buttons.ok={text:n.okText,icon:n.okIcon,handler:"set"},n.buttons=n.buttons||("inline"==n.display?[]:["ok"]),i||r||(r=l.prev(),r.length||(i=l.parent())),l.hide()},o.__init=function(){n.cssClass=(n.cssClass||"")+" mbsc-wdg"},a||o.init(t)};_a.prototype={_hasDef:!0,_hasTheme:!0,_hasContent:!0,_class:"widget",_defaults:le({},ke.prototype._defaults,{okText:"OK",headerText:!1})},$.classes.Widget=_a,$.themes.widget=$.themes.frame,$.presetShort("widget","Widget",!1);var wa=$.classes,Ca=function(e,t){var a="",s=ne(e),n=this,i=n.settings;wa.Base.call(this,e,t,!0),n._init=function(){var e=i.context,t=ne(e),n=t.find(".mbsc-ms-top .mbsc-ms"),r=t.find(".mbsc-ms-bottom .mbsc-ms"),l={};"body"==e?ne("body,html").addClass("mbsc-page-ctx"):t.addClass("mbsc-page-ctx"),a&&s.removeClass(a),n.length&&(l.paddingTop=n[0].offsetHeight),r.length&&(l.paddingBottom=r[0].offsetHeight),a="mbsc-page mbsc-"+i.theme+(i.baseTheme?" mbsc-"+i.baseTheme:"")+(i.rtl?" mbsc-rtl":" mbsc-ltr"),s.addClass(a).css(l)},n._destroy=function(){s.removeClass(a)},i=n.settings,n.init(t)};Ca.prototype={_hasDef:!0,_hasTheme:!0,_hasLang:!0,_class:"page",_defaults:{context:"body"}},wa.Page=Ca,$.themes.page.mobiscroll={},$.presetShort("page","Page"),ne(function(){var e="[mbsc-page]";ne(e).each(function(){new wa.Page(this)}),ne(document).on("mbsc-enhance",function(t,a){ne(t.target).is(e)?new wa.Page(t.target,a):ne(e,t.target).each(function(){new wa.Page(this,a)})})});var Ta=!!window.Promise,Ma=[],ka=[];$.alert=function(e){var t=document.createElement("div");return t.innerHTML=V(e),E(A,t,e)},$.confirm=function(e){var t=document.createElement("div");return t.innerHTML=V(e),E(I,t,e)},$.prompt=function(e){var t=document.createElement("div");return t.innerHTML=V(e)+'<label class="mbsc-input">'+(e.label?'<span class="mbsc-label">'+e.label+"</span>":"")+'<input type="'+(e.inputType||"text")+'" placeholder="'+(e.placeholder||"")+'" value="'+(e.value||"")+'"></label>',E(Y,t,e)},$.snackbar=function(e){var t=document.createElement("div");return t.innerHTML='<div class="mbsc-snackbar-cont"><div class="mbsc-snackbar-msg">'+(e.message||"")+"</div>"+(e.button?'<button class="mbsc-snackbar-btn mbsc-btn mbsc-btn-flat">'+(e.button.text||"")+"</button>":"")+"</div>",E(F,t,e)},$.toast=function(e){var t=document.createElement("div");return t.innerHTML='<div class="mbsc-toast-msg">'+(e.message||"")+"</div>",E(O,t,e)};var Da=$.util,Sa=Da.getCoord,Va=Da.testTouch,Aa=["touchstart","touchmove","touchend","touchcancel","mousedown","mousemove","mouseup","mouseleave"],Ia={tap:!0},Ya=void 0,Fa=function(){function e(t,a){var s=this;R(this,e);var n=le({},Ia,a),i=ne(t),r=i.parent(),l=r.hasClass("mbsc-input-wrap")?r.parent():r,o=i.next().hasClass("mbsc-fr")?i.next():null,c=H(i);o&&o.insertAfter(l),f(l,c),i.addClass("mbsc-control"),Aa.forEach(function(e){t.addEventListener(e,s)}),this.settings=n,this._type=c,this._elm=t,this._$elm=i,this._$parent=l,this._$frame=o,this._ripple=P(n.theme)}return q(e,[{key:"destroy",value:function(){var e=this;this._$elm.removeClass("mbsc-control"),Aa.forEach(function(t){e._elm.removeEventListener(t,e)})}},{key:"option",value:function(e){le(this.settings,e),this._ripple=P(this.settings.theme)}},{key:"handleEvent",value:function(e){switch(e.type){case"touchstart":case"mousedown":this._onStart(e);break;case"touchmove":case"mousemove":this._onMove(e);break;case"touchend":case"touchcancel":case"mouseup":case"mouseleave":this._onEnd(e)}}},{key:"_addRipple",value:function(e){this._ripple&&this._$rippleElm&&this._ripple.addRipple(this._$rippleElm,e)}},{key:"_removeRipple",value:function(){this._ripple&&this._$rippleElm&&this._ripple.removeRipple()}},{key:"_onStart",value:function(e){var t=this._elm;Va(e,t)&&(this._startX=Sa(e,"X"),this._startY=Sa(e,"Y"),Ya&&Ya.removeClass("mbsc-active"),t.disabled||(this._isActive=!0,Ya=this._$elm,Ya.addClass("mbsc-active"),this._addRipple(e)))}},{key:"_onMove",value:function(e){(this._isActive&&Math.abs(Sa(e,"X")-this._startX)>9||Math.abs(Sa(e,"Y")-this._startY)>9)&&(this._$elm.removeClass("mbsc-active"),this._removeRipple(),this._isActive=!1)}},{key:"_onEnd",value:function(e){var t=this,a=this._elm,s=this._type;if(this._isActive&&this.settings.tap&&"touchend"==e.type&&!a.readOnly&&(a.focus(),/(button|submit|checkbox|switch|radio)/.test(s)&&e.preventDefault(),!/select/.test(s))){var n=(e.originalEvent||e).changedTouches[0],i=document.createEvent("MouseEvents");i.initMouseEvent("click",!0,!0,window,1,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),i.tap=!0,a.mbscChange=!0,a.dispatchEvent(i),Da.preventClick()}this._isActive&&setTimeout(function(){t._$elm.removeClass("mbsc-active"),t._removeRipple()},100),this._isActive=!1,Ya=null}}]),e}(),Oa=function(e){function t(e){R(this,t);var a=B(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return h(a,a._$parent,a._$elm),a._$parent.addClass("mbsc-input"),a}return U(t,e),q(t,[{key:"destroy",value:function(){X(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this),this._$parent.removeClass("mbsc-ic-left mbsc-ic-right").find(".mbsc-input-ic").remove()}}]),t}(Fa),Ea=function(e){function t(e,a){R(this,t);var s=B(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,a)),n=s._$elm,i=n.attr("data-icon");return n.addClass("mbsc-btn").find(".mbsc-btn-ic").remove(),i&&(n.prepend('<span class="mbsc-btn-ic mbsc-ic mbsc-ic-'+i+'"></span>'),""===n.text()&&n.addClass("mbsc-btn-icon-only")),s._$rippleElm=n,s}return U(t,e),t}(Fa),Ha=function(e){function t(e){R(this,t);var a=B(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a._$parent.prepend(a._$elm).addClass("mbsc-checkbox mbsc-control-w").find(".mbsc-checkbox-box").remove(),a._$elm.after('<span class="mbsc-checkbox-box"></span>'),a}return U(t,e),t}(Fa),Pa=function(e){function t(e){R(this,t);var a=B(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a._$parent.addClass("mbsc-radio mbsc-control-w").find(".mbsc-radio-box").remove(),a._$elm.after('<span class="mbsc-radio-box"><span></span></span>'),a}return U(t,e),t}(Fa),La=function(e){function t(e){R(this,t);var a=B(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),s=a._$elm,n=a._$parent,i=n.find("input.mbsc-control"),r=i.length?i:ne('<input tabindex="-1" class="mbsc-control" readonly>');return a._$input=r,n.addClass("mbsc-select"+(a._$frame?" mbsc-select-inline":"")),s.after(r),r.after('<span class="mbsc-select-ic mbsc-ic mbsc-ic-arrow-down5"></span>'),r.hasClass("mbsc-comp")||(e.addEventListener("change",a),a._setText()),a}return U(t,e),q(t,[{key:"destroy",value:function(){X(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this),this._$elm.after(this._$input),this._elm.removeEventListener("change",this)}},{key:"handleEvent",value:function(e){X(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"handleEvent",this).call(this,e),"change"==e.type&&this._setText()}},{key:"_setText",value:function(){var e=this._elm;this._$input.val(e.selectedIndex!=-1?e.options[e.selectedIndex].text:"")}}]),t}(Oa),Na=["keydown","input","scroll"],Wa=void 0;ne(window).on("resize orientationchange",L);var $a=function(e){function t(e){R(this,t);var a=B(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a._$parent.addClass("mbsc-textarea"),Na.forEach(function(e){a._elm.addEventListener(e,a)}),N(e),a}return U(t,e),q(t,[{key:"destroy",value:function(){var e=this;X(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this),Na.forEach(function(t){e._elm.removeEventListener(t,e)})}},{key:"handleEvent",value:function(e){switch(X(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"handleEvent",this).call(this,e),e.type){case"keydown":case"input":this._onInput(e);break;case"scroll":W(this._elm)}}},{key:"_onInput",value:function(){var e=this;clearTimeout(this._debounce),this._debounce=setTimeout(function(){N(e._elm)},100)}}]),t}(Oa),ja=function(e){function t(e,a){R(this,t);var s=B(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,a)),n=void 0,i=void 0,r=s._$elm,l=s._$parent;return l.hasClass("mbsc-segmented-item-ready")||(n=ne('<div class="mbsc-segmented"></div>'),l.after(n),l.parent().find('input[name="'+r.attr("name")+'"]').each(function(){var e=ne(this);i=e.parent().addClass("mbsc-segmented-item mbsc-segmented-item-ready"),ne('<span class="mbsc-segmented-content">'+(e.attr("data-icon")?'<span class="mbsc-ic mbsc-ic-'+e.attr("data-icon")+'"></span>':"")+"</span>").append(i.contents()).appendTo(i),i.prepend(e),n.append(i)})),s._$rippleElm=r.next(),s}return U(t,e),t}(Fa),Ra=$.util,qa=Ra.getCoord,Xa=Ra.testTouch,Ua=function(e,t){
function a(t){32==t.keyCode&&(t.preventDefault(),b||e.disabled||(m=ne(this).addClass("mbsc-active"),c(t)))}function s(e){b&&(e.preventDefault(),d(!0))}function n(t){Xa(t,this)&&!e.disabled&&(m=ne(this).addClass("mbsc-active").trigger("focus"),k&&!m.hasClass("mbsc-step-disabled")&&k.addRipple(m.find(".mbsc-segmented-content"),t),c(t),"mousedown"===t.type&&ne(document).on("mousemove",r).on("mouseup",i))}function i(e){b&&(e.preventDefault(),d(!0,e),"mouseup"===e.type&&ne(document).off("mousemove",r).off("mouseup",i))}function r(e){b&&(_=qa(e,"X"),w=qa(e,"Y"),g=_-V,y=w-A,(Math.abs(g)>7||Math.abs(y)>7)&&d())}function l(){var t;e.disabled||(t=parseFloat(ne(this).val()),o(isNaN(t)?Y:t))}function o(e,t,a){P=Y,void 0===t&&(t=!0),void 0===a&&(a=t),Y=void 0!==e?Math.min(T,Math.max(Math.round(e/D)*D,M)):Math.min(T,Math.max(Y+(m.hasClass("mbsc-stepper-minus")?-D:D),M)),v=!0,p.removeClass("mbsc-step-disabled"),t&&H.val(Y),Y==M?f.addClass("mbsc-step-disabled"):Y==T&&h.addClass("mbsc-step-disabled"),Y!==P&&a&&H.trigger("change")}function c(e){b||(b=!0,v=!1,V=qa(e,"X"),A=qa(e,"Y"),clearInterval(C),clearTimeout(C),C=setTimeout(function(){o(),C=setInterval(function(){o()},150)},300))}function d(e){clearInterval(C),clearTimeout(C),!v&&e&&o(),b=!1,v=!1,m.removeClass("mbsc-active"),k&&setTimeout(function(){k.removeRipple()},100)}function u(e,t){var a=H.attr(e);return void 0===a||""===a?t:+a}var m,h,f,p,b,v,g,y,x,_,w,C,T,M,k,D,S,V,A,I,Y,F,O,E=this,H=ne(e),P=Y;$.classes.Base.call(this,e,t,!0),E.getVal=function(){var e=parseFloat(H.val());return e=isNaN(e)?Y:e,Math.min(T,Math.max(Math.round(e/D)*D,M))},E.setVal=function(e,t,a){e=parseFloat(e),o(isNaN(e)?Y:e,t,a)},E._init=function(o){F=H.parent().hasClass("mbsc-stepper"),O=F?H.closest(".mbsc-stepper-cont"):H.parent(),S=E.settings,M=void 0===o.min?u("min",S.min):o.min,T=void 0===o.max?u("max",S.max):o.max,D=void 0===o.step?u("step",S.step):o.step,x=H.attr("data-val")||S.val,Y=Math.min(T,Math.max(Math.round(+e.value/D)*D||0,M)),I=$.themes.form[t.theme],k=I&&I.addRipple?I:null,F||O.addClass("mbsc-stepper-cont mbsc-control-w").append('<span class="mbsc-segmented mbsc-stepper"></span>').find(".mbsc-stepper").append('<span class="mbsc-segmented-item mbsc-stepper-control mbsc-stepper-minus '+(Y==M?"mbsc-step-disabled":"")+'"  tabindex="0"><span class="mbsc-segmented-content"><span class="mbsc-ic mbsc-ic-minus"></span></span></span>').append('<span class="mbsc-segmented-item mbsc-stepper-control mbsc-stepper-plus '+(Y==T?"mbsc-step-disabled":"")+'"  tabindex="0"><span class="mbsc-segmented-content"> <span class="mbsc-ic mbsc-ic-plus"></span> </span></span>').prepend(H),f=ne(".mbsc-stepper-minus",O),h=ne(".mbsc-stepper-plus",O),F||("left"==x?(O.addClass("mbsc-stepper-val-left"),H.after('<span class="mbsc-segmented-item"><span class="mbsc-segmented-content"></span></span>')):"right"==x?(O.addClass("mbsc-stepper-val-right"),h.after('<span class="mbsc-segmented-item"><span class="mbsc-segmented-content"></span></span>')):f.after('<span class="mbsc-segmented-item"><span class="mbsc-segmented-content mbsc-stepper-val"></span></span>')),H.val(Y).attr("data-role","stepper").attr("min",M).attr("max",T).attr("step",D).on("change",l),p=ne(".mbsc-stepper-control",O).on("keydown",a).on("keyup",s).on("mousedown touchstart",n).on("touchmove",r).on("touchend touchcancel",i),H.addClass("mbsc-stepper-ready mbsc-control")},E._destroy=function(){H.removeClass("mbsc-control").off("change",l),p.off("keydown",a).off("keyup",s).off("mousedown touchstart",n).off("touchmove",r).off("touchend touchcancel",i)},E.init(t)};Ua.prototype={_class:"stepper",_defaults:{min:0,max:100,step:1}},$.classes.Stepper=Ua,$.presetShort("stepper","Stepper");var Ba=function(e,t){var a,s,n,i,r=this;t=t||{},le(t,{changeEvent:"click",round:!1}),Ft.call(this,e,t,!0),r._readValue=function(){return e.checked?1:0},r._fillValue=function(e,t,s){a.prop("checked",!!e),s&&a.trigger("change")},r._onTap=function(e){r._setVal(e?0:1)},r.___init=function(){n=r.settings,a=ne(e),s=a.parent(),s.find(".mbsc-switch-track").remove(),s.prepend(a),a.attr("data-role","switch").after('<span class="mbsc-progress-cont mbsc-switch-track"><span class="mbsc-progress-track mbsc-progress-anim"><span class="mbsc-slider-handle-cont"><span class="mbsc-slider-handle mbsc-switch-handle" data-index="0"><span class="mbsc-switch-txt-off">'+n.offText+'</span><span class="mbsc-switch-txt-on">'+n.onText+"</span></span></span></span></span>"),i=new Fa(e),r._$track=s.find(".mbsc-progress-track"),r._min=0,r._max=1,r._step=1},r.___destroy=function(){i.destroy()},r.getVal=function(){return e.checked},r.setVal=function(e,t,a){r._setVal(e?1:0,t,a)},r.init(t)};Ba.prototype={_class:"switch",_css:"mbsc-switch",_hasTheme:!0,_hasLang:!0,_defaults:{stopProp:!0,offText:"Off",onText:"On"}},$.classes.Switch=Ba,$.presetShort("switch","Switch");var za=0,Ka=$.classes,Ga=$.instances,Za=function(e,t){function a(){r.removeClass("mbsc-no-touch")}var s,n,i="",r=ne(e),l={},o=this;Ka.Base.call(this,e,t,!0),o.refresh=function(e){ne("input,select,textarea,progress,button",r).each(function(){var e=this,t=ne(e),a=H(t);if("false"!=t.attr("data-enhance"))if(t.hasClass("mbsc-control"))l[e.id]&&l[e.id].option({theme:s.theme,lang:s.lang,rtl:s.rtl,onText:s.onText,offText:s.offText,stopProp:s.stopProp});else switch(e.id||(e.id="mbsc-form-control-"+ ++za),a){case"button":case"submit":l[e.id]=new Ea(e,{theme:s.theme,tap:s.tap});break;case"switch":l[e.id]=new Ba(e,{theme:s.theme,lang:s.lang,rtl:s.rtl,onText:s.onText,offText:s.offText,stopProp:s.stopProp});break;case"checkbox":l[e.id]=new Ha(e,{tap:s.tap});break;case"range":ne(e).parent().hasClass("mbsc-slider")||(l[e.id]=new Ot(e,{theme:s.theme,lang:s.lang,rtl:s.rtl,stopProp:s.stopProp}));break;case"progress":l[e.id]=new St(e,{theme:s.theme,lang:s.lang,rtl:s.rtl});break;case"radio":l[e.id]=new Pa(e,{tap:s.tap});break;case"select":case"select-one":case"select-multiple":l[e.id]=new La(e,{tap:s.tap});break;case"textarea":l[e.id]=new $a(e,{tap:s.tap});break;case"segmented":l[e.id]=new ja(e,{theme:s.theme,tap:s.tap});break;case"stepper":l[e.id]=new Ua(e,{theme:s.theme});break;case"hidden":return;default:l[e.id]=new Oa(e,{tap:s.tap})}}),e||L()},o._init=function(){$.themes.form[s.theme]||(s.theme="mobiscroll"),r.hasClass("mbsc-form")||r.on("touchstart",a).show(),i&&r.removeClass(i),i="mbsc-form mbsc-no-touch mbsc-"+s.theme+(s.baseTheme?" mbsc-"+s.baseTheme:"")+(s.rtl?" mbsc-rtl":" mbsc-ltr"),r.addClass(i),o.refresh()},o._destroy=function(){r.removeClass(i).off("touchstart",a);for(var e in l)l[e].destroy()},s=o.settings,n=o.trigger,o.init(t)};Za.prototype={_hasDef:!0,_hasTheme:!0,_hasLang:!0,_class:"form",_defaults:{tap:!0,stopProp:!0,lang:"en"}},$.themes.form.mobiscroll={},$.classes.Form=Za,$.presetShort("form","Form"),ne(function(){var e="[mbsc-enhance],[mbsc-form]";ne(e).each(function(){new Za(this)}),ne(document).on("mbsc-enhance",function(t,a){ne(t.target).is(e)?new Za(t.target,a):ne(e,t.target).each(function(){new Za(this,a)})}),ne(document).on("mbsc-refresh",function(t){var a;ne(t.target).is(e)?(a=Ga[t.target.id],a&&a.refresh()):ne(e,t.target).each(function(){a=Ga[this.id],a&&a.refresh()})})});var Ja=$.util,Qa=Ja.datetime,es=Qa.adjustedDate,ts=$.presets.scroller,as={labelsShort:["Yrs","Mths","Days","Hrs","Mins","Secs"],eventText:"event",eventsText:"events"};$.presetShort("eventcalendar"),ts.eventcalendar=function(e){function t(e){if(e){if(_[e])return _[e];var t=ne('<div style="background-color:'+e+';"></div>').appendTo("body"),a=window.getComputedStyle?getComputedStyle(t[0]):t[0].style,s=a.backgroundColor.replace(/rgb|rgba|\(|\)|\s/g,"").split(","),n=.299*s[0]+.587*s[1]+.114*s[2],i=n>130?"#000":"#fff";return t.remove(),_[e]=i,i}}function a(e){var t=C.labelsShort,a=Math.abs(e)/1e3,s=a/60,n=s/60,i=n/24,r=i/365;return a<45&&Math.round(a)+" "+t[5].toLowerCase()||s<45&&Math.round(s)+" "+t[4].toLowerCase()||n<24&&Math.round(n)+" "+t[3].toLowerCase()||i<30&&Math.round(i)+" "+t[2].toLowerCase()||i<365&&Math.round(i/30)+" "+t[1].toLowerCase()||Math.round(r)+" "+t[0].toLowerCase()}function s(e){return e.sort(function(e,t){var a=e.d||e.start,s=t.d||t.start,n=a.getTime?e.start&&e.end&&e.start.toDateString()!==e.end.toDateString()?1:a.getTime():0,i=s.getTime?t.start&&t.end&&t.start.toDateString()!==t.end.toDateString()?1:s.getTime():0;return n-i})}function n(e){var t,a=ne(".mbsc-cal-c",d)[0].offsetHeight,s=e[0].offsetHeight,n=e[0].offsetWidth,i=e.offset().top-ne(".mbsc-cal-c",d).offset().top,r=e.closest(".mbsc-cal-row").index()<2;t=u.addClass("mbsc-cal-events-t").css({top:r?i+s:"0",bottom:r?"0":a-i}).addClass("mbsc-cal-events-v").height(),u.css(r?"bottom":"top","auto").removeClass("mbsc-cal-events-t"),p.css("max-height",t),f.refresh(),f.scroll(0),r?u.addClass("mbsc-cal-events-b"):u.removeClass("mbsc-cal-events-b"),ne(".mbsc-cal-events-arr",u).css("left",e.offset().left-u.offset().left+n/2)}function i(i,r){var l=h[i];if(l){var o,c,d,p,y,x,_='<ul class="mbsc-cal-event-list">';g=0,m=r,r.addClass(T).find(".mbsc-cal-day-i").addClass(k),r.hasClass(M)&&r.attr("data-hl","true").removeClass(M),s(l),ne.each(l,function(e,s){p=s.d||s.start,y=s.start&&s.end&&s.start.toDateString()!==s.end.toDateString(),d=s.color,x=t(d),o="",c="",p.getTime&&(o=Qa.formatDate((y?"MM d yy ":"")+C.timeFormat,p)),s.end&&(c=Qa.formatDate((y?"MM d yy ":"")+C.timeFormat,s.end)),_+='<li role="button" aria-label="'+s.text+(o?", "+C.fromText+" "+o:"")+(c?", "+C.toText+" "+c:"")+'" class="mbsc-cal-event"><div class="mbsc-cal-event-color" style="'+(d?"background:"+d+";":"")+'"></div><div class="mbsc-cal-event-text">'+(p.getTime&&!y?'<div class="mbsc-cal-event-time">'+Qa.formatDate(C.timeFormat,p)+"</div>":"")+s.text+"</div>"+(s.start&&s.end?'<div class="mbsc-cal-event-dur">'+a(s.end-s.start)+"</div>":"")+"</li>"}),_+="</ul>",b.html(_),e.trigger("onEventBubbleShow",{target:m[0],eventList:u[0]}),n(m),e.tap(ne(".mbsc-cal-event",b),function(t){f.scrolled||e.trigger("onEventSelect",{domEvent:t,event:l[ne(this).index()],date:i})}),v=!0}}function r(){u&&u.removeClass("mbsc-cal-events-v"),m&&(m.removeClass(T).find(".mbsc-cal-day-i").removeClass(k),m.attr("data-hl")&&m.removeAttr("data-hl").addClass(M)),v=!1}function l(){r(),e.redraw()}function o(e){return es(e.getFullYear(),e.getMonth(),e.getDate())}var c,d,u,m,h,f,p,b,v,g,y,x,_={},w=le({},e.settings),C=le(e.settings,as,w),T="mbsc-cal-day-sel mbsc-cal-day-ev",M="mbsc-cal-day-hl",k=C.activeClass||"",D=C.showEventCount,S=0,V=le(!0,[],C.data);return y=ts.calbase.call(this,e),c=le({},y),ne.each(V,function(e,t){void 0===t._id&&(t._id=S++)}),e.onGenMonth=function(t,a){h=e.prepareObj(V,t,a)},e.getDayProps=function(e){var a,s=!!h[e]&&h[e],n=s?h[e].length+" "+(h[e].length>1?C.eventsText:C.eventText):0,i=s&&s[0]&&s[0].color,r=D&&n?t(i):"",l="",o="";if(s){for(a=0;a<s.length;a++)s[a].icon&&(l+='<span class="mbsc-ic mbsc-ic-'+s[a].icon+'"'+(s[a].text?"":s[a].color?' style="color:'+s[a].color+';"':"")+"></span>\n");for(o='<div class="mbsc-cal-day-m"><div class="mbsc-cal-day-m-t">',a=0;a<s.length;a++)o+='<div class="mbsc-cal-day-m-c"'+(s[a].color?' style="background:'+s[a].color+';"':"")+"></div>";o+="</div></div>"}return{marked:s,selected:!1,cssClass:s?"mbsc-cal-day-marked":"",ariaLabel:D?n:"",markup:D&&n?'<div class="mbsc-cal-day-txt-c"><div class="mbsc-cal-day-txt" title="'+ne("<div>"+n+"</div>").text()+'"'+(i?' style="background:'+i+";color:"+r+';text-shadow:none;"':"")+">"+l+n+"</div></div>":D&&l?'<div class="mbsc-cal-day-ic-c">'+l+"</div>":s?o:""}},e.addEvent=function(e){var t=[];return e=le(!0,[],ne.isArray(e)?e:[e]),ne.each(e,function(e,a){void 0===a._id&&(a._id=S++),V.push(a),t.push(a._id)}),l(),t},e.removeEvent=function(e){e=ne.isArray(e)?e:[e],ne.each(e,function(e,t){ne.each(V,function(e,a){if(a._id===t)return V.splice(e,1),!1})}),l()},e.getEvents=function(t){var a;return t?(t.setHours(0,0,0,0),a=e.prepareObj(V,t.getFullYear(),t.getMonth()),a[t]?s(a[t]):[]):le(!0,[],V)},e.setEvents=function(e){var t=[];return V=le(!0,[],e),ne.each(V,function(e,a){void 0===a._id&&(a._id=S++),t.push(a._id)}),l(),t},le(y,{highlight:!1,outerMonthChange:!1,headerText:!1,buttons:"inline"!==C.display?["close"]:C.buttons,onMarkupReady:function(t){c.onMarkupReady.call(this,t),d=ne(t.target),D&&ne(".mbsc-cal",d).addClass("mbsc-cal-ev"),d.addClass("mbsc-cal-em"),u=ne('<div class="mbsc-cal-events '+(C.eventBubbleClass||"")+'"><div class="mbsc-cal-events-arr"></div><div class="mbsc-cal-events-i"><div class="mbsc-cal-events-sc"></div></div></div>').appendTo(ne(".mbsc-cal-c",d)),p=ne(".mbsc-cal-events-i",u),b=ne(".mbsc-cal-events-sc",u),f=new $.classes.ScrollView(p[0]),v=!1,e.tap(p,function(){f.scrolled||r()})},onMonthChange:function(){r()},onSelectShow:function(){r()},onMonthLoaded:function(){x&&(i(x.d,ne('.mbsc-cal-day-v[data-full="'+x.full+'"]:not(.mbsc-cal-day-diff)',d)),x=!1)},onDayChange:function(t){var a=t.date,s=o(a),n=ne(t.target);return r(),n.hasClass("mbsc-cal-day-ev")||setTimeout(function(){e.changing?x={d:s,full:n.attr("data-full")}:i(s,n)},10),!1},onCalResize:function(){v&&n(m)},onHide:function(){c.onHide.call(e),f&&f.destroy()}}),y};var ss=$.presets.scroller,ns={min:0,max:100,defaultUnit:"km",units:["m","km","in","ft","yd","mi"]},is={mm:.001,cm:.01,dm:.1,m:1,dam:10,hm:100,km:1e3,in:.0254,ft:.3048,yd:.9144,ch:20.1168,fur:201.168,mi:1609.344,lea:4828.032};$.presetShort("distance"),ss.distance=function(e){var t=le({},ns,e.settings);return le(e.settings,t,{sign:!1,convert:function(e,t,a){return e*is[t]/is[a]}}),ss.measurement.call(this,e)};var rs=$.presets.scroller,ls={min:0,max:100,defaultUnit:"N",units:["N","kp","lbf","pdl"]},os={N:1,kp:9.80665,lbf:4.448222,pdl:.138255};$.presetShort("force"),rs.force=function(e){var t=le({},ls,e.settings);return le(e.settings,t,{sign:!1,convert:function(e,t,a){return e*os[t]/os[a]}}),rs.measurement.call(this,e)};var cs=$.presets.scroller,ds={min:0,max:1e3,defaultUnit:"kg",units:["g","kg","oz","lb"],unitNames:{tlong:"t (long)",tshort:"t (short)"}},us={mg:.001,cg:.01,dg:.1,g:1,dag:10,hg:100,kg:1e3,t:1e6,drc:1.7718452,oz:28.3495,lb:453.59237,st:6350.29318,qtr:12700.58636,cwt:50802.34544,tlong:1016046.9088,tshort:907184.74};$.presetShort("mass"),cs.mass=function(e){var t=le({},ds,e.settings);return le(e.settings,t,{sign:!1,convert:function(e,t,a){return e*us[t]/us[a]}}),cs.measurement.call(this,e)};var ms=$.presets.scroller,hs={min:0,max:100,defaultUnit:"kph",units:["kph","mph","mps","fps","knot"],unitNames:{kph:"km/h",mph:"mi/h",mps:"m/s",fps:"ft/s",knot:"knot"}},fs={kph:1,mph:1.60934,mps:3.6,fps:1.09728,knot:1.852};$.presetShort("speed"),ms.speed=function(e){var t=le({},hs,e.settings);return le(e.settings,t,{sign:!1,convert:function(e,t,a){return e*fs[t]/fs[a]}}),ms.measurement.call(this,e)};var ps=$.presets.scroller,bs={min:-20,max:40,defaultUnit:"c",units:["c","k","f","r"],unitNames:{c:"C",k:"K",f:"F",r:"R"}},vs={c2k:function(e){return e+273.15},c2f:function(e){return 9*e/5+32},c2r:function(e){return 9*(e+273.15)/5},k2c:function(e){return e-273.15},k2f:function(e){return 9*e/5-459.67},k2r:function(e){return 9*e/5},f2c:function(e){return 5*(e-32)/9},f2k:function(e){return 5*(e+459.67)/9},f2r:function(e){return e+459.67},r2c:function(e){return 5*(e-491.67)/9},r2k:function(e){return 5*e/9},r2f:function(e){return e-459.67}};$.presetShort("temperature"),ps.temperature=function(e){var t=le({},bs,e.settings);return le(e.settings,t,{sign:!0,convert:function(e,t,a){return vs[t+"2"+a](e)}}),ps.measurement.call(this,e)},$.customTheme("mobiscroll-dark","mobiscroll");var gs=$.themes,ys=void 0;return"android"==ee.name?ys=ee.majorVersion>=5?"material":"android-holo":"ios"==ee.name?ys="ios":"wp"==ee.name&&(ys="wp"),$.setAutoTheme=function(){ne.each(gs.frame,function(e,t){return ys&&t.baseTheme==ys&&"android-holo-light"!=e&&"material-dark"!=e&&"wp-light"!=e&&"ios-dark"!=e?($.autoTheme=e,!1):void(e==ys&&($.autoTheme=e))})},$.setAutoTheme(),$.uid="8578b39a",$});
