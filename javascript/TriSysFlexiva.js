var TriSysFlexiva={'PostLogin':{'Initialise':function(){TriSysFlexiva['AppToolBar']['GUI']['Apply'](),TriSysFlexiva['ActivityMetrics']['GUI']['Apply'](TriSysFlexiva['ActivityMetrics']['Scheduler']['Timer']);}},'LoggingOff':function(){TriSysFlexiva['ActivityMetrics']['Scheduler']['Timer']({'CancelExistingTimer':!![],'LoggingOff':!![]});},'Forms':{'WebAPI':{'ReadForms':function(fnCallback,options){var folderRequest={'Recursion':!![],'RecursionDepth':0x1};if(options&&options['ReadFileDetail'])folderRequest['ReadFileDetail']=!![];var payloadObject={};payloadObject['URL']=TriSysFlexiva['Settings']['FoldersAndFilesAPI'],payloadObject['OutboundDataPacket']=folderRequest,payloadObject['InboundDataFunction']=function(folderResponse){if(folderResponse){if(folderResponse['Success']){const flexivaFolder=folderResponse['Folders']['find'](f=>f['Name']==='Flexiva');if(flexivaFolder){const sServerFormsFolder=flexivaFolder['FullPath']+'\x5cForms';folderRequest['RootFolder']=sServerFormsFolder,payloadObject['OutboundDataPacket']=folderRequest,payloadObject['InboundDataFunction']=function(secondFolderResponse){TriSysApex['UI']['HideWait']();if(secondFolderResponse){if(secondFolderResponse['Success']){const lstFile=secondFolderResponse['Files'];lstFile&&lstFile['forEach'](function(file){file['Name']=file['Name']['replace']('.json','');}),fnCallback&&fnCallback(lstFile,sServerFormsFolder);}else TriSysApex['UI']['ShowMessage'](folderResponse['ErrorMessage']);}},TriSysAPI['Data']['PostToWebAPI'](payloadObject);}else TriSysApex['UI']['HideWait'](),TriSysApex['UI']['ShowMessage']('Custom\x20Flexiva\x20folder\x20not\x20found');}else TriSysApex['UI']['ShowMessage'](folderResponse['ErrorMessage']);}},payloadObject['ErrorHandlerFunction']=function(request,status,error){TriSysApex['UI']['HideWait'](),TriSysApex['UI']['ErrorHandlerRedirector']('TriSysFlexiva.Forms.WebAPI.ReadForms:\x20',request,status,error);},TriSysApex['UI']['ShowWait'](null,'Reading\x20Forms...'),TriSysAPI['Data']['PostToWebAPI'](payloadObject);},'ReadFile':function(sFullPath,fnCallback){var fileRequest={'FileName':sFullPath},payloadObject={};payloadObject['URL']=TriSysFlexiva['Settings']['ReadFileAPI'],payloadObject['OutboundDataPacket']=fileRequest,payloadObject['InboundDataFunction']=function(fileResponse){TriSysApex['UI']['HideWait']();if(fileResponse){if(fileResponse['Success']){const sJSON=TriSysAPI['Encryption']['Base64']['decode'](fileResponse['Base64Text']);fnCallback(sJSON);}else TriSysApex['UI']['ShowMessage'](fileResponse['ErrorMessage']);}},payloadObject['ErrorHandlerFunction']=function(request,status,error){TriSysApex['UI']['HideWait'](),TriSysApex['UI']['ErrorHandlerRedirector']('TriSysFlexiva.Forms.WebAPI.ReadFile:\x20',request,status,error);},TriSysAPI['Data']['PostToWebAPI'](payloadObject);},'ReadFiles':function(lstFileName,fnCallback){var fileRequest={'FileNames':lstFileName},payloadObject={};payloadObject['URL']=TriSysFlexiva['Settings']['ReadFileAPI'],payloadObject['OutboundDataPacket']=fileRequest,payloadObject['InboundDataFunction']=function(fileResponse){TriSysApex['UI']['HideWait']();if(fileResponse){if(fileResponse['Success']){const sJSON=TriSysAPI['Encryption']['Base64']['decode'](fileResponse['Base64Text']);fnCallback(sJSON);}else TriSysApex['UI']['ShowMessage'](fileResponse['ErrorMessage']);}},payloadObject['ErrorHandlerFunction']=function(request,status,error){TriSysApex['UI']['HideWait'](),TriSysApex['UI']['ErrorHandlerRedirector']('TriSysFlexiva.Forms.WebAPI.ReadFile:\x20',request,status,error);},TriSysAPI['Data']['PostToWebAPI'](payloadObject);}},'Renderer':{'OpenURL':function(sUrl,sDivTag,fnCallback){const formObject=TriSysApex['Forms']['Configuration']['GetJSONFromFileUsingAjax'](sUrl);if(formObject){if(formObject['Developer']&&formObject['Developer']['Scripts']&&formObject['Developer']['Scripts']['length']>0x0){var iLoadedScripts=0x0;const fnLoadedScript=function(sUrl){iLoadedScripts+=0x1;if(iLoadedScripts==formObject['Developer']['Scripts']['length']){const fnCustomFormLoaded=function(){TriSysFlexiva['Forms']['Events']['CallCustomFormFunction'](formObject,'Scripts_Loaded');if(fnCallback)fnCallback();TriSysFlexiva['Forms']['Events']['CallCustomFormFunction'](formObject,'Form_Shown',{'FormName':formObject['Name']});};TriSysFlexiva['Forms']['Renderer']['OpenForm'](formObject,sDivTag,fnCustomFormLoaded);}};formObject['Developer']['Scripts']['forEach'](function(script){script['Url']&&TriSysApex['WhiteLabelling']['LoadJavascriptFile'](script['Url'],null,fnLoadedScript,script['Url']);});}else TriSysFlexiva['Forms']['Renderer']['OpenForm'](formObject,sDivTag,fnCallback);}},'OpenForm':function(formObject,sDivTag,fnCallback){if(formObject){TriSysFlexiva['Forms']['Identification']['AddLoadedFormObject'](formObject);var sHTML=TriSysFlexiva['Forms']['Renderer']['FullFormHTML'](formObject);const sStyles='<style\x20scoped>\x0a\x09\x09\x09\x09\x09\x09.block.full.form-control-borderless\x20{\x0a\x09\x09\x09\x09\x09\x09\x09padding-top:\x200px;\x0a\x09\x09\x09\x09\x09\x09\x09margin-bottom:\x2010px;\x0a\x09\x09\x09\x09\x09\x09\x09margin-left:\x20-20px;\x0a\x09\x09\x09\x09\x09\x09\x09margin-right:\x200px;\x0a\x09\x09\x09\x09\x09\x09\x09padding-right:\x200px;\x0a\x09\x09\x09\x09\x09\x09}\x0a\x09\x09\x09\x09\x09\x09</style>';sHTML=sStyles+sHTML,TriSysFlexiva['Forms']['Renderer']['RenderHTML'](formObject,sHTML,sDivTag,fnCallback);}},'ReadAllFieldLookups':function(sHTML,fnCallbackOnceAllLookupsAreRead){function getFlexivaDataFieldPairs(htmlString){const results=[],regex=/id="([^"]+)"[^>]*flexiva-data-field="([^"]+)"/g;let match;while((match=regex['exec'](htmlString))!==null){const id=match[0x1],encodedData=match[0x2];let decodedData={};try{const jsonString=atob(encodedData);decodedData=JSON['parse'](jsonString);}catch(error){console['warn']('Failed\x20to\x20decode\x20data\x20for\x20element\x20'+id+':',error);}results['push']({'id':id,'encodedFieldData':encodedData,'fieldData':decodedData});}return results;}function getIdAndFieldNameList(htmlString){const pairs=getFlexivaDataFieldPairs(htmlString);return pairs['map'](pair=>({'id':pair['id'],'encodedData':pair['encodedFieldData'],'fieldName':pair['fieldData']['Name']||null}));}const lstField=getIdAndFieldNameList(sHTML);if(lstField&&lstField['length']>0x0){const lstQueue=[];lstField['forEach'](function(field){const sJSON=atob(field['encodedData']),fieldObject=JSON['parse'](sJSON);if(fieldObject['DataSources']&&fieldObject['DataSources']['length']>0x0){const dataSourceRequest=fieldObject['DataSources'][0x0],queuedField={'id':field['id'],'dataSourceRequest':dataSourceRequest,'fieldObject':fieldObject};lstQueue['push'](queuedField);}});if(lstQueue['length']>0x0){const lstResponses=[];lstQueue['forEach'](function(queuedField){const fieldObject=queuedField['fieldObject'],dataSourceRequest=queuedField['dataSourceRequest'],sFormFieldID=queuedField['id'],fnReadLookupData=function(CReadThirdPartyDataSourceResponse){const responseData={'FieldObject':fieldObject,'FormFieldID':sFormFieldID,'DataSourceRequest':dataSourceRequest,'DataSourceResponse':CReadThirdPartyDataSourceResponse};lstResponses['push'](responseData),lstResponses['length']==lstQueue['length']&&(TriSysFlexiva['Forms']['Renderer']['Cache']['UpdateLookupFieldData'](lstResponses),fnCallbackOnceAllLookupsAreRead());},lookupOptions={'RequestData':dataSourceRequest};TriSysFlexiva['DataSources']['WebAPI']['ReadLookupData'](lookupOptions,fnReadLookupData);});return;}}fnCallbackOnceAllLookupsAreRead();},'RenderHTML':function(formObject,sHTML,sDivTag,fnCallback){const formElement=document['getElementById'](sDivTag);TriSysSDK['WaitSpinner']['Load'](sDivTag,0x12c),TriSysFlexiva['Forms']['Renderer']['ReadAllFieldLookups'](sHTML,function(){formElement['innerHTML']=sHTML;const lstPanel=$('#'+sDivTag+'\x20div['+TriSysFlexiva['Settings']['PanelDataTag']+']')['toArray']();lstPanel['forEach'](function(panel){const panelElement=$(panel),sID=panelElement['attr']('id'),panelObject=TriSysFlexiva['Forms']['Renderer']['Properties']['ReadFromDOM'](sID,TriSysFlexiva['Settings']['PanelDataTag']);TriSysFlexiva['Forms']['Renderer']['DrawPanel'](sID,panelElement,panelObject);}),TriSysSDK['CShowForm']['HTMLFieldsCodeInjection']({'rootElementId':sDivTag});if(fnCallback)fnCallback();TriSysFlexiva['Forms']['Renderer']['PostRenderKludges'](formObject,sDivTag),setTimeout(TriSysProUI['kendoUI_Overrides'],0x64);});},'PostRenderKludges':function(formObject,sDivTag){if(formObject['Tabs']['length']===0x1)$('#form-template-master-tab-panel-buttons')['remove']();else for(var i=0x1;i<formObject['Tabs']['length'];i++){const tab=formObject['Tabs'][i];if(tab['Visible']&&tab['Selected'])TriSysSDK['EntityFormTabs']['HighlightTabButton'](tab['ID']);}},'DrawPanel':function(sID,panelElement,panelObject){var sHTML='',iListIndex=0x0;const lstFieldsAndComponents=[];panelElement['find']('.toolbox-component,\x20.toolbox-field')['each'](function(){lstFieldsAndComponents['push']($(this)['attr']('id'));});if(!panelObject['type'])panelObject['type']=TriSysFlexiva['Settings']['Constants']['PanelType_Form'];if(panelObject['type']==TriSysFlexiva['Settings']['Constants']['PanelType_Form']){if(panelObject['showTitle']||panelObject['border']){sHTML='<div\x20class=\x22block\x22>';if(panelObject['showTitle']){var sStyle='',sDefaultColour=TriSysProUI['GroupBackColour'](),sIconColourClass='\x20themed-color',sIconColourStyle='';(panelObject['titleBackgroundColour']||panelObject['titleForegroundColour'])&&(sStyle='\x20style=\x22'+(panelObject['titleBackgroundColour']?'background-color:\x20'+panelObject['titleBackgroundColour']+';':'')+(panelObject['titleForegroundColour']?'color:\x20'+panelObject['titleForegroundColour']+';':'')+'\x22',panelObject['titleForegroundColour']&&(sIconColourClass='',sIconColourStyle='\x20style=\x22'+(panelObject['titleForegroundColour']?'color:\x20'+panelObject['titleForegroundColour']+';':'')+'\x22'));var sIcon='';if(panelObject['showTitle']&&panelObject['icon'])sIcon='<i\x20class=\x22'+panelObject['icon']+'\x20fa-2x\x20pull-left'+sIconColourClass+'\x22'+sIconColourStyle+'></i>';sHTML+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22block-title\x22'+sStyle+'>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+sIcon+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2>'+panelObject['titleText']+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';}}else sHTML='<div\x20class=\x22form-group\x22>';panelObject['columnCount']>0x1&&(sHTML+='\x20\x20<div\x20class=\x22row\x22>');var iColumnWidth=0xc/panelObject['columnCount'];for(var iColumn=0x1;iColumn<=panelObject['columnCount'];iColumn++){var iRowCountPerColumn=0x0;panelObject['columnCount']>0x1&&(sHTML+='\x20\x20<div\x20class=\x22col-md-'+iColumnWidth+'\x22>');sHTML+='\x20\x20<table\x20class=\x22table\x20table-borderless'+(panelObject['stripedRows']?'\x20table-striped':'')+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>';for(var iFieldOrComponent=iListIndex;iFieldOrComponent<lstFieldsAndComponents['length'];iFieldOrComponent++){const sListItemID=lstFieldsAndComponents[iFieldOrComponent],sElementHTML=TriSysFlexiva['Forms']['Renderer']['GetFieldOrComponentHTML'](sListItemID),object=TriSysFlexiva['Forms']['Renderer']['ReadFieldOrComponentData'](sListItemID);var sCaption=TriSysFlexiva['Forms']['Renderer']['GetFieldOrComponentLabelText'](object,sListItemID);const bLabelVisible=TriSysFlexiva['Forms']['Renderer']['GetFieldOrComponentLabelVisibility'](object,sListItemID),sLabelPosition=TriSysFlexiva['Forms']['Renderer']['GetFieldOrComponentLabelPosition'](object,sListItemID),sLabelWidth=(panelObject['labelWidth']>0x0?panelObject['labelWidth']:0x78)+'px',sLabelHTML=bLabelVisible?'<td\x20style=\x22width:\x20'+sLabelWidth+';\x20text-align:\x20left;\x22><strong>'+sCaption+'</strong></td>':'',sColSpan=bLabelVisible?'':'\x20colspan=\x222\x22';sHTML+='<tr>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x20\x20\x20\x20'+sLabelHTML+'\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x20\x20\x20\x20<td\x20style=\x22text-align:\x20left;\x22'+sColSpan+'>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x20\x20\x20\x20'+sElementHTML+'\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x20\x20\x20\x20</td>\x0a\x09\x09\x09\x09\x09\x09\x09\x20\x20\x20\x20\x20\x20</tr>',iListIndex+=0x1,iRowCountPerColumn+=0x1;if(iRowCountPerColumn==panelObject['rowsPerColumn']&&iRowCountPerColumn>0x1)break;}sHTML+='\x20\x20\x20\x20\x20\x20</tbody>\x0a\x09\x09\x09\x09\x09\x09\x09\x20\x20\x20\x20</table>\x0a\x09\x09\x09\x09\x09\x09\x20\x20\x20\x20</div>';}panelObject['columnCount']>0x1&&(sHTML+='\x20\x20</div>'),sHTML+='</div>';}else{if(panelObject['type']==TriSysFlexiva['Settings']['Constants']['PanelType_Block']){if(panelObject['showTitle']||panelObject['border']){sHTML='<div\x20class=\x22block\x22>';if(panelObject['showTitle']){var sIcon='';if(panelObject['showTitle']&&panelObject['icon'])sIcon='<i\x20class=\x22'+panelObject['icon']+'\x20fa-2x\x20pull-left\x20themed-color\x22></i>';sHTML+='\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22block-title\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+sIcon+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2>'+panelObject['titleText']+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';}const sStripeyPajamas=panelObject['stripedRows']?'\x20form-bordered':'';sHTML+='<div\x20class=\x22form-horizontal'+sStripeyPajamas+'\x22>',lstFieldsAndComponents['forEach'](function(sListItemID){const sElementHTML=TriSysFlexiva['Forms']['Renderer']['GetFieldOrComponentHTML'](sListItemID),object=TriSysFlexiva['Forms']['Renderer']['ReadFieldOrComponentData'](sListItemID),sCaption=TriSysFlexiva['Forms']['Renderer']['GetFieldOrComponentLabelText'](object,sListItemID),bLabelVisible=TriSysFlexiva['Forms']['Renderer']['GetFieldOrComponentLabelVisibility'](object,sListItemID),sLabelPosition=TriSysFlexiva['Forms']['Renderer']['GetFieldOrComponentLabelPosition'](object,sListItemID),iLabelWidth=panelObject['labelWidth']<=0xc?panelObject['labelWidth']:0x3,sLabelHTML=bLabelVisible?'<label\x20class=\x22col-md-'+iLabelWidth+'\x20control-label\x22>'+sCaption+'</label>':'',iColWidth=bLabelVisible?0xc-iLabelWidth:0xc;sHTML+='<div\x20class=\x22form-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+sLabelHTML+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-md-'+iColWidth+'\x22\x20style=\x22text-align:\x20left;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+sElementHTML+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';}),sHTML+='</div>';}}}panelElement['html'](sHTML);},'GetFieldOrComponentHTML':function(sID){var sHTML=null;const object=TriSysFlexiva['Forms']['Renderer']['ReadFieldOrComponentData'](sID);if(!object)sHTML='<span\x20style=\x22color:\x20red;\x22>ERROR:\x20Field/Component\x20not\x20found:\x20'+sID+'</span>';else{var sProperties='',sStyles=TriSysFlexiva['Forms']['Renderer']['ParseIntoStyles'](object['field']?object['field']:object['component']);if(sStyles)sStyles='\x20style=\x22'+sStyles+'\x22\x20';var sTitles=TriSysFlexiva['Forms']['Renderer']['ParseIntoTitles'](object['field']?object['field']:object['component']);if(object['field']){if(object['field']['ReadOnly'])sProperties+='readonly=\x22true\x22\x20';sProperties+=TriSysFlexiva['Settings']['FieldDataTag']+'=\x22'+TriSysAPI['Encryption']['Base64']['encode'](JSON['stringify'](object['field']))+'\x22';var sTriSysFieldType=TriSysFlexiva['Forms']['Renderer']['TriSysFieldType'](object['field'],![]),sLookupDataSet='';if(object['field']['DataSources']&&object['field']['DataSources']['length']>0x0&&object['field']['MappedDisplayField']){const dataSourceResponse=TriSysFlexiva['Forms']['Renderer']['Cache']['ReadLookupFieldData'](sID);if(dataSourceResponse){if(dataSourceResponse['Columns']&&dataSourceResponse['DataTable']&&dataSourceResponse['DataTable']['List']){var sCommaSeparatedList='';const lstDisplayValues=[];dataSourceResponse['DataTable']['List']['forEach'](function(row){var sText=row[object['field']['MappedDisplayField']],sValue=row[object['field']['MappedDataField']];(sValue||sText)&&lstDisplayValues['push']({'text':sText,'value':sValue});});if(lstDisplayValues['length']>0x0){object['field']['SortByMappedDisplayField']&&lstDisplayValues['sort']((a,b)=>{const textA=a&&a['text']?String(a['text'])['toLowerCase']():'',textB=b&&b['text']?String(b['text'])['toLowerCase']():'';return textA['localeCompare'](textB);});const bCommaSeparatedListOnly=!object['field']['MappedDataField']||object['field']['MappedDataField']==object['field']['MappedDisplayField'];if(bCommaSeparatedListOnly)lstDisplayValues['forEach'](function(valueObject){if(sCommaSeparatedList['length']>0x0)sCommaSeparatedList+=',';sCommaSeparatedList+=valueObject['text'];}),sLookupDataSet='\x20lookups=\x22'+sCommaSeparatedList+'\x22';else{const sJSON=JSON['stringify'](lstDisplayValues);var sTextValueListBase64=TriSysAPI['Encryption']['Base64']['encode'](sJSON);sLookupDataSet='\x20textvaluelist=\x22'+sTextValueListBase64+'\x22';}sTriSysFieldType='combo';}}}}sHTML='<trisys-field\x20id=\x22'+sID+'\x22\x20type=\x22'+sTriSysFieldType+'\x22\x20'+sProperties+sLookupDataSet+sStyles+sTitles+'>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x20</trisys-field>';}else object['component']&&(sProperties+=TriSysFlexiva['Settings']['ComponentDataTag']+'=\x22'+TriSysAPI['Encryption']['Base64']['encode'](JSON['stringify'](object['component']))+'\x22',sHTML='<trisys-component\x20id=\x22'+sID+'\x22\x20type=\x22'+object['component']['Type']+'\x22\x20'+sProperties+sStyles+sTitles+'>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x20</trisys-component>');}return sHTML;},'ParseIntoStyles':function(object){var sStyles='';if(object){if(object['BorderRadius'])sStyles+='border-radius:\x20'+object['BorderRadius']+'px;';if(object['BorderWidth'])sStyles+='border-width:\x20'+object['BorderWidth']+'px;';if(object['MaxHeight'])sStyles+='max-height:\x20'+object['MaxHeight']+'px;';if(object['MinHeight'])sStyles+='min-height:\x20'+object['MinHeight']+'px;';if(object['MaxWidth'])sStyles+='max-width:\x20'+object['MaxWidth']+'px;';if(object['MinWidth'])sStyles+='min-width:\x20'+object['MinWidth']+'px;';}return sStyles;},'ParseIntoTitles':function(object){var sTitles='';if(object){if(object['AltTitle'])sTitles+='\x20alt=\x22'+object['AltTitle']+'\x22\x20';if(object['Title'])sTitles+='\x20title=\x22'+object['Title']+'\x22\x20';}return sTitles;},'TriSysFieldType':function(field,bEnumValue,fieldObject){var sType=bEnumValue?TriSysSDK['Controls']['FieldTypes']['Text']:'textbox';switch(field['Type']){case TriSysFlexiva['Settings']['Constants']['FieldType_Boolean']:sType=bEnumValue?TriSysSDK['Controls']['FieldTypes']['YesNo']:'yesno';break;case TriSysFlexiva['Settings']['Constants']['FieldType_Date']:sType=bEnumValue?TriSysSDK['Controls']['FieldTypes']['Date']:'date';break;case TriSysFlexiva['Settings']['Constants']['FieldType_ImageBase64']:sType=bEnumValue?TriSysSDK['Controls']['FieldTypes']['ImageBase64']:'image';break;case TriSysFlexiva['Settings']['Constants']['FieldType_ImageID']:sType=bEnumValue?TriSysSDK['Controls']['FieldTypes']['FileUploadImage']:'fileuploadimage';break;case TriSysFlexiva['Settings']['Constants']['FieldType_ImageURL']:sType=bEnumValue?TriSysSDK['Controls']['FieldTypes']['ImageURL']:'image';break;case TriSysFlexiva['Settings']['Constants']['FieldType_Number']:sType=bEnumValue?TriSysSDK['Controls']['FieldTypes']['Integer']:'numeric';break;}if(fieldObject&&fieldObject['DataSources']&&fieldObject['DataSources']['length']>0x0){const dataSourceRequest=fieldObject['DataSources'][0x0];dataSourceRequest['Type']=='Read'&&fieldObject['MappedDisplayField']&&(sType=bEnumValue?TriSysSDK['Controls']['FieldTypes']['SkillCombo']:'combo');}return sType;},'ReadFieldOrComponentData':function(sID){const jqueryFieldItem=$('#'+sID);if($(jqueryFieldItem)['closest']('#'+TriSysFlexiva['Settings']['ToolboxComponentsId'])['length']>0x0)return;const data={'field':TriSysFlexiva['Forms']['Renderer']['Properties']['ReadFromDOM'](sID,TriSysFlexiva['Settings']['FieldDataTag']),'component':TriSysFlexiva['Forms']['Renderer']['Properties']['ReadFromDOM'](sID,TriSysFlexiva['Settings']['ComponentDataTag'])};return data;},'GetFieldOrComponentLabelText':function(object,sListItemID){if(object&&object['field']){var sCaption=object['field']?object['field']['LabelText']:object['component']['LabelText'];if(!sCaption)sCaption=sListItemID;return sCaption;}},'GetFieldOrComponentLabelVisibility':function(object,sListItemID){if(object&&object['field']){var bVisible=object['field']?object['field']['LabelVisible']:object['component']['LabelVisible'];return bVisible;}},'GetFieldOrComponentLabelPosition':function(object,sListItemID){if(object&&object['field']){var sLabelPosition=object['field']?object['field']['LabelPosition']:object['component']['LabelPosition'];return sLabelPosition;}},'FullFormHTML':function(formObject){var sMasterTemplateFilePath=TriSysApex['Constants']['UserControlFolder']+'app-studio/templates/form-master-detail.html',sHTML=TriSysApex['NavigationBar']['TemplateFile'](sMasterTemplateFilePath);sHTML=sHTML['replace'](/{{form-template-caption}}/g,formObject['Form']['Caption']),sHTML=sHTML['replace'](/{{form-template-icon}}/g,formObject['Form']['Icon']);var sToolbarHTML='';const bShowToolbar=formObject['Form']['Type']==TriSysFlexiva['Settings']['Constants']['FormType_DataEntry']&&formObject['Form']['Buttons']&&formObject['Form']['Buttons']['length']>0x0;bShowToolbar&&formObject['Form']['Buttons']['forEach'](function(button){if(!button['Hidden']){if(sToolbarHTML['length']>0x0)sToolbarHTML+='\x20&nbsp;\x20';var sTooltip=button['Tooltip']?'\x20title=\x22'+button['Tooltip']+'\x22\x20':'',sPrefix=formObject['Name']+'-',sID='\x20id=\x22'+TriSysSDK['Miscellaneous']['EscapeDOMid'](sPrefix+button['ID'],!![])+'\x22',sCaption=button['Caption']?'\x20&nbsp;\x20'+button['Caption']:'',sFunction=button['Function']?'\x20onclick=\x22'+button['Function']+'\x22':'';button['Type']=='dropdown'?button['Items']&&(sToolbarHTML+='<div\x20class=\x22btn-group\x20show-on-hover\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20style=\x22cursor:\x20pointer;\x22\x20id=\x22'+sID+'\x22'+sTooltip+'\x20data-toggle=\x22dropdown\x22\x20class=\x22btn\x20btn-sm\x20btn-default\x20dropdown-toggle\x22\x20aria-expanded=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'<i\x20class=\x22'+button['Icon']+'\x22></i>'+sCaption+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22dropdown-menu\x20text-left\x22>',button['Items']['forEach'](function(item){sCaption=item['Caption']?'\x20&nbsp;\x20'+item['Caption']:'',sTooltip=item['Tooltip']?'\x20title=\x22'+item['Tooltip']+'\x22\x20':'',sID='\x20id=\x22'+TriSysSDK['Miscellaneous']['EscapeDOMid'](sPrefix+item['ID'],!![])+'\x22',sFunction=item['Function']?'\x20onclick=\x22'+item['Function']+'\x22':'',sToolbarHTML+='<li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20style=\x22cursor:\x20pointer;\x22\x20'+sTooltip+sID+sFunction+'>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22'+item['Icon']+'\x22></i>'+sCaption+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</li>';}),sToolbarHTML+='</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>'):sToolbarHTML+='<a\x20style=\x22cursor:\x20pointer;\x22\x20class=\x22btn\x20btn-sm\x20btn-default\x20enable-tooltip\x22\x20'+sTooltip+sID+sFunction+'>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22'+button['Icon']+'\x22></i>'+sCaption+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</a>';}});sHTML=sHTML['replace'](/{{form-template-toolbar}}/g,sToolbarHTML);const topTab=formObject['Tabs'][0x0];if(topTab['Visible']){const sTopHTML=topTab['HTML']['join']('\x0a');sHTML=sHTML['replace']('{{form-template-master-record}}',sTopHTML);}const sTabsTemplateFilePath=TriSysApex['Constants']['UserControlFolder']+'app-studio/templates/form-master-tab.html',sTabTemplateHTML=TriSysApex['NavigationBar']['TemplateFile'](sTabsTemplateFilePath),sTabPageTemplateFilePath=TriSysApex['Constants']['UserControlFolder']+'app-studio/templates/form-master-tab-page.html',sTabPageTemplateHTML=TriSysApex['NavigationBar']['TemplateFile'](sTabPageTemplateFilePath);var sTabsHTML='',sTabPagesHTML='';for(var i=0x1;i<formObject['Tabs']['length'];i++){const tab=formObject['Tabs'][i];if(tab['Visible']){var sTabPageContentHTML=tab['HTML']?tab['HTML']['join']('\x0a'):'';sTabHTML=sTabTemplateHTML['replace']('{{form-template-master-tab-id}}',tab['ID']),sTabHTML=sTabHTML['replace']('{{form-template-master-tab-icon}}',tab['Icon']),sTabHTML=sTabHTML['replace']('{{form-template-master-tab-caption}}',tab['Caption']);const sTabPageID=tab['ID']+'-tab-page';sTabHTML=sTabHTML['replace']('{{form-template-master-tab-page-id}}',sTabPageID),sTabsHTML+=sTabHTML;var sTabPageHTML=sTabPageTemplateHTML['replace']('{{form-template-master-tab-page-id}}',sTabPageID);sTabPageHTML=sTabPageHTML['replace']('{{form-template-master-tab-page-content}}',sTabPageContentHTML),sTabPagesHTML+=sTabPageHTML;}}return sHTML=sHTML['replace']('{{form-template-master-tabs}}',sTabsHTML),sHTML=sHTML['replace']('{{form-template-master-tab-pages}}',sTabPagesHTML),sHTML;},'ReadDOMComponentList':function(sRootID){const components=[];var $rootElement=$('#'+sRootID);if(!$rootElement['length'])return components;return $rootElement['find']('[id]['+TriSysFlexiva['Settings']['ComponentDataTag']+']')['each'](function(){const sBase64=$(this)['attr'](TriSysFlexiva['Settings']['ComponentDataTag']),sJSON=atob(sBase64),data=JSON['parse'](sJSON);components['push']({'id':$(this)['attr']('id'),'component':data});}),components;},'ReadDOMFieldList':function(sRootID){const lstField=[];var $rootElement=$('#'+sRootID);if(!$rootElement['length'])return lstField;return $rootElement['find']('[id]['+TriSysFlexiva['Settings']['FieldDataTag']+']')['each'](function(){const sBase64=$(this)['attr'](TriSysFlexiva['Settings']['FieldDataTag']),sJSON=atob(sBase64),data=JSON['parse'](sJSON);lstField['push']({'id':$(this)['attr']('id'),'field':data});}),lstField;},'FindParentFormIDUnderFormContent':function(childId){var element=document['getElementById'](childId);if(!element)return null;var formContentRow=document['getElementById']('divFormContentRow');if(!formContentRow)return null;var current=element;while(current&&current['parentElement']){var parent=current['parentElement'];if(parent['id']==='divFormContentRow')return current['id'];current=parent;}return null;},'AfterRecordLoadedAssignDataSourceParameters':function(sRequestId,lstFormVariable,fnLoadComponent){TriSysFlexiva['DataSources']['Management']['ReadRequestObject'](sRequestId,function(requestObject){const request=requestObject['request'],lstParameters=request['Parameters'],lstVariable=TriSysFlexiva['CustomVariables']['Management']['ListOfAllVariables']();lstParameters['forEach'](function(parameter){if(parameter['Value']){const consts=TriSysFlexiva['Settings']['Constants'],sVariableName=parameter['Value']['replace'](consts['CustomVariablePrefix'],'')['replace'](consts['CustomVariableSuffix'],'');lstVariable['forEach'](function(variable){if(variable['Name']==sVariableName){var bFormVariable=![];lstFormVariable['forEach'](function(formVariable){if(formVariable['Name']==variable['Name']){variable['Value']=formVariable['Value'],bFormVariable=!![];return;}});if(!bFormVariable)variable['Value']=null;return;}});}}),fnLoadComponent();});return;},'LoadComponentsAfterRecordLoaded':function(formObject,lstVariable,sFormDivID){const lstComponent=TriSysFlexiva['Forms']['Renderer']['ReadDOMComponentList'](sFormDivID);lstComponent&&lstComponent['forEach'](function(componentObject){if(componentObject['component']&&componentObject['component']['Grid']){const gridComponent=componentObject['component']['Grid'];if(gridComponent['PopulationTrigger']==TriSysFlexiva['Settings']['Constants']['GridPopulationTrigger_RecordLoad']){const dataSources=componentObject['component']['DataSources'];if(dataSources['length']>=0x1){const sRequestId=dataSources[0x0]['RequestId'];TriSysFlexiva['Forms']['Renderer']['AfterRecordLoadedAssignDataSourceParameters'](sRequestId,lstVariable,function(){var gridElement=$('#'+componentObject['id']);TriSysFlexiva['Forms']['Renderer']['Components']['Grid']['Load'](gridElement,componentObject['id'],componentObject['component']);});}}}});},'Properties':{'ReadFromDOM':function(sID,sProperty){const element=$('#'+sID),sDataBase64=element['attr'](sProperty);if(sDataBase64){const sDataJSON=TriSysAPI['Encryption']['Base64']['decode'](sDataBase64),dataObject=JSON['parse'](sDataJSON);return dataObject;}},'WriteToDOM':function(sID,sProperty,dataObject){const sDataJSON=JSON['stringify'](dataObject),sDataBase64=TriSysAPI['Encryption']['Base64']['encode'](sDataJSON),element=$('#'+sID);element['attr'](sProperty,sDataBase64);}},'Components':{'Tools':function(){var sFilePath=TriSysApex['Constants']['UserControlFolder']+'app-studio/components/tools.json',toolsObject=TriSysApex['Forms']['Configuration']['JsonFileData'](sFilePath);const lstTool=toolsObject['Tools'];return lstTool;},'HTMLCodeInjection':function(element){try{var sID=element['attr']('id'),sType=element['attr']('type');const sBase64=element['attr'](TriSysFlexiva['Settings']['ComponentDataTag']),sJSON=TriSysAPI['Encryption']['Base64']['decode'](sBase64),component=JSON['parse'](sJSON);console['log']('Injecting\x20'+sType+'\x20with\x20ID:\x20'+sID+':\x20'+JSON['stringify'](component));switch(sType){case'SearchCriteria':const sElementHTML=element[0x0]['outerHTML'];var sTemplateHTML=TriSysApex['FormsManager']['getControlTemplateHTML']('ctrlSearchCriteriaComponent.html');sTemplateHTML=sTemplateHTML['replace']('{{ctrlSearchCriteriaComponentHTML}}',sElementHTML);const sButtonID=sID+'-button';sTemplateHTML=sTemplateHTML['replace']('{{ctrlSearchCriteriaComponentButtonID}}',sButtonID),element['replaceWith'](sTemplateHTML),element=$('#'+sID);const btnApply=$('#'+sButtonID);btnApply['click'](function(){TriSysFlexiva['Forms']['Renderer']['Components']['SearchCriteria']['ApplyButtonClick'](sID,component);}),TriSysFlexiva['Forms']['Renderer']['Components']['SearchCriteria']['Load'](element,sID,component,sButtonID);break;case'Grid':if(component['Grid']){const bLoadGrid=component['Grid']['PopulationTrigger']==TriSysFlexiva['Settings']['Constants']['GridPopulationTrigger_FormLoad'];if(!bLoadGrid)return;}const fnDelayedGrid=function(){TriSysFlexiva['Forms']['Renderer']['Components']['Grid']['Load'](element,sID,component);};setTimeout(fnDelayedGrid,0x3e8);break;default:element['replaceWith']('<p>ToDo\x20Component:\x20'+sType+',\x20ID:'+sID+'<br>'+JSON['stringify'](component)+'</p>');break;}}catch(e){TriSysApex['UI']['ErrorMessage']('Failed\x20to\x20inject\x20'+sType+':\x20'+TriSysApex['Logging']['CatchVariableToText'](e));}},'SearchCriteria':{'Load':function(element,sID,component,sButtonID){var thisNamespace=TriSysFlexiva['Forms']['Renderer']['Components']['SearchCriteria'];TriSysFlexiva['Forms']['Renderer']['Components']['SearchCriteria']['PrepareFiltersAndConnectionInformation']({'Element':element,'ID':sID,'Component':component,'CallbackOnCompletion':TriSysFlexiva['Forms']['Renderer']['Components']['SearchCriteria']['LoadFilter']});},'PrepareFiltersAndConnectionInformation':function(options){TriSysFlexiva['DataSources']['Management']['ReadAll'](function(lstDataSources){const objThis=TriSysFlexiva['Forms']['Renderer']['Components']['SearchCriteria'];objThis['PrepareFiltersAndConnectionInformationAfterGettingAllDataSources'](options,lstDataSources);});},'PrepareFiltersAndConnectionInformationAfterGettingAllDataSources':function(options,lstDataSources){const fnConvertFieldsToComponentFormat=function(fieldArray){return fieldArray['reduce']((acc,field)=>{return acc[field['Field']]={'type':field['Type']['toLowerCase']()},acc;},{});},lstSchemaModelField=fnConvertFieldsToComponentFormat(options['Component']['Fields']);var fnAfterReadingAllLookupFields=function(lstFilterLookupFields){const lstFilterField=[];options['Component']['Fields']['forEach'](function(field){var fnEditorTemplate=null;field['Lookup']&&(fnEditorTemplate=field['fnEditorTemplate']);if(field['Type']=='Null')field['Type']='String';field['Visible']&&lstFilterField['push']({'name':field['Field'],'type':field['Type']['toLowerCase'](),'label':field['Caption'],'editorTemplate':fnEditorTemplate});});const data={'Options':options,'SchemaModelFieldList':lstSchemaModelField,'FilterFieldList':lstFilterField},fnDrawFilter=function(){if(options){if(options['CallbackOnCompletion'])options['CallbackOnCompletion'](data,options);}};fnDrawFilter();return;},lstFilterLookupFields=[];options['Component']['Fields']['forEach'](function(field){if(field['Lookup'])lstFilterLookupFields['push'](field);}),lstFilterLookupFields['length']>0x0?TriSysFlexiva['Forms']['Renderer']['Components']['SearchCriteria']['GatherAllLookupFields'](lstFilterLookupFields,fnAfterReadingAllLookupFields):fnAfterReadingAllLookupFields(null);},'GatherAllLookupFields':function(lstFilterLookupFields,fnCallbackOnceAllPopulated){const fnReadLookupData=function(field,fnCallback){const lookupOptions={'Field':field};TriSysFlexiva['DataSources']['WebAPI']['ReadLookupData'](lookupOptions,function(CReadThirdPartyDataSourceResponse){fnCallback(field,CReadThirdPartyDataSourceResponse);});},fnAfterReadingLookupData=function(field,CReadThirdPartyDataSourceResponse){field['fnEditorTemplate']=TriSysFlexiva['Forms']['Renderer']['Components']['SearchCriteria']['LookupFunction'](field,CReadThirdPartyDataSourceResponse);var iCount=0x0;lstFilterLookupFields['forEach'](function(aField){if(!aField['fnEditorTemplate'])iCount+=0x1;});if(iCount==0x0)fnCallbackOnceAllPopulated(lstFilterLookupFields);};lstFilterLookupFields['forEach'](function(field){fnReadLookupData(field,fnAfterReadingLookupData);});},'LoadFilter':function(data,filterOptions){var thisNamespace=TriSysFlexiva['Forms']['Renderer']['Components']['SearchCriteria'];const component=data['Options']['Component'],sSettingName=component['Type']+':\x20'+component['LabelText'],sJSON=TriSysApex['Cache']['UserSettingManager']['GetValue'](sSettingName);if(sJSON)TriSysApex['Constants']['FlexivaTestFilterExpression']=JSON['parse'](sJSON);data['Options']['Element']['kendoFilter']({'expressionPreview':![],'fields':data['FilterFieldList'],'expression':TriSysApex['Constants']['FlexivaTestFilterExpression'],'operators':{'string':{'eq':'Contains'},'number':{'eq':'Is\x20equal\x20to'}},'change':function(e){TriSysApex['Constants']['FlexivaTestFilterExpression']=e['expression'],console['log'](e['expression']),thisNamespace['applyStylesEveryTimeFilterChanges']();}});var filterControl=$('#'+filterOptions['ID'])['data']('kendoFilter');const sPrefix='#'+filterOptions['ID'];$(sPrefix+'\x20[data-logic=\x27or\x27]')['hide'](),$(sPrefix+'\x20[data-command=\x27group\x27]')['hide'](),$(sPrefix+'\x20.k-filter-group-main\x20>\x20.k-filter-toolbar\x20[data-command=\x27x\x27]')['hide']();var searchCriteria=component['SearchCriteria'],bTriggerPopulationAfterLoad=searchCriteria['TriggerPopulationAfterLoad'];if(bTriggerPopulationAfterLoad&&TriSysApex['Constants']['FlexivaTestFilterExpression'])try{TriSysFlexiva['Forms']['Renderer']['Components']['SearchCriteria']['ApplyButtonClick'](filterOptions['ID'],component);}catch(e){}thisNamespace['applyStylesEveryTimeFilterChanges']();},'applyStylesEveryTimeFilterChanges':function(){try{$('.k-filter-container\x20.k-filter-item\x20.k-filter-field')['css']({'flex':'2\x201\x20250px','min-width':'250px','cssText':'flex:\x202\x201\x20250px\x20!important;\x20min-width:\x20250px\x20!important;'}),$('.k-filter-container\x20.k-filter-item\x20.k-filter-operator,\x20.k-filter-container\x20.k-filter-item\x20.k-filter-value')['css']({'flex':'2\x201\x20200px','min-width':'200px','cssText':'flex:\x202\x201\x20200px\x20!important;\x20min-width:\x20200px\x20!important;'}),$('.k-filter-container\x20.k-filter-item\x20.k-textbox,\x20.k-filter-container\x20.k-filter-item\x20.k-dropdownlist,\x20.k-filter-container\x20.k-filter-item\x20.k-numerictextbox')['css']({'width':'100%','min-width':'100%','cssText':'width:\x20100%\x20!important;\x20min-width:\x20100%\x20!important;'}),$('.k-filter-container\x20.k-filter-item\x20.k-toolbar')['css']({'display':'flex','gap':'8px','padding':'8px','cssText':'display:\x20flex\x20!important;\x20gap:\x208px\x20!important;\x20padding:\x208px\x20!important;'}),$('.k-filter\x20.k-filter-container,\x20.k-filter\x20.k-filter-preview')['css']({'margin-block-end':'5px'});}catch(e){}},'LookupFunction':function(field,CReadThirdPartyDataSourceResponse){var requestData=field['Lookup']['RequestDataObject'];if(requestData){const sFieldName=requestData['Field']['Field'],lstDisplayValues=[];if(CReadThirdPartyDataSourceResponse['DataTable']){const lstData=CReadThirdPartyDataSourceResponse['DataTable']['List'];lstData['forEach'](function(row){var sText=row[field['DisplayField']],sValue=row[field['DataField']];!sText&&!sValue&&(sText=row[sFieldName],sValue=row[sFieldName]);if(sValue||sText){var valueObject={'text':sText,'value':sValue};const sValueObjectJSON=JSON['stringify'](valueObject);valueObject={'text':sText,'value':sValueObjectJSON},lstDisplayValues['push'](valueObject);}}),field['SortAlphabetically']&&lstDisplayValues['sort']((a,b)=>{const textA=a&&a['text']?String(a['text'])['toLowerCase']():'',textB=b&&b['text']?String(b['text'])['toLowerCase']():'';return textA['localeCompare'](textB);});}var fnLookupFunction=function(container,options){$('<input\x20data-bind=\x22value:\x20value\x22\x20name=\x22'+field['Field']+'\x22/>')['appendTo'](container)['kendoDropDownList']({'dataTextField':'text','dataValueField':'value','dataSource':lstDisplayValues});};return fnLookupFunction;}},'ApplyButtonClick':function(sDOMID,component){try{var filterControl=$('#'+sDOMID)['data']('kendoFilter'),filterModel=filterControl['filterModel'];const sLogic=filterModel['logic'],lstFilter=filterModel['filters'],operatorMap={'eq':'=','neq':'!=','contains':'LIKE','doesnotcontain':'NOT\x20LIKE','startswith':'LIKE','endswith':'LIKE'},lstFieldValueCustomVariableTuple=[],parseFilterExpression=function(filterGroup){return filterGroup['filters']['map'](filter=>{if(filter['filters'])return'('+parseFilterExpression(filter)+')';var sCustomVariableName=null;component['Fields']['forEach'](function(field){if(field['Field']==filter['field']){sCustomVariableName=field['AssignValueToCustomVariable'];if(!sCustomVariableName)sCustomVariableName=field['Field'];return;}});const sValueObjectJSON=filter['value'];var valueObject={};try{valueObject=JSON['parse'](sValueObjectJSON);}catch(e){valueObject['value']=sValueObjectJSON,valueObject['text']=sValueObjectJSON;}return lstFieldValueCustomVariableTuple['push']({'field':filter['field'],'value':valueObject['value'],'text':valueObject['text'],'customVariable':sCustomVariableName}),'['+filter['field']+']\x20'+operatorMap[filter['operator']]+'\x20\x27'+filter['value']+'\x27';})['join']('\x20'+filterGroup['logic']['toUpperCase']()+'\x20');};var sExpression=filterModel['filters']?parseFilterExpression(filterModel):null;console['log'](sExpression);const sFormDivID=TriSysFlexiva['Forms']['Renderer']['FindParentFormIDUnderFormContent'](sDOMID);if(sFormDivID){const lstComponent=TriSysFlexiva['Forms']['Renderer']['ReadDOMComponentList'](sFormDivID);lstComponent&&lstComponent['forEach'](function(componentObject){if(componentObject['component']&&componentObject['component']['Grid']){if(componentObject['component']['Grid']['TriggeringComponent']==component['ID']){const gridComponent=componentObject['component'],lstParameterVariable=[];lstFieldValueCustomVariableTuple['forEach'](function(tuple){const paramVariable={'Name':tuple['customVariable'],'Value':tuple['value']};lstParameterVariable['push'](paramVariable);});const dataSources=componentObject['component']['DataSources'];if(dataSources['length']>=0x1){const sRequestId=dataSources[0x0]['RequestId'];TriSysFlexiva['Forms']['Renderer']['AfterRecordLoadedAssignDataSourceParameters'](sRequestId,lstParameterVariable,function(){var gridElement=$('#'+componentObject['id']);TriSysFlexiva['Forms']['Renderer']['Components']['Grid']['Load'](gridElement,componentObject['id'],gridComponent);});return;}}}});}const sSettingName=component['Type']+':\x20'+component['LabelText'],sJSON=JSON['stringify'](filterModel);TriSysApex['Cache']['UserSettingManager']['SetValue'](sSettingName,sJSON);}catch(e){}}},'Grid':{'Load':function(element,sID,component){const dataSources=component['DataSources'];if(!dataSources||dataSources['length']==0x0){TriSysApex['UI']['ShowError']('No\x20data\x20sources\x20defined\x20for\x20grid:\x20'+sID);return;}else{if(dataSources['length']>0x1){TriSysApex['UI']['ShowError']('Expected\x20only\x20one\x20data\x20source\x20defined\x20for\x20grid:\x20'+sID);return;}}const sRequestId=dataSources[0x0]['RequestId'];TriSysFlexiva['Forms']['Renderer']['Components']['Grid']['LoadServerSide'](sID,component,sRequestId);},'LoadServerSide':function(sID,component,sRequestId){var options={'RequestId':sRequestId,'CustomVariables':TriSysFlexiva['Variables']['ReadAllByType'](),'Wait':{'Show':!![],'Message':'Reading\x20Grid\x20Data...'},'CallbackSuccess':function(CReadThirdPartyDataSourceResponse){TriSysFlexiva['Forms']['Renderer']['Components']['Grid']['LoadGrid'](sID,component,CReadThirdPartyDataSourceResponse);},'CallbackFailure':function(sErrorMessage){TriSysApex['UI']['errorAlert']('TriSysFlexiva.Forms.Renderer.Components.Grid.LoadServerSide\x20Error:\x20'+sErrorMessage);}};TriSysFlexiva['DataSources']['WebAPI']['SendRequest'](options);},'LoadGrid':function(sID,component,CReadThirdPartyDataSourceResponse){var columns=component['Grid']?component['Grid']['Columns']:null;if(!columns)columns=CReadThirdPartyDataSourceResponse['Columns'];var bHideDrillDownButton=!![],sDrillDownButtonCaption=null,sDrillDownButtonData=null,sDrillDownButtonWidth=null;const fnDrillDownColumn=function(column,rowData){const sColumnValue=rowData[column['ColumnName']],sKeyValue=rowData[column['KeyColumnName']],sFormName=column['FormName'];TriSysApex['FormsManager']['OpenForm'](sFormName,sKeyValue,!![]);};var lstHyperlinkedColumn=null,lstHyperlinkedEntity=null;component['Grid']&&component['Grid']['DrillDown']&&component['Grid']['DrillDown']['forEach'](function(drillDownColumn){if(!lstHyperlinkedColumn)lstHyperlinkedColumn=[];lstHyperlinkedColumn['push'](drillDownColumn['ColumnName']);if(!lstHyperlinkedEntity)lstHyperlinkedEntity={'EntityName':'Custom','Columns':[]};const hyperlinkedEntityColumn={'field':drillDownColumn['ColumnName'],'keyColumnName':drillDownColumn['KeyColumnName'],'linkType':'Function','fnCallback':function(rowData){fnDrillDownColumn(drillDownColumn,rowData);}};lstHyperlinkedEntity['Columns']['push'](hyperlinkedEntityColumn);if(bHideDrillDownButton){if(drillDownColumn['ButtonColumn']&&drillDownColumn['ButtonLabel']){bHideDrillDownButton=![],sDrillDownButtonCaption=drillDownColumn['ButtonLabel'];const sJSON=JSON['stringify'](drillDownColumn),sBase64=btoa(sJSON);sDrillDownButtonData=sBase64;if(drillDownColumn['ButtonWidth']>0x0)sDrillDownButtonWidth=drillDownColumn['ButtonWidth']+'px';}}});const sGridName=sID+'_grid';TriSysSDK['Grid']['VirtualMode']({'Div':sID,'ID':sGridName,'Title':'Whatever?','RecordsPerPage':TriSysApex['UserOptions']['RecordsPerPage'](),'PopulationByObject':CReadThirdPartyDataSourceResponse['DataTable']['List'],'Columns':TriSysFlexiva['Forms']['Renderer']['Components']['Grid']['KendoUIColumns'](columns),'HyperlinkedColumns':lstHyperlinkedColumn,'HyperlinkedEntities':lstHyperlinkedEntity,'KeyColumnName':'Custom','DrillDownFunction':function(rowData,sBase64){if(sBase64){const sJSON=atob(sBase64),column=JSON['parse'](sJSON);fnDrillDownColumn(column,rowData);}},'HideOpenButton':bHideDrillDownButton,'OpenButtonCaption':sDrillDownButtonCaption,'OpenButtonData':sDrillDownButtonData,'OpenButtonWidth':sDrillDownButtonWidth}),TriSysFlexiva['Forms']['Renderer']['Properties']['WriteToDOM'](sID,TriSysFlexiva['Settings']['ComponentDataTag'],component);},'KendoUIColumns':function(columns){if(columns){const lstColumn=[];return columns['forEach'](function(column){const sType=column['Type']?column['Type']['toLowerCase']():'string',col={'field':column['Field'],'title':column['Caption'],'width':column['Width'],'hidden':!column['Visible'],'type':sType};switch(column['Type']){case TriSysFlexiva['Settings']['Constants']['FieldType_ImageURL']:const sImageSize=column['ImageSize'];var iImageSize=0x40;if(sImageSize){const parts=sImageSize['split']('\x20');iImageSize=parseInt(parts[0x0]);}col['template']='<img\x20src=\x22#:\x20'+column['Field']+'\x20#\x22\x20\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09style=\x22width:\x20'+iImageSize+'px;\x20height:\x20'+iImageSize+'px;\x22\x20/>\x20',col['type']='string';break;}lstColumn['push'](col);}),lstColumn;}}}},'Cache':{'_LookupResponses':[],'UpdateLookupFieldData':function(lstResponses){const lstCache=TriSysFlexiva['Forms']['Renderer']['Cache']['_LookupResponses'];lstResponses['forEach'](function(responseData){var iFoundIndex=-0x1;lstCache['forEach'](function(lookupResponse,index){responseData['FormFieldID']==lookupResponse['FormFieldID']&&(iFoundIndex=index);}),iFoundIndex!==-0x1?lstCache[iFoundIndex]=JSON['parse'](JSON['stringify'](responseData)):lstCache['push'](JSON['parse'](JSON['stringify'](responseData)));});},'ReadLookupFieldData':function(sFormFieldID){var foundLookupResponse=null;return TriSysFlexiva['Forms']['Renderer']['Cache']['_LookupResponses']['forEach'](function(lookupResponse){sFormFieldID==lookupResponse['FormFieldID']&&(foundLookupResponse=lookupResponse['DataSourceResponse']);}),foundLookupResponse;}}},'Tabs':{'ClickHandler':function(sTabPaneId){const formObject=TriSysFlexiva['Forms']['Identification']['CurrentOpenFormObject']();formObject&&TriSysFlexiva['Forms']['Events']['CallCustomFormFunction'](formObject,'Tab_Click',{'ID':sTabPaneId});}},'Events':{'CallCustomFormFunction':function(formObject,sFunctionName,parameterObject){if(formObject){if(formObject['Developer']&&formObject['Developer']['FormScriptObjectName']){const sFunction=formObject['Developer']['FormScriptObjectName']+'.'+sFunctionName;try{TriSysApex['DynamicClasses']['CallFunction'](sFunction,parameterObject);}catch(e){console['log']('Error\x20calling\x20custom\x20function:\x20'+sFunction+':\x20'+e['message']);}}}},'CallCustomFormFunctionAnonymously':function(sFunctionName,parameterObject){const formObject=TriSysFlexiva['Forms']['Identification']['CurrentOpenFormObject']();formObject&&sFunctionName&&formObject['Developer']&&formObject['Developer']['FormScriptObjectName']&&TriSysFlexiva['Forms']['Events']['CallCustomFormFunction'](formObject,sFunctionName,parameterObject);},'RunTime':{'LoadRecord':function(pageConfig,lRecordId,options){var sParameters=lRecordId?'('+lRecordId+')':'';const formObject=TriSysFlexiva['Forms']['Identification']['CurrentOpenFormObject']();if(formObject){if(formObject['Form']['Type']==TriSysFlexiva['Settings']['Constants']['FormType_Lookup'])return;if(!lRecordId)return;formObject['RunTimeOnly']['RecordID']=lRecordId;const fnLoadFieldsAndComponents=function(requestObject){const request=requestObject['request'];if(!request){TriSysApex['UI']['ShowError']('No\x20data\x20source\x20request\x20object\x20found\x20for\x20form:\x20'+formObject['Name']);return;}const lstVariable=[];request['Fields']&&request['Fields']['forEach'](function(field){if(field['Key']){const lstURLVariables=TriSysFlexiva['Variables']['ExtractFields'](request['Url'],!![]);if(lstURLVariables&&lstURLVariables['length']>0x0){const sVariableName=lstURLVariables[lstURLVariables['length']-0x1];lstVariable['push']({'Name':sVariableName,'Value':lRecordId});}}}),TriSysFlexiva['Forms']['Events']['RunTime']['ReadDataFromWebAPI'](request['RequestId'],lstVariable,function(data){TriSysFlexiva['Forms']['Events']['RunTime']['WriteDataSetToForm'](formObject,lstVariable,data);},function(sErrorMessage){});};TriSysFlexiva['Forms']['Events']['RunTime']['LoadDataSource']('Read',formObject,fnLoadFieldsAndComponents);}},'ReadDataFromWebAPI':function(sRequestId,lstCustomVariable,fnCallback,fnError){const lstVariable=TriSysFlexiva['Variables']['ReadAllByType']();lstCustomVariable&&lstCustomVariable['forEach'](function(variable){const foundVariable=lstVariable['find'](v=>v['Name']===variable['Name']);foundVariable?foundVariable['Value']=variable['Value']:lstVariable['push']({'Name':variable['Name'],'Source':variable['Source']?variable['Source']:'Unknown\x20and\x20not\x20relevant\x20anyway!','Value':variable['Value']});});var options={'RequestId':sRequestId,'CustomVariables':lstVariable,'Wait':{'Show':![]},'CallbackSuccess':fnCallback,'CallbackFailure':fnError};TriSysFlexiva['DataSources']['WebAPI']['SendRequest'](options);},'LoadDataSource':function(sType,formObject,fnCallback){if(!formObject['DataSources'])return;var sRequestId=null;formObject['DataSources']['forEach'](function(dataSource){dataSource['Type']==sType&&(sRequestId=dataSource['RequestId']);}),TriSysFlexiva['DataSources']['Management']['ReadAll'](function(lstDataSources){const requestObject=TriSysFlexiva['DataSources']['Management']['GetDataSource'](lstDataSources,sRequestId);fnCallback(requestObject);});},'WriteDataSetToForm':function(formObject,lstVariable,data){var sFormDivID=TriSysApex['FormsManager']['ContentDivPrefix']+formObject['Name']['toLowerCase']();const lstField=TriSysFlexiva['Forms']['Renderer']['ReadDOMFieldList'](sFormDivID);if(data['DataTable']&&data['DataTable']['List']&&data['DataTable']['List']['length']==0x1&&data['Columns']){const record=data['DataTable']['List'][0x0];data['Columns']['forEach'](function(column){const sFieldName=column['field'],sFieldValue=record[sFieldName];lstField['forEach'](function(fieldElement){if(fieldElement['field']['Name']==sFieldName){const sFieldID=fieldElement['id'],sFieldType=fieldElement['field']['Type'],sTriSysFieldType=TriSysFlexiva['Forms']['Renderer']['TriSysFieldType']({'Type':sFieldType},!![],fieldElement['field']);TriSysSDK['CShowForm']['writeFieldValueToWidget'](sFieldID,sFieldValue,{'FieldTypeId':sTriSysFieldType});}});}),TriSysFlexiva['Forms']['Renderer']['LoadComponentsAfterRecordLoaded'](formObject,lstVariable,sFormDivID);const formData=TriSysFlexiva['Forms']['Events']['CRUD']['ReadFormDataFields'](formObject);formObject['RunTimeOnly']['FormData']=formData,TriSysFlexiva['Forms']['Events']['RunTime']['DisplayRecordSummary'](formObject);}else{}},'DisplayRecordSummary':function(formObject){var sRecordSummary=formObject['Form']['RecordSummary'];if(sRecordSummary){const lRecordId=formObject['RunTimeOnly']['RecordID'];formObject['RunTimeOnly']['FormData']['forEach'](function(formField){const sFieldWithBrackets='{'+formField['field']['Name']+'}';if(sRecordSummary['indexOf'](sFieldWithBrackets)>=0x0){const sValue=formField['field']['Value'];sRecordSummary=sRecordSummary['replace'](sFieldWithBrackets,sValue);return;}});if(lRecordId)TriSysApex['BrowserHistory']['Menu']['Add'](formObject['Name'],lRecordId,sRecordSummary);}},'WriteDataToWebAPI':function(formObject,sRequestId,lstVariable,sMessagePrefix,fnSuccessCallback,fnErrorCallback){var options={'RequestId':sRequestId,'CustomVariables':lstVariable,'Wait':{'Show':!![],'Message':sMessagePrefix+'\x20'+formObject['Form']['Caption']+'...'},'CallbackSuccess':function(CInvokeCRUDoperationUsingThirdPartyDataSourceResponse){fnSuccessCallback(CInvokeCRUDoperationUsingThirdPartyDataSourceResponse);},'CallbackFailure':function(sErrorMessage){debugger;fnErrorCallback(sErrorMessage),console['log']('TriSysFlexiva.Forms.Events.RunTime.WriteDataToWebAPI\x20Error:\x20'+sErrorMessage);}};TriSysFlexiva['DataSources']['WebAPI']['SendRequest'](options);}},'CRUD':{'Update':async function(){var bUpdateOrCreate=!![];const formObject=TriSysFlexiva['Forms']['Identification']['CurrentOpenFormObject']();if(formObject){const formData=TriSysFlexiva['Forms']['Events']['CRUD']['ReadFormDataFields'](formObject);formObject['RunTimeOnly']['FormData']=formData;const parameterObject={'FormName':formObject['Name'],'FormObject':formObject};if(formObject['Developer']&&formObject['Developer']['FormScriptObjectName']){const sFunction=formObject['Developer']['FormScriptObjectName']+'.Form_BeforeSave';try{const result=await TriSysApex['DynamicClasses']['CallFunctionAsync'](sFunction,parameterObject);if(result&&result['Cancel'])bUpdateOrCreate=![];}catch(e){}}if(bUpdateOrCreate){var sVerb='Update',sRecordID=formObject['RunTimeOnly']['RecordID'];const fnUpdatedFieldsAndComponents=function(requestObject){const request=requestObject['request'];if(!request){TriSysApex['UI']['ShowError']('No\x20'+sVerb+'\x20data\x20source\x20request\x20object\x20found\x20for\x20form:\x20'+formObject['Name']);return;}const lstVariable=[],lstClientVariables=TriSysFlexiva['Variables']['ReadAllByType'](TriSysFlexiva['Variables']['Constants']['Client']);formData['forEach'](function(formField){const sCustomVariable=formField['field']['CustomVariable'];if(sCustomVariable&&sCustomVariable!==''){var bMatchedRequestFieldWithFormField=![];request['Fields']['forEach'](function(dataSourceRequestField){if(formField['field']['Name']==dataSourceRequestField['Field']){lstVariable['push']({'Name':sCustomVariable,'Value':formField['field']['Value']}),bMatchedRequestFieldWithFormField=!![];return;}}),!bMatchedRequestFieldWithFormField&&lstClientVariables['forEach'](function(clientVariable){if(clientVariable['Name']==sCustomVariable){lstVariable['push']({'Name':sCustomVariable,'Value':formField['field']['Value']});return;}});}});if(request['Body']['Format']==TriSysFlexiva['Settings']['Constants']['BodyFormat_JSON']&&request['Body']['Json']){const lstFieldVariableName=TriSysFlexiva['Variables']['ExtractFields'](request['Body']['Json'],!![]);lstFieldVariableName&&lstFieldVariableName['forEach'](function(sFieldVariableName){var bFound=![];lstVariable['forEach'](function(variable){if(variable['Name']==sFieldVariableName)bFound=!![];}),!bFound&&lstClientVariables['forEach'](function(clientVariable){if(clientVariable['Name']==sFieldVariableName){lstVariable['push']({'Name':clientVariable['Name'],'Value':clientVariable['Value']});return;}});});}TriSysFlexiva['Forms']['Events']['RunTime']['WriteDataToWebAPI'](formObject,request['RequestId'],lstVariable,sRecordID&&sRecordID!='0'?'Saving':'Creating',function(data){TriSysApex['Toasters']['Success'](formObject['Name']+'\x20record\x20saved\x20successfully!'),TriSysFlexiva['Forms']['Events']['RunTime']['DisplayRecordSummary'](formObject);var bNewRecord=sRecordID?![]:!![];if(bNewRecord&&data&&data['DataTable']&&data['DataTable']['List']){const record=data['DataTable']['List'][0x0];var sRecordIDField=null;request['Fields']['forEach'](function(dataSourceRequestField){if(dataSourceRequestField['Key']){sRecordIDField=dataSourceRequestField['Field'];return;}});const getSpecificKey=function(responseObj,keyName){for(const key in responseObj){if(key!=='message'&&key!=='success')try{const parsedObj=JSON['parse'](responseObj[key]);if(parsedObj&&parsedObj[keyName]!==undefined)return parsedObj[keyName];}catch(error){console['log']('Error\x20parsing\x20'+key+':\x20'+error['message']);}}return null;};sRecordID=getSpecificKey(record,sRecordIDField),formObject['RunTimeOnly']['RecordID']=sRecordID;}TriSysFlexiva['Forms']['Events']['CallCustomFormFunction'](formObject,'Form_AfterSave',parameterObject),bNewRecord&&TriSysApex['FormsManager']['OpenForm'](formObject['Name'],sRecordID,!![]);},function(sErrorMessage){TriSysApex['UI']['errorAlert'](sErrorMessage);});};sVerb=sRecordID&&sRecordID!='0'?'Update':'Create',TriSysFlexiva['Forms']['Events']['RunTime']['LoadDataSource'](sVerb,formObject,fnUpdatedFieldsAndComponents);}}},'Delete':async function(){var bDelete=!![];const formObject=TriSysFlexiva['Forms']['Identification']['CurrentOpenFormObject']();if(formObject){const parameterObject={'FormName':formObject['Name']};if(formObject['Developer']&&formObject['Developer']['FormScriptObjectName']){const sFunction=formObject['Developer']['FormScriptObjectName']+'.Form_BeforeDelete';try{const result=await TriSysApex['DynamicClasses']['CallFunctionAsync'](sFunction,parameterObject);if(result&&result['Cancel'])bDelete=![];}catch(e){}}if(bDelete){const sVerb='Delete',fnDeleteRecord=function(request){const lstVariable=[],lstClientVariable=TriSysFlexiva['Variables']['ReadAllByType'](TriSysFlexiva['Variables']['Constants']['Client']),lstRequestVariable=TriSysFlexiva['Variables']['ExtractFields'](request['Url']);return lstRequestVariable&&lstClientVariable&&lstRequestVariable['forEach'](function(sRequestVariableName){const variable=TriSysFlexiva['Variables']['ReadVariableByNameFromList'](lstClientVariable,sRequestVariableName);if(variable){lstVariable['push']({'Name':variable['Name'],'Value':formObject['RunTimeOnly']['RecordID']});return;}}),TriSysFlexiva['Forms']['Events']['RunTime']['WriteDataToWebAPI'](formObject,request['RequestId'],lstVariable,'Deleting',function(data){TriSysApex['Toasters']['Success'](formObject['Name']+'\x20record\x20deleted\x20successfully!');const sID='history-menu-'+formObject['Name']+'-'+formObject['RunTimeOnly']['RecordID'];TriSysApex['BrowserHistory']['Menu']['EnumerateAndRemoveDuplicateItem'](sID),TriSysApex['FormsManager']['CloseForm'](formObject['Name'],![]),TriSysFlexiva['Forms']['Events']['CallCustomFormFunction'](formObject,'Form_AfterDelete',parameterObject);},function(sErrorMessage){TriSysApex['UI']['errorAlert'](sErrorMessage);}),!![];},fnDeleteRecordAfterConfirmationPrompt=function(requestObject){const request=requestObject['request'];if(!request){TriSysApex['UI']['ShowError']('No\x20'+sVerb+'\x20data\x20source\x20request\x20object\x20found\x20for\x20form:\x20'+formObject['Name']);return;}if(!formObject['RunTimeOnly']['RecordID']){TriSysApex['UI']['ShowError']('No\x20key\x20record\x20ID\x20known\x20for\x20form:\x20'+formObject['Name']);return;}var sMessage='Please\x20confirm\x20that\x20you\x20want\x20to\x20delete\x20this\x20record?';TriSysApex['UI']['questionYesNo'](sMessage,'Delete\x20'+formObject['Name']+'\x20Confirmation','Yes',function(){return fnDeleteRecord(request),!![];},'No');};TriSysFlexiva['Forms']['Events']['RunTime']['LoadDataSource'](sVerb,formObject,fnDeleteRecordAfterConfirmationPrompt);}}},'ReadFormDataFields':function(formObject){var sFormDivID=TriSysApex['FormsManager']['ContentDivPrefix']+formObject['Name']['toLowerCase']();const lstField=TriSysFlexiva['Forms']['Renderer']['ReadDOMFieldList'](sFormDivID);return lstField['forEach'](function(fieldElement){const sFieldID=fieldElement['id'],field=fieldElement['field'],sFieldType=field['Type'],sTriSysFieldType=TriSysFlexiva['Forms']['Renderer']['TriSysFieldType']({'Type':sFieldType},!![],field),objValue=TriSysSDK['CShowForm']['readFieldValueFromWidget'](sFieldID,sTriSysFieldType);fieldElement['field']['Value']=objValue;}),lstField;}}},'Identification':{'_ListOfLoadedFormObjects':[],'AddLoadedFormObject':function(formObject){if(!formObject)return;const lst=TriSysFlexiva['Forms']['Identification']['_ListOfLoadedFormObjects'],iExistingIndex=lst['findIndex'](function(existingForm){return existingForm['Name']===formObject['Name'];});iExistingIndex>=0x0?lst[iExistingIndex]=formObject:lst['push'](formObject);},'CurrentOpenFormObject':function(){var sFormName=TriSysApex['TourGuide']['GetFormNameForCurrentForm']();const lst=TriSysFlexiva['Forms']['Identification']['_ListOfLoadedFormObjects'];if(sFormName&&lst['length']>0x0)return lst['find'](function(formObject){return formObject['Name']===sFormName;});}}},'Configurators':{'KeyValuePairs':{'Load':function(options){var fnLoadControlHTML=function(){if(!options)return;TriSysApex['FormsManager']['loadControlIntoDiv'](options['ID'],'ctrlKeyValuePairsTable.html',function(response,status,xhr){ctrlKeyValuePairsTable['Loaded'](options);});},bInDev=TriSysApex['Environment']['isDeployedInTestMode']();if(typeof ctrlKeyValuePairsTable===TriSysApex['Constants']['Undefined']||bInDev)TriSysApex['WhiteLabelling']['LoadJavascriptFile']('js/pages/ctrlKeyValuePairsTable.js',null,fnLoadControlHTML);else fnLoadControlHTML();},'Read':function(sID){return ctrlKeyValuePairsTable['ReadData'](sID);}},'PopulateKeyValuePairDataEntryGrid':function(options){const gridJQueryID='#'+options['GridID'];$(gridJQueryID)['empty']();const observableData=new kendo['data']['ObservableArray'](options['Data']);var model={'id':'Key','fields':{'Key':{'type':'string','validation':{'required':!![]}},'Value':{'type':'string'},'Description':{'type':'string'}}};if(options['Model'])model=options['Model'];var dataSource=new kendo['data']['DataSource']({'data':observableData,'schema':{'model':model}}),columns=[{'field':'Key','title':'Key','width':'150px'},{'field':'Value','title':'Value','width':'200px'},{'field':'Description','title':'Description','width':'150px'}];if(options['Columns'])columns=options['Columns'];var sDeleteCaption='';columns['push']({'command':{'template':'<a\x20class=\x22btn\x20btn-sm\x20btn-default\x20enable-tooltip\x20k-grid-delete\x22\x20title=\x22Delete\x20row\x22\x20style=\x22cursor:\x20pointer;\x22>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<i\x20class=\x22gi\x20gi-remove\x20themed-color\x22></i>\x20&nbsp;\x20'+sDeleteCaption+'\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x20\x20\x20</a>'},'title':'Action','width':'65px'});var toolbar=[];options['AddRowCaption']&&toolbar['push']({'template':'<a\x20style=\x22cursor:\x20pointer;\x22\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x20\x20\x20class=\x22btn\x20btn-sm\x20btn-default\x20enable-tooltip\x20k-grid-add\x22\x20title=\x22Add\x20a\x20new\x20header\x20row\x22\x20>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09<i\x20class=\x22gi\x20gi-plus\x20themed-color\x22></i>\x20&nbsp;\x20'+options['AddRowCaption']+'\x20&nbsp;\x0a\x09\x09\x09\x09\x09\x09\x09\x09</a\x20>\x20'});var grid=$(gridJQueryID)['kendoGrid']({'dataSource':dataSource,'toolbar':toolbar,'editable':!![],'columns':columns,'resizable':!![],'save':function(e){const gridObject=this;var modelKey=e['model'][model['id']];if(!modelKey||modelKey['trim']()==='')return;console['log']('Row\x20added/updated:',e['model']),setTimeout(function(){fnDataChanged(observableData);},0x64);}})['data']('kendoGrid');$(gridJQueryID)['off']('click','.k-grid-add')['on']('click','.k-grid-add',function(){try{grid['addRow']();}catch(e){debugger;console['log']('Error\x20adding\x20row:',e);}}),$(gridJQueryID)['off']('click','.k-grid-delete')['on']('click','.k-grid-delete',function(e){e['preventDefault']();try{var tr=$(this)['closest']('tr'),dataItem=grid['dataItem'](tr);grid['dataSource']['remove'](dataItem),grid['dataSource']['sync'](),fnDataChanged(observableData);}catch(e){debugger;console['log']('Error\x20deleting\x20row:',e);}});var fnDataChanged=function(gridObservableData){var data=gridObservableData['toJSON']();if(options['SaveFunctionCallback']){var lstData=[];for(var i=0x0;i<data['length'];i++){var row=data[i];lstData['push'](row);}options['SaveFunctionCallback'](lstData);}fnCurvatureFix(gridObservableData);};const sLeftElement='border-bottom-left-radius',sRightElement='border-bottom-right-radius';$(gridJQueryID+'\x20.k-grid-container')['css'](sLeftElement,'8px')['css'](sRightElement,'8px');var fnCurvatureFix=function(latestObservableData){if(latestObservableData['length']==0x0)$(gridJQueryID+'\x20.k-grid-header')['css'](sLeftElement,'8px')['css'](sRightElement,'8px');};fnCurvatureFix(observableData);}},'CustomVariables':{'Management':{'Configurator':function(){const configurator={'text':'Custom\x20Variables','image':'gi-pencil','control':'app-studio/ctrlCustomVariables.html','script':TriSysApex['Constants']['UserControlFolder']+'app-studio/ctrlCustomVariables.js','loadFunction':'ctrlCustomVariables.Load','saveFunction':'ctrlCustomVariables.Persistence.Save','applyButtonHidden':!![],'applyAndCloseButtonHidden':!![],'CustomVariables':{'Type':TriSysFlexiva['Variables']['Constants']['Client']}};return configurator;},'ModalSelection':function(options){const fnOpenModal=function(){const sImage='gi\x20gi-link';var parametersObject=new TriSysApex['UI']['ShowMessageParameters']();parametersObject['Title']='Select\x20'+options['Type']+'\x20Variable',parametersObject['Image']=options['Image'],parametersObject['Maximize']=!![],parametersObject['FullScreen']=!![],parametersObject['CloseTopRightButton']=!![],parametersObject['ContentURL']=TriSysApex['Constants']['UserControlFolder']+'app-studio/ctrlCustomVariables.html',parametersObject['ButtonCentreText']='Select',parametersObject['ButtonCentreVisible']=!![],parametersObject['ButtonCentreFunction']=function(){var selectedVariable=ctrlCustomVariables['SelectedVariable'](),selectedSource=ctrlCustomVariables['SelectedSource']();return!selectedVariable?(TriSysApex['UI']['ShowMessage']('Please\x20select\x20a\x20variable.'),![]):(options['Callback'](selectedVariable,selectedSource),!![]);},parametersObject['ButtonRightText']='Cancel',parametersObject['ButtonRightVisible']=!![],parametersObject['OnLoadCallback']=function(){const configurator=TriSysFlexiva['CustomVariables']['Management']['Configurator']();configurator['SelectionModeOnly']=!![],configurator['CustomVariables']['Type']=options['Type'],ctrlCustomVariables['Load'](configurator);},TriSysApex['UI']['PopupMessage'](parametersObject);};TriSysApex['WhiteLabelling']['LoadJavascriptFile'](TriSysApex['Constants']['UserControlFolder']+'app-studio/ctrlCustomVariables.js',null,fnOpenModal);},'ListForComboSelection':function(){const lst=[{'text':'','value':''}],variables=TriSysFlexiva['Variables']['_Variables'];if(variables){const vConstants=TriSysFlexiva['Variables']['Constants'],sources=[vConstants['Client']];sources['forEach'](source=>{variables[source]&&Array['isArray'](variables[source])&&variables[source]['forEach'](variable=>{const sVariable=variable['Name'];lst['push']({'text':sVariable,'value':sVariable});});});}return lst;},'ListOfAllVariables':function(options){const lst=[],variables=TriSysFlexiva['Variables']['_Variables'];if(variables){const lstType=[TriSysFlexiva['Variables']['Constants']['Client']];var bAddServer=!![];if(options&&options['ClientOnly'])bAddServer=![];if(bAddServer)lstType['push'](TriSysFlexiva['Variables']['Constants']['Server']);lstType['forEach'](sType=>{variables[sType]&&Array['isArray'](variables[sType])&&variables[sType]['forEach'](variable=>{lst['push'](variable);});});}if(options&&options['ListOfStringsOnly']){const lstStrings=[];lst['forEach'](variable=>{lstStrings['push'](variable['Name']);});options['Sort']&&lstStrings['sort'](function(a,b){if(!a)return-0x1;if(!b)return 0x1;return a['toLowerCase']()['localeCompare'](b['toLowerCase']());});if(options['AddBlankTopAndSelected'])lstStrings['unshift']('');return lstStrings;}return lst;},'ListOfAllVariablesAsStringForCombo':function(){const lstVariable=TriSysFlexiva['CustomVariables']['Management']['ListOfAllVariables']({'ListOfStringsOnly':!![],'Sort':!![],'AddBlankTopAndSelected':!![],'ClientOnly':!![]}),lst=[];return lstVariable['forEach'](sVariable=>{lst['push']({'text':sVariable,'value':sVariable});}),lst;}}},'DataSources':{'Management':{'Configurator':function(){const configurator={'text':'Data\x20Source','image':'fa-database','control':'app-studio/ctrlDataSources.html','script':TriSysApex['Constants']['UserControlFolder']+'app-studio/ctrlDataSources.js','loadFunction':'AppStudioDataSources.Load','saveFunction':'AppStudioDataSources.Persistence.Save','applyButtonHidden':!![],'applyAndCloseButtonHidden':!![]};return configurator;},'ReadAll':function(fnCallback){TriSysFlexiva['DataSources']['WebAPI']['Read'](function(sJSON){var treeViewObjectArray=null;if(sJSON)treeViewObjectArray=JSON['parse'](sJSON);fnCallback(treeViewObjectArray);});},'ReadRequestObject':function(sRequestId,fnCallback){TriSysFlexiva['DataSources']['Management']['ReadAll'](function(lstDataSources){const requestObject=TriSysFlexiva['DataSources']['Management']['GetDataSource'](lstDataSources,sRequestId);fnCallback(requestObject);});},'GetDataSource':function(lstDataSources,sRequestId){const dataSourceRequest={'Description':'','request':null},request=TriSysFlexiva['DataSources']['Management']['ReadRequest'](lstDataSources,sRequestId);return request&&request['forEach'](function(dataSourceObject){if(dataSourceRequest['Description']['length']>0x0)dataSourceRequest['Description']+='\x20&nbsp;\x20>\x20&nbsp;\x20';dataSourceRequest['Description']+=dataSourceObject['text'],dataSourceObject['request']&&(dataSourceRequest['request']=dataSourceObject['request'],dataSourceRequest['DisplayDescription']=dataSourceRequest['Description'],dataSourceRequest['Description']+='<br><br><img\x20class=\x22http-verb\x22\x20src=\x22'+TriSysFlexiva['DataSources']['GUI']['VerbImage'](dataSourceObject['request']['Verb'])+'\x22>\x20&nbsp;\x20'+dataSourceObject['request']['Url']);}),dataSourceRequest;},'ReadRequest':function(lstDataSources,sRequestId){var requestObject=null;if(lstDataSources)return TriSysFlexiva['DataSources']['Management']['findRequestPath'](lstDataSources,sRequestId);return requestObject;},'findRequestPath':function(data,requestId){for(let dataSource of data){let path=TriSysFlexiva['DataSources']['Management']['searchItems'](dataSource,requestId,[dataSource]);if(path)return path;}return null;},'searchItems':function(node,requestId,path){if(node['request']&&node['request']['RequestId']===requestId)return path;if(node['items'])for(let item of node['items']){let result=TriSysFlexiva['DataSources']['Management']['searchItems'](item,requestId,[...path,item]);if(result)return result;}return null;},'GetConnectionCredentials':function(lstDataSources,request,fnAfterGettingDataSourceCredentials){TriSysFlexiva['DataSources']['Requests']['DetermineSendRequestAuthorisation'](request,lstDataSources),fnAfterGettingDataSourceCredentials();}},'GUI':{'VerbImage':function(sVerb){const sImage='images/trisys/app-studio/'+sVerb['toLowerCase']()+'-30x30.png?ts=202410092000';return sImage;},'Select':function(sType,request,fnCallback){const fnOpenModal=function(){const sImage='fa\x20fa-database';var parametersObject=new TriSysApex['UI']['ShowMessageParameters']();parametersObject['Title']='Select\x20Data\x20Source\x20Request:\x20'+sType,parametersObject['Image']=sImage,parametersObject['Maximize']=!![],parametersObject['Width']=$(window)['width']()-0xc8,parametersObject['CloseTopRightButton']=!![],parametersObject['ContentURL']=TriSysApex['Constants']['UserControlFolder']+'app-studio/ctrlDataSources.html',parametersObject['ButtonCentreText']='Select',parametersObject['ButtonCentreVisible']=!![],parametersObject['ButtonCentreFunction']=function(){var selectedRequest=AppStudioDataSources['SelectedRequest']();return!selectedRequest||!selectedRequest['RequestId']?(TriSysApex['UI']['ShowMessage']('Please\x20select\x20a\x20data\x20source\x20request'),![]):(fnCallback(sType,selectedRequest),!![]);},parametersObject['ButtonRightText']='Cancel',parametersObject['ButtonRightVisible']=!![],parametersObject['OnLoadCallback']=function(){const configurator=TriSysFlexiva['DataSources']['Management']['Configurator']();configurator['SelectionModeOnly']=!![],configurator['DataSourceRequest']=request,AppStudioDataSources['Load'](configurator);},TriSysApex['UI']['PopupMessage'](parametersObject);};TriSysApex['WhiteLabelling']['LoadJavascriptFile'](TriSysApex['Constants']['UserControlFolder']+'app-studio/ctrlDataSources.js',null,fnOpenModal);},'DisplayDataSources':function(options){if(options&&options['DataSources']&&options['DataSources']['length']>0x0){const fnDisplayDataSources=function(lstDataSources){var iCounter=0x0;options['DataSources']['forEach'](function(dataSource){const sRequestId=dataSource['RequestId'],sType=dataSource['Type'];iCounter+=0x1,TriSysFlexiva['DataSources']['GUI']['DisplayDataSource'](lstDataSources,sRequestId,sType,iCounter,options);});if(options['OnCompletion'])options['OnCompletion']();};TriSysFlexiva['DataSources']['Management']['ReadAll'](fnDisplayDataSources);}},'DisplayDataSource':function(lstDataSources,sRequestId,sType,iCounter,options){const dataSourceRequest=TriSysFlexiva['DataSources']['Management']['GetDataSource'](lstDataSources,sRequestId),sSpanSuffix=options['SpanSuffixCounter']?'-'+iCounter:'',sElementID=options['Prefix']+sType+sSpanSuffix,elemSpan=$('#'+sElementID);elemSpan['html'](dataSourceRequest['Description']);const elemDataSourceID=$('#ctrlFieldComponentProperties-DataSource-Table-Row'+sSpanSuffix);$(elemDataSourceID)['show']();if(dataSourceRequest['request']){dataSourceRequest['request']['DisplayDescription']=dataSourceRequest['DisplayDescription'];const sJSON=JSON['stringify'](dataSourceRequest['request']),sBase64=TriSysAPI['Encryption']['Base64']['encode'](sJSON);elemSpan['attr']('data-source-request',sBase64);const lstField=dataSourceRequest['request']['Fields'];if(lstField&&lstField['length']>0x0){const lstFieldName=[];lstField['forEach'](function(field){lstFieldName['push'](field['Field']);});const comboData=TriSysSDK['CShowForm']['generateDataSourceFromListOfString'](lstFieldName),fnPopulateFieldCombo=function(sFieldName,sSelectedValue){if(comboData['length']>0x0){TriSysSDK['CShowForm']['populateComboFromDataSource'](sFieldName,comboData,0x0);if(sSelectedValue)TriSysSDK['CShowForm']['SetTextInCombo'](sFieldName,sSelectedValue);}},sPrefix='ctrlFormProperties-DataSource-FieldMapping-';fnPopulateFieldCombo(sPrefix+'Data'),fnPopulateFieldCombo(sPrefix+'Display');}}},'RemoveRequest':function(sType,sPrefix,dataSources){const elemSpan=$('#'+sPrefix+sType);elemSpan['attr']('dataSourceRequest',null),elemSpan['html']('No\x20'+sType+'\x20data\x20source\x20configured');if(dataSources&&dataSources['length']>0x0)for(var i=dataSources['length']-0x1;i>=0x0;i--){const dataSource=dataSources[i];if(sType==dataSource['Type']){dataSources['splice'](i,0x1);break;}}}},'WebAPI':{'Read':function(fnCallback){var payloadObject={};payloadObject['URL']='AppStudio/ReadCustomDataSources',payloadObject['OutboundDataPacket']={'TreeFormat':!![]},payloadObject['InboundDataFunction']=function(CReadCustomDataSourcesResponse){TriSysApex['UI']['HideWait']();if(CReadCustomDataSourcesResponse&&CReadCustomDataSourcesResponse['Success']&&fnCallback){const sJSON=TriSysAPI['Encryption']['Base64']['decode'](CReadCustomDataSourcesResponse['JSON']);fnCallback(sJSON);}},payloadObject['ErrorHandlerFunction']=function(request,status,error){TriSysApex['UI']['HideWait'](),console['log'](TriSysAPI['Data']['BaseAddress']()+':\x20'+status+':\x20'+error+'.\x20responseText:\x20'+request['responseText']);},TriSysApex['UI']['ShowWait'](null,'Reading\x20Data\x20Sources...'),TriSysAPI['Data']['PostToWebAPI'](payloadObject);},'SendRequest':function(options){if(!options)return;if(!options['RequestId'])return;if(!options['CallbackSuccess'])return;if(!options['CallbackFailure'])return;var customVariables=options['CustomVariables'],sWaitMessage=options['Wait']['Message'],bShowWait=options['Wait']['Show'],sFunction='TriSysFlexiva.DataSources.WebAPI.SendRequest:\x20',CInvokeCRUDoperationUsingThirdPartyDataSourceRequest={'RequestGUID':options['RequestId'],'RequestURL':options['RequestURL'],'BodyJson':options['BodyJson'],'CustomVariables':customVariables},payloadObject={};payloadObject['URL']='AppStudio/InvokeCRUDoperationUsingThirdPartyDataSource',payloadObject['OutboundDataPacket']=CInvokeCRUDoperationUsingThirdPartyDataSourceRequest,payloadObject['InboundDataFunction']=function(CInvokeCRUDoperationUsingThirdPartyDataSourceResponse){if(bShowWait)TriSysApex['UI']['HideWait']();if(CInvokeCRUDoperationUsingThirdPartyDataSourceResponse){CInvokeCRUDoperationUsingThirdPartyDataSourceResponse['Success']?options['CallbackSuccess'](CInvokeCRUDoperationUsingThirdPartyDataSourceResponse):options['CallbackFailure'](CInvokeCRUDoperationUsingThirdPartyDataSourceResponse['ErrorMessage']);return;}options['CallbackFailure'](sFunction+'Error:\x20null\x20response');},payloadObject['ErrorHandlerFunction']=function(request,status,error){if(bShowWait)TriSysApex['UI']['HideWait']();options['CallbackFailure'](sFunction+status+':\x20'+error+'.\x20responseText:\x20'+request['responseText']);};if(bShowWait)TriSysApex['UI']['ShowWait'](null,sWaitMessage);TriSysAPI['Data']['PostToWebAPI'](payloadObject);},'ReadLookupData':function(lookupOptions,fnCallback){var requestData=null,sRequestId=null;if(lookupOptions){if(lookupOptions['RequestDataObject'])requestData=lookupOptions['RequestDataObject'];else{if(lookupOptions['RequestData'])requestData=lookupOptions['RequestData'];else{if(lookupOptions['Field'])requestData=lookupOptions['Field']['Lookup']['RequestDataObject'];}}sRequestId=requestData['RequestId'];}else return;var options={'RequestId':sRequestId,'CustomVariables':TriSysFlexiva['Variables']['ReadAllByType'](),'Wait':{'Show':![]},'CallbackSuccess':function(CInvokeCRUDoperationUsingThirdPartyDataSourceResponse){fnCallback(CInvokeCRUDoperationUsingThirdPartyDataSourceResponse);},'CallbackFailure':function(sErrorMessage){debugger;console['log']('TriSysFlexiva.DataSources.WebAPI.ReadLookupData\x20Error:\x20'+sErrorMessage);}};TriSysFlexiva['DataSources']['WebAPI']['SendRequest'](options);}},'Requests':{'ClientSide':function(request,fnCallback){if(!request)return;if(!/^(http|https):\/\/.*/['test'](request['Url'])){TriSysApex['UI']['ErrorMessage']('The\x20request:\x20'+request['Url']+'\x20is\x20not\x20a\x20valid\x20URL.');return;}},'CallRestAPI':function(url,method,headers={},body=null,callback){const requestHeaders=headers;!requestHeaders['Content-Type']&&!requestHeaders['content-type']&&(requestHeaders['Content-Type']='application/json');const options={'method':method,'headers':requestHeaders};return method!=='GET'&&method!=='DELETE'&&method!=='HEAD'&&(options['body']=body?JSON['stringify'](body):null),fetch(url,options)['then'](response=>response['text']()['then'](text=>{try{if(text==='true')return!![];if(text==='false')return![];return text?JSON['parse'](text):null;}catch(e){return text;}}))['then'](data=>{callback&&callback(null,data);})['catch'](error=>{callback&&callback({'status':error['status']||0x1f4,'statusText':error['statusText']||'Error','error':error['message'],'response':error['toString']()},null);});},'DetermineSendRequestAuthorisation':function(request,treeViewHierarchy){TriSysFlexiva['DataSources']['Requests']['ReplaceVariablesInRequest'](request);},'ReplaceVariablesInRequest':function(request){request['Url']&&(request['Url']=TriSysFlexiva['Variables']['ParseAndReplace'](request['Url']));if(request['Url']&&request['Parameters']){if(!request['ParameterFormat'])request['ParameterFormat']=TriSysFlexiva['Settings']['Constants']['ParameterFormat_Arg'];var sParameters='';request['Parameters']['forEach'](function(parameter){var sValue=TriSysFlexiva['Variables']['Replace'](parameter['Value']);if(sValue)switch(request['ParameterFormat']){case TriSysFlexiva['Settings']['Constants']['ParameterFormat_Args']:if(sParameters['indexOf']('?')>=0x0)sParameters+='&';else sParameters+='?';sParameters+=parameter['Key']+'='+sValue;break;case TriSysFlexiva['Settings']['Constants']['ParameterFormat_Query']:if(sParameters['length']>0x0)sParameters+=',';sParameters+='\x22'+parameter['Key']+'\x22:\x22'+sValue+'\x22';break;}});if(sParameters['length']>0x0){if(request['ParameterFormat']==TriSysFlexiva['Settings']['Constants']['ParameterFormat_Query'])sParameters='?q={'+sParameters+'}';request['Url']+=sParameters;}}request['Headers']&&request['Headers']['forEach'](function(header){});if(request['Body']){if(request['Body']['Format']==TriSysFlexiva['Settings']['Constants']['BodyFormat_JSON'])request['Body']['Json']=TriSysFlexiva['Variables']['ParseAndReplace'](request['Body']['Json']);else request['Body']['Format']==TriSysFlexiva['Settings']['Constants']['BodyFormat_Grid']&&request['Body']['Grid']['forEach'](function(bodyPart){bodyPart['Value']=TriSysFlexiva['Variables']['ParseAndReplace'](bodyPart['Value']);});}},'SendRequestToWebAPI':function(request,fnCallback,sendOptions){if(!request)return;var bParametersSubstituted=![],bBodySubstituted=![],fnDebugCallback=function(sDebug){console['log'](sDebug);};if(sendOptions){if(sendOptions['DebugCallback'])fnDebugCallback=sendOptions['DebugMessageCallback'];bParametersSubstituted=sendOptions['ParametersSubstituted'],bBodySubstituted=sendOptions['BodySubstituted'];}fnDebugCallback('URL:\x20'+request['Url']),fnDebugCallback('Verb:\x20'+request['Verb']);const bServerSideWebAPI=!![];if(bServerSideWebAPI){const sRequestId=request['RequestId'],lstCustomVariable=bParametersSubstituted?null:TriSysFlexiva['Variables']['ReadAllByType']();var options={'RequestId':sRequestId,'CustomVariables':lstCustomVariable,'Wait':{'Show':![]},'CallbackSuccess':function(data){var sDebug='Response\x20Received:\x20OK';fnDebugCallback(sDebug);if(fnCallback)fnCallback(null,data);},'CallbackFailure':function(sErrorMessage){var sDebug='Failure\x20Response\x20Received:\x20'+sErrorMessage;fnDebugCallback(sDebug);if(fnCallback)fnCallback(sErrorMessage,null);}};if(bParametersSubstituted)options['RequestURL']=request['Url'];if(bBodySubstituted)options['BodyJson']=request['Body']['Json'];TriSysFlexiva['DataSources']['WebAPI']['SendRequest'](options);}}}},'AppToolBar':{'GUI':{'Apply':function(){TriSysFlexiva['AppToolBar']['WebAPI']['Read'](function(sJSON){if(sJSON){const toolbarConfiguration=JSON['parse'](sJSON);toolbarConfiguration&&TriSysFlexiva['AppToolBar']['GUI']['ApplyConfig'](toolbarConfiguration);}});},'ApplyConfig':function(toolbarConfiguration){toolbarConfiguration['forEach'](function(toolbarElement){const dataItem=toolbarElement['data'];switch(dataItem['Type']){case TriSysFlexiva['Settings']['Constants']['AppToolbar_Type']['NavBar']:const navBarElement=$('#navbar-product-logo-hyperlink');dataItem['Visible']?navBarElement['show']():navBarElement['hide']();if(dataItem['ProductLogoImage']){const navBarIcon=$('#product-icon');navBarIcon['attr']('src',dataItem['ProductLogoImage']);}if(dataItem['BrandName']){const navBarBrandName=$('#brand-name');navBarBrandName['text'](dataItem['BrandName']);}if(dataItem['ProductName']){const navBarProductName=$('#product-name');navBarProductName['text'](dataItem['ProductName']);}if(dataItem['NavBarBottomLogoImage']&&dataItem['NavBarBottomLogoHeight']>0x0&&dataItem['NavBarBottomLogoWidth']>0x0){const sidebarElement=$('#sidebar'),sBottomMargin=dataItem['NavBarBottomLogoMargin']?dataItem['NavBarBottomLogoMargin']+'px':'',sStyle='background-image:\x20url(\x22'+dataItem['NavBarBottomLogoImage']+'\x22);\x20\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09background-size:\x20'+dataItem['NavBarBottomLogoWidth']+'px\x20'+dataItem['NavBarBottomLogoHeight']+'px;\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09background-repeat:\x20no-repeat;\x20background-position:\x20center\x20bottom\x20'+sBottomMargin+';';sidebarElement['attr']('style',sStyle);}break;case TriSysFlexiva['Settings']['Constants']['AppToolbar_Type']['SearchBox']:const searchBoxElement=$('#search-textbox-group');dataItem['Visible']?searchBoxElement['show']():searchBoxElement['hide']();const searchInput=$('#trisys-search');if(dataItem['Caption'])searchInput['attr']('placeholder',dataItem['Caption']);if(dataItem['Icon'])TriSysFlexiva['AppToolBar']['GUI']['UpdateSearchIcon'](searchInput,dataItem['Icon']);break;case TriSysFlexiva['Settings']['Constants']['AppToolbar_Type']['HistoryMenu']:const historyMenuElement=$('#history-drop-down-menu');dataItem['Visible']?historyMenuElement['show']():historyMenuElement['hide']();if(dataItem['Caption']){const historyText=$('#history-drop-down-caption');historyText['text'](dataItem['Caption']);}break;case TriSysFlexiva['Settings']['Constants']['AppToolbar_Type']['AddMenu']:const addNewRecordMenuElement=$('#new-record-drop-down-menu');dataItem['Visible']?addNewRecordMenuElement['show']():addNewRecordMenuElement['hide']();if(dataItem['Caption']){const addText=$('#new-record-drop-down-caption');addText['text'](dataItem['Caption']);}const addMenu=$('#add-new-record-drop-down-menu');if(dataItem['Icon']){const iconElement=addMenu['find']('i')['first']();iconElement['attr']('class',dataItem['Icon']);}if(toolbarElement['items']&&toolbarElement['items']['length']>0x0){const menuItems=toolbarElement['items'],ulMenuElement=$('#new-record-drop-down-menu-block');ulMenuElement['empty']();const lstSection=[];var sSectionHTML='';menuItems['forEach'](function(menuItem){const menuData=menuItem['data'];if(menuData['Visible']){if(menuData['SectionBefore']){sSectionHTML['length']>0x0&&(lstSection['push'](sSectionHTML),sSectionHTML='');const sLabelSectionHTML='<li\x20class=\x22dropdown-header\x20text-center\x22>'+menuData['SectionBefore']+'</li>';lstSection['push'](sLabelSectionHTML);}const sMenuHTML='\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<a\x20style=\x22cursor:\x20pointer;\x22\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09onclick=\x22TriSysApex.FormsManager.OpenForm(\x27'+menuData['DataEntryForm']+'\x27)\x22>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<i\x20class=\x22'+menuData['Icon']+'\x20pull-left\x22></i>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09&nbsp;\x20&nbsp;\x20'+menuData['Caption']+'\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09</a>';sSectionHTML+=sMenuHTML;}});if(sSectionHTML['length']>0x0)lstSection['push'](sSectionHTML);var sHTML='';lstSection['forEach'](function(sSectionHTML){if(sSectionHTML['indexOf']('<li')<0x0)sSectionHTML='<li>'+sSectionHTML+'</li>';sHTML+=sSectionHTML;}),ulMenuElement['html'](sHTML);}break;case TriSysFlexiva['Settings']['Constants']['AppToolbar_Type']['CustomButtons']:const customButtonsElement=$('#custom-buttons-group');dataItem['Visible']?customButtonsElement['show']():customButtonsElement['hide']();if(toolbarElement['items']&&toolbarElement['items']['length']>0x0){var sButtonsHTML='';const buttonItems=toolbarElement['items'];buttonItems['forEach'](function(buttonItem){const buttonData=buttonItem['data'];if(buttonData['Visible']){const sColour=TriSysFlexiva['Settings']['Constants']['Bootstrap_Colours']['ColourFromName'](buttonData['Style']),sButtonHTML='\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<li>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<button\x20type=\x22button\x22\x20class=\x22btn\x20btn-sm\x20btn-'+sColour+'\x22\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09style=\x22margin-top:\x2010px;\x20padding-left:\x202px;\x20margin-left:\x2020px;\x22\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09title=\x22'+buttonData['Tooltip']+'\x22\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09onclick=\x22TriSysApex.FormsManager.OpenForm(\x27'+buttonData['Form']+'\x27)\x22>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<i\x20class=\x22'+buttonData['Icon']+'\x22></i>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09&nbsp;\x20'+buttonData['Caption']+'\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09</button>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09</li>';sButtonsHTML+=sButtonHTML;}}),customButtonsElement['html'](sButtonsHTML);}break;case TriSysFlexiva['Settings']['Constants']['AppToolbar_Type']['ShowHelp']:const showHelpElement=$('#show-contextual-help');dataItem['Visible']?showHelpElement['show']():showHelpElement['hide']();if(dataItem['Caption']){const helpText=$('#help-text');helpText['text'](dataItem['Caption']);}dataItem['Tooltip']&&showHelpElement['attr']('title',dataItem['Tooltip']);if(dataItem['Icon']){const iconElement=showHelpElement['find']('i')['first']();iconElement['attr']('class',dataItem['Icon']+'\x20fa-fw');}if(dataItem['Style']){const sColour=TriSysFlexiva['Settings']['Constants']['Bootstrap_Colours']['ColourFromName'](dataItem['Style']);showHelpElement['attr']('class','btn\x20btn-sm\x20btn-'+sColour);}break;case TriSysFlexiva['Settings']['Constants']['AppToolbar_Type']['AccountSummary']:const accountSummaryMenuElement=$('#LoggedInUserDropDownMenu');dataItem['Visible']?accountSummaryMenuElement['show']():accountSummaryMenuElement['hide']();break;}});},'UpdateSearchIcon':function(searchInput,newIconClass){const isFullClass=newIconClass['includes']('\x20'),framework=isFullClass?newIconClass['split']('\x20')[0x0]:newIconClass['startsWith']('fa-')?'fa':'gi',iconClass=isFullClass?newIconClass:framework+'\x20'+(newIconClass['startsWith'](framework+'-')?newIconClass:framework+'-'+newIconClass);!searchInput['parent']()['is']('div[style*=\x22position:\x20relative\x22]')&&searchInput['wrap']('<div\x20style=\x22position:\x20relative;\x20display:\x20inline-block;\x22></div>');const existingIcon=searchInput['parent']()['find']('.fa,\x20.gi')['first']();if(existingIcon['length']>0x0){const classList=existingIcon['attr']('class')['split'](/\s+/);for(let i=0x0;i<classList['length'];i++){(classList[i]['startsWith']('fa-')||classList[i]['startsWith']('gi-')||classList[i]==='fa'||classList[i]==='gi')&&existingIcon['removeClass'](classList[i]);}existingIcon['addClass'](iconClass),console['log']('Search\x20icon\x20updated\x20to',iconClass);}else searchInput['before']('<i\x20class=\x22'+iconClass+'\x22\x20style=\x22position:\x20absolute;\x20left:\x204px;\x20top:\x2026px;\x20\x0a\x09\x09\x09\x09\x09\x09\x09\x09transform:\x20translateY(-50%);\x20color:\x20#777;\x20z-index:\x201;\x20pointer-events:\x20none;\x22></i>'),console['log']('Search\x20icon\x20added:',iconClass);searchInput['css']('padding-left','28px');}},'WebAPI':{'Read':function(fnCallback){var payloadObject={};payloadObject['URL']='AppStudio/ReadAppToolbar',payloadObject['OutboundDataPacket']={'TreeFormat':!![]},payloadObject['InboundDataFunction']=function(CReadCustomToolBarResponse){TriSysApex['UI']['HideWait']();if(CReadCustomToolBarResponse&&CReadCustomToolBarResponse['Success']&&fnCallback){const sJSON=TriSysAPI['Encryption']['Base64']['decode'](CReadCustomToolBarResponse['JSON']);fnCallback(sJSON);}},payloadObject['ErrorHandlerFunction']=function(request,status,error){TriSysApex['UI']['HideWait'](),console['log'](TriSysAPI['Data']['BaseAddress']()+':\x20'+status+':\x20'+error+'.\x20responseText:\x20'+request['responseText']);},TriSysApex['UI']['ShowWait'](null,'Reading\x20App\x20Toolbar...'),TriSysAPI['Data']['PostToWebAPI'](payloadObject);}}},'ActivityMetrics':{'GUI':{'Apply':function(fnStartTimer){TriSysFlexiva['ActivityMetrics']['WebAPI']['Read'](function(sJSON){if(sJSON){const activityMetricsConfiguration=JSON['parse'](sJSON);if(activityMetricsConfiguration){TriSysFlexiva['ActivityMetrics']['GUI']['ApplyConfig'](activityMetricsConfiguration);if(fnStartTimer)fnStartTimer();}}});},'ApplyConfig':function(activityMetricsConfiguration){if(!activityMetricsConfiguration||activityMetricsConfiguration['length']==0x0)return;const navBarActivitiesElement=$('#nav-bar-activities'),accountSummaryElement=$('#LoggedInUserDropDownMenu-ActivityHeader');navBarActivitiesElement['empty'](),accountSummaryElement['nextAll']()['remove']();const root=activityMetricsConfiguration[0x0],rootDataItem=root['data'];rootDataItem['Visible']?navBarActivitiesElement['show']():navBarActivitiesElement['hide'](),rootDataItem['Visible']?accountSummaryElement['show']():accountSummaryElement['hide']();if(rootDataItem['Caption'])accountSummaryElement['text'](rootDataItem['Caption']);const lstMetric=root['items'];var sNavBarHTML='',sAccountSummaryHTML='<li>';lstMetric['forEach'](function(metricItem){const metricData=metricItem['data'];if(metricData['Visible']){const sColour=TriSysFlexiva['Settings']['Constants']['Bootstrap_Colours']['ColourFromName'](metricData['Style']),sTooltipHTML=metricData['Tooltip']?'title=\x22'+metricData['Tooltip']+'\x22':'',sCaptionHTML='<span\x20class=\x22text-'+sColour+'\x22>'+metricData['Caption']+'</span>',sCaptionNoColourHTML=''+metricData['Caption'],sPrimaryFixHTML=metricData['Style']=='Themed'?'themed-background':'',sDrillDownHTML=metricData['Form']?'\x20onclick=\x22TriSysApex.FormsManager.OpenForm(\x27'+metricData['Form']+'\x27);\x22\x20':'',sNavBarDOMiD=metricData['ID']+'-navbar',sHyperlinkHTML='\x0a\x09\x09\x09\x09\x09\x09\x09\x09<a\x20style=\x22cursor:\x20pointer;\x22\x20'+sDrillDownHTML+'\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09class=\x22nav-bar-activity-row\x22\x20'+sTooltipHTML+'\x20>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09<span\x20class=\x22badge\x20pull-right\x20progress-bar-'+sColour+'\x20'+sPrimaryFixHTML+'\x20nav-bar-coloured-activity\x22\x20\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09id=\x22'+sNavBarDOMiD+'\x22>0</span>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09<i\x20class=\x22'+metricData['Icon']+'\x20text-'+sColour+'\x22\x20style=\x22padding-right:\x2010px;\x22></i>\x20\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09'+sCaptionHTML+'\x0a\x09\x09\x09\x09\x09\x09\x09\x09</a>',sNavBarMetricHTML='\x0a\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22sidebar-nav\x20sidebar-nav-activity-row\x22>\x0a\x09\x09\x09\x09\x09\x09\x09\x09'+sHyperlinkHTML+'\x0a\x09\x09\x09\x09\x09\x09\x09</div>';sNavBarHTML+=sNavBarMetricHTML;const sAccountSummaryDOMiD=metricData['ID']+'-accountsummary',sAccountSummaryHyperlinkHTML='\x0a\x09\x09\x09\x09\x09\x09\x09\x09<a\x20style=\x22cursor:\x20pointer;\x22\x20'+sDrillDownHTML+'\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09'+sTooltipHTML+'\x20>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09<span\x20class=\x22badge\x20pull-right\x20progress-bar-'+sColour+'\x20'+sPrimaryFixHTML+'\x22\x20\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09id=\x22'+sAccountSummaryDOMiD+'\x22>0</span>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09<i\x20class=\x22'+metricData['Icon']+'\x20text-'+sColour+'\x22\x20style=\x22padding-right:\x2010px;\x20margin-left:\x20-10px;\x22></i>\x20\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09'+sCaptionNoColourHTML+'\x0a\x09\x09\x09\x09\x09\x09\x09\x09</a>',sAccountSummaryMetricHTML=''+sAccountSummaryHyperlinkHTML;sAccountSummaryHTML+=sAccountSummaryMetricHTML;}}),navBarActivitiesElement['html'](sNavBarHTML),accountSummaryElement['after'](sAccountSummaryHTML+'</li>');}},'Scheduler':{'Timer':function(options){if(options&&options['CancelExistingTimer']){TriSysFlexiva['ActivityMetrics']['Scheduler']['TimerUtilityObject']['cancelAll']();if(options['LoggingOff']){TriSysFlexiva['ActivityMetrics']['Scheduler']['_Configuration']=null;return;}}options&&options['CachedConfiguration']&&(TriSysFlexiva['ActivityMetrics']['Scheduler']['_Configuration']=options['CachedConfiguration']);const fnStartTimer=function(){var iIntervalMilliSeconds=0x0;const config=TriSysFlexiva['ActivityMetrics']['Scheduler']['_Configuration'];if(config&&config['length']>0x0){const rootActivityMetrics=config[0x0]['data'];if(rootActivityMetrics['Frequency']){var iSeconds=0x0;switch(rootActivityMetrics['Frequency']){case TriSysFlexiva['Settings']['Constants']['ActivityMetricFrequency']['Second30']:iSeconds=0x1e;break;case TriSysFlexiva['Settings']['Constants']['ActivityMetricFrequency']['Minute1']:iSeconds=0x3c;break;case TriSysFlexiva['Settings']['Constants']['ActivityMetricFrequency']['Minute2']:iSeconds=0x78;break;case TriSysFlexiva['Settings']['Constants']['ActivityMetricFrequency']['Minute5']:iSeconds=0x12c;break;case TriSysFlexiva['Settings']['Constants']['ActivityMetricFrequency']['Minute10']:iSeconds=0x258;break;case TriSysFlexiva['Settings']['Constants']['ActivityMetricFrequency']['Minute15']:iSeconds=0x384;break;case TriSysFlexiva['Settings']['Constants']['ActivityMetricFrequency']['Minute30']:iSeconds=0x708;break;case TriSysFlexiva['Settings']['Constants']['ActivityMetricFrequency']['Minute60']:iSeconds=0xe10;break;case TriSysFlexiva['Settings']['Constants']['ActivityMetricFrequency']['Hour6']:iSeconds=0x5460;break;case TriSysFlexiva['Settings']['Constants']['ActivityMetricFrequency']['Hour12']:iSeconds=0xa8c0;break;case TriSysFlexiva['Settings']['Constants']['ActivityMetricFrequency']['Hour24']:iSeconds=0x15180;break;}iIntervalMilliSeconds=iSeconds*0x3e8;}}iIntervalMilliSeconds>0x0&&TriSysFlexiva['ActivityMetrics']['Scheduler']['TimerUtilityObject']['start']('ActivityMetrics',TriSysFlexiva['ActivityMetrics']['Scheduler']['FireVisibleMetrics'],iIntervalMilliSeconds);};TriSysFlexiva['ActivityMetrics']['Scheduler']['_Configuration']?(fnStartTimer(),TriSysFlexiva['ActivityMetrics']['Scheduler']['FireVisibleMetrics']()):TriSysFlexiva['ActivityMetrics']['WebAPI']['Read'](function(sJSON){sJSON&&(TriSysFlexiva['ActivityMetrics']['Scheduler']['_Configuration']=JSON['parse'](sJSON),fnStartTimer(),TriSysFlexiva['ActivityMetrics']['Scheduler']['FireVisibleMetrics']());});},'FireVisibleMetrics':function(){const config=TriSysFlexiva['ActivityMetrics']['Scheduler']['_Configuration'];if(!config)return;const sNow=moment()['format']('HH:mm:ss')+'\x20on\x20'+moment()['format']('dddd\x20DD\x20MMMM');console['log']('FireVisibleMetrics:\x20Fired\x20at\x20'+sNow);const lstMetric=config[0x0]['items'];lstMetric['forEach'](function(metricNode){const metric=metricNode['data'];TriSysFlexiva['ActivityMetrics']['Scheduler']['FireMetricDataAquisitionAndDisplay'](metric);});},'FireMetricDataAquisitionAndDisplay':function(metric){if(metric){const metricWidgetNavBar=$('#'+metric['ID']+'-navbar'),metricWidgetAccountSummary=$('#'+metric['ID']+'-accountsummary');if(metric['Visible']){if(metric['DataSourceRequest']){const fnDisplayMetric=function(fValue){const sDisplay=TriSysSDK['Numbers']['ThousandsSeparator'](fValue);metricWidgetNavBar['text'](sDisplay),metricWidgetAccountSummary['text'](sDisplay);};TriSysFlexiva['ActivityMetrics']['WebAPI']['RequestMetric'](metric,fnDisplayMetric);}else metricWidget['text'](-0x1);}}},'TimerUtilityObject':{'timers':{},'start':function(name,callback,iIntervalInMilliSeconds){const thisObject=TriSysFlexiva['ActivityMetrics']['Scheduler']['TimerUtilityObject'];return thisObject['cancel'](name),thisObject['timers'][name]=setInterval(callback,iIntervalInMilliSeconds),console['log']('Timer\x20\x22'+name+'\x22\x20started,\x20interval:\x20'+iIntervalInMilliSeconds+'ms'),thisObject['timers'][name];},'cancel':function(name){const thisObject=TriSysFlexiva['ActivityMetrics']['Scheduler']['TimerUtilityObject'];if(thisObject['timers'][name])return clearInterval(thisObject['timers'][name]),delete thisObject['timers'][name],console['log']('Timer\x20\x22'+name+'\x22\x20cancelled'),!![];return![];},'cancelAll':function(){const thisObject=TriSysFlexiva['ActivityMetrics']['Scheduler']['TimerUtilityObject'];for(var name in thisObject['timers']){clearInterval(thisObject['timers'][name]),console['log']('Timer\x20\x22'+name+'\x22\x20cancelled');}thisObject['timers']={},console['log']('All\x20timers\x20cancelled');},'exists':function(name){const thisObject=TriSysFlexiva['ActivityMetrics']['Scheduler']['TimerUtilityObject'];return thisObject['timers']['hasOwnProperty'](name);}},'_Configuration':null},'WebAPI':{'Read':function(fnCallback){var payloadObject={};payloadObject['URL']='AppStudio/ReadActivityMetrics',payloadObject['OutboundDataPacket']={'TreeFormat':!![]},payloadObject['InboundDataFunction']=function(CReadCustomActivityMetricsResponse){TriSysApex['UI']['HideWait']();if(CReadCustomActivityMetricsResponse&&CReadCustomActivityMetricsResponse['Success']&&fnCallback){const sJSON=TriSysAPI['Encryption']['Base64']['decode'](CReadCustomActivityMetricsResponse['JSON']);fnCallback(sJSON);}},payloadObject['ErrorHandlerFunction']=function(request,status,error){TriSysApex['UI']['HideWait'](),console['log'](TriSysAPI['Data']['BaseAddress']()+':\x20'+status+':\x20'+error+'.\x20responseText:\x20'+request['responseText']);},TriSysApex['UI']['ShowWait'](null,'Reading\x20Activity\x20Metrics...'),TriSysAPI['Data']['PostToWebAPI'](payloadObject);},'RequestMetric':function(metric,fnDisplayMetric){const sRequestId=metric['DataSourceRequest']['RequestId'];var options={'RequestId':sRequestId,'CustomVariables':TriSysFlexiva['Variables']['ReadAllByType'](),'Wait':{'Show':![],'Message':'Reading\x20Metric\x20Data...'},'CallbackSuccess':function(CReadThirdPartyDataSourceResponse){var iValue=-0x1;if(CReadThirdPartyDataSourceResponse['Success']){const columns=CReadThirdPartyDataSourceResponse['Columns'],dataTable=CReadThirdPartyDataSourceResponse['DataTable'],lst=dataTable['List'];if(columns['length']==0x1&&lst['length']==0x1){const column=columns[0x0],row=lst[0x0];iValue=row[column['field']];}else columns['length']>0x1&&lst['length']>0x1&&(iValue=lst['length']);}fnDisplayMetric(iValue);},'CallbackFailure':function(sErrorMessage){}};TriSysFlexiva['DataSources']['WebAPI']['SendRequest'](options);}}},'CodeEditor':{'ConvertDivToMonacoEditor':function(options){if(typeof monaco==='undefined'){console['error']('Monaco\x20not\x20loaded.\x20Call\x20LoadMonacoEditor\x20first.');return;}monaco['editor']['defineTheme']('jsonCustomTheme',{'base':'vs-dark','inherit':!![],'rules':[{'token':'string','foreground':'#CE9178'},{'token':'number','foreground':'#B5CEA8'},{'token':'keyword','foreground':'#569CD6'},{'token':'delimiter','foreground':'#CCCCCC'},{'token':'comment','foreground':'#00FF00'}],'colors':{'editor.background':'#1E1E1E','editor.foreground':'#D4D4D4','editor.lineHighlightBackground':'#2D2D2D','editorCursor.foreground':'#FFFFFF','editor.selectionBackground':'#264F78'}}),monaco['languages']['json']['jsonDefaults']['setDiagnosticsOptions']({'validate':!![],'allowComments':!![],'schemas':[{'uri':'http://myserver/schema.json','fileMatch':['*'],'schema':{'type':'object','properties':{}}}],'enableSchemaRequest':!![],'schemaValidation':'warning'});let editor=monaco['editor']['create'](document['getElementById'](options['ID']),{'value':options['Code'],'language':'json','theme':'vs','automaticLayout':!![],'formatOnPaste':!![],'formatOnType':!![],'minimap':{'enabled':!![]},'scrollBeyondLastLine':![],'tabSize':0x2,'wordWrap':'on','rulers':[0x50],'bracketPairColorization':{'enabled':!![]},'readOnly':options['ReadOnly'],'autoClosingBrackets':'never','autoClosingQuotes':'never'});const fnFormatCode=function(){editor['getAction']('editor.action.formatDocument')['run']();};editor['addCommand'](monaco['KeyMod']['Alt']|monaco['KeyCode']['KeyF'],fnFormatCode),setTimeout(fnFormatCode,0xfa),editor['addCommand'](monaco['KeyMod']['CtrlCmd']|monaco['KeyCode']['KeyZ'],function(){editor['trigger']('keyboard','undo',null);});function validateJSON(jsonString){try{return JSON['parse'](jsonString),{'valid':!![],'error':null};}catch(e){return{'valid':![],'error':e['message']};}}return $('#setContent')['click'](function(){const newJson={'example':'New\x20content','array':[0x1,0x2,0x3],'nested':{'property':'value'}};editor['setValue'](JSON['stringify'](newJson,null,0x2));}),$('#getContent')['click'](function(){const content=editor['getValue'](),validation=validateJSON(content);validation['valid']?$('#output')['html']('Valid\x20JSON\x20content:\x20<pre>'+content+'</pre>'):$('#output')['html']('Invalid\x20JSON:\x20<pre>'+validation['error']+'</pre>');}),$('#insertText')['click'](function(){const position=editor['getPosition'](),insertText=',\x0a\x22newProperty\x22:\x20\x22inserted\x20value\x22';editor['executeEdits']('',[{'range':new monaco['Range'](position['lineNumber'],position['column'],position['lineNumber'],position['column']),'text':insertText}]),editor['getAction']('editor.action.formatDocument')['run']();}),editor['addAction']({'id':'format-json','label':'Format\x20JSON','keybindings':[monaco['KeyMod']['Alt']|monaco['KeyCode']['KeyF']],'run':function(ed){try{const content=ed['getValue'](),parsed=JSON['parse'](content);ed['setValue'](JSON['stringify'](parsed,null,0x2));}catch(e){console['error']('Invalid\x20JSON:',e);}}}),editor['onDidChangeModelContent'](e=>{const content=editor['getValue'](),validation=validateJSON(content);!validation['valid']&&console['warn']('JSON\x20Validation\x20Error:',validation['error']);}),editor['addAction']({'id':'compress-json','label':'Compress\x20JSON','contextMenuGroupId':'json','run':function(ed){try{const content=ed['getValue'](),parsed=JSON['parse'](content);ed['setValue'](JSON['stringify'](parsed));}catch(e){console['error']('Invalid\x20JSON:',e);}}}),editor;},'_MonacoLoaded':![],'LoadMonacoEditor':function(callback){if(TriSysFlexiva['CodeEditor']['_MonacoLoaded']){if(callback)callback();return;}TriSysFlexiva['CodeEditor']['_MonacoLoaded']=![],window['require']={'paths':{'vs':'https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.44.0/min/vs'}};const script=document['createElement']('script');script['src']='https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.44.0/min/vs/loader.js',script['onload']=function(){try{require['config']({'vs/nls':{'availableLanguages':{'*':''}}}),require(['vs/editor/editor.main'],function(){console['log']('Monaco\x20loaded\x20successfully'),TriSysFlexiva['CodeEditor']['_MonacoLoaded']=!![];if(callback)callback();});}catch(e){}},script['onerror']=function(error){console['error']('Error\x20loading\x20Monaco:',error),TriSysFlexiva['CodeEditor']['_MonacoLoaded']=![];},document['body']['appendChild'](script);},'ConvertDivToCodeMirrorEditor':function(sID,sCode,mode){var fileElement=document['getElementById'](sID),myCodeMirror=null;try{myCodeMirror=CodeMirror(fileElement,{'lineNumbers':!![],'extraKeys':{'Alt-F':'findPersistent'},'indentUnit':0x4,'mode':mode,'value':sCode?sCode:'','lineWrapping':!![],'foldGutter':!![],'gutters':['CodeMirror-linenumbers','CodeMirror-foldgutter']}),myCodeMirror['display']['wrapper']['style']['fontSize']='12px';}catch(e){TriSysApex['UI']['ErrorMessage']('Failed\x20to\x20instantiate\x20CodeMirror:\x20'+TriSysApex['Logging']['CatchVariableToText'](e));}return myCodeMirror;}},'Variables':{'_Variables':null,'Instantiate':function(){const variables={'Client':[],'Server':[]};TriSysFlexiva['Variables']['_Variables']=variables;},'Load':function(options){TriSysFlexiva['Variables']['Instantiate'](),TriSysFlexiva['Variables']['WebAPI']['Read'](options['Silent'],function(sJSON){TriSysFlexiva['Variables']['AfterLoadingVariablesFromServer'](sJSON,options['CDataConnectionKey'],options['Callback']);});},'AfterLoadingVariablesFromServer':function(sJSON,CDataConnectionKey,fnCallback){sJSON&&(TriSysFlexiva['Variables']['_Variables']=JSON['parse'](sJSON));const variables=TriSysFlexiva['Variables']['_Variables'];if(fnCallback)fnCallback();},'Unload':function(){TriSysFlexiva['Variables']['Instantiate']();},'DisplayFormat':function(sValue){var sDisplay=sValue;return sDisplay&&sDisplay['indexOf'](TriSysFlexiva['Settings']['Constants']['CustomVariablePrefix'])<0x0&&(sDisplay=TriSysFlexiva['Settings']['Constants']['CustomVariablePrefix']+sValue+TriSysFlexiva['Settings']['Constants']['CustomVariableSuffix']),sDisplay;},'Item':function(sName,sSource,sValue){const object={'Name':sName,'Source':sSource,'Value':sValue};return object;},'LoadSystem':function(lstVariables){const manager=TriSysApex['Cache']['SystemSettingManager'];lstVariables['forEach'](function(variable){if(variable['Source'])variable['Value']=manager['GetValue'](variable['Source']);else variable['Value']=TriSysFlexiva['Variables']['ReadSystem'](variable['Name']);});},'ReadAllByType':function(sType){if(!sType)sType=TriSysFlexiva['Variables']['Constants']['Client'];const variables=TriSysFlexiva['Variables']['_Variables'];if(variables&&sType){const lst=variables[sType];return lst;}else return variables;},'ReadSystem':function(sName){const variables=TriSysFlexiva['Variables']['_Variables'],sVariableValue=TriSysFlexiva['Variables']['ReadList'](variables['System'],sName);return sVariableValue;},'LoadUser':function(lstVariables,CDataConnectionKey){const manager=TriSysApex['Cache']['UserSettingManager'];var userCredentials=TriSysApex['LoginCredentials']['UserCredentials']();userCredentials&&userCredentials['LoggedInUser']&&lstVariables['forEach'](function(variable){variable['Value']=manager['GetValue'](variable['Source']);});},'ReadUser':function(sName){const variables=TriSysFlexiva['Variables']['_Variables'],sVariableValue=TriSysFlexiva['Variables']['ReadList'](variables['User'],sName);return sVariableValue;},'LoadSession':function(lstVariables,CDataConnectionKey){lstVariables&&lstVariables['forEach'](function(variable){variable['Value']=TriSysFlexiva['Variables']['GetSessionVariableValueByName'](variable['Name']);});},'GetSessionVariableValueByName':function(sName){const sessionVariables=TriSysFlexiva['Variables']['SessionVariables'](),sessionVariable=sessionVariables[sName];if(sessionVariable)return sessionVariable['Source'];},'ReadSession':function(sName){const variables=TriSysFlexiva['Variables']['_Variables'],sVariableValue=TriSysFlexiva['Variables']['ReadList'](variables['Session'],sName);return sVariableValue;},'SessionVariables':function(){var userCredentials=TriSysApex['LoginCredentials']['UserCredentials']();return{'SiteKey':{'Name':'SiteKey','Source':TriSysAPI['Session']['DeveloperSiteKey']()},'DataServicesKey':{'Name':'DataServicesKey','Source':TriSysAPI['Session']['DataServicesKey']()},'WebAPIEndpoint':{'Name':'WebAPIEndpoint','Source':TriSysAPI['Constants']['SecureURL']},'SQLServer':{'Name':'SQLServer','Source':userCredentials?TriSysApex['UserOptions']['MaskPublicResourcePath'](userCredentials['SQLServer']):null},'SQLServerMachine':{'Name':'SQLServerMachine','Source':userCredentials?userCredentials['SQLServerName']:null},'SQLDatabase':{'Name':'SQLDatabase','Source':userCredentials?userCredentials['Database']:null},'GDrivePath':{'Name':'GDrivePath','Source':userCredentials?TriSysApex['UserOptions']['MaskPublicResourcePath'](userCredentials['GDrivePath']):null},'ApplicationName':{'Name':'ApplicationName','Source':TriSysApex['Constants']['ApplicationName']}};},'ReadList':function(lst,sName){var foundVariable=null;return lst['forEach'](function(variable){if(variable['Name']===sName){foundVariable=variable['Value'];return;}}),foundVariable;},'ExtractFields':function(inputString,bRemoveFieldEnclosure){const regex=/<#([^#]+)#>/g,matches=[];let match;while((match=regex['exec'](inputString))!==null){var sMatch=match[0x0];if(bRemoveFieldEnclosure)sMatch=sMatch['replace'](/<#/,'')['replace'](/#>/,'');matches['push'](sMatch);}return matches;},'ParseAndReplace':function(sURL){const lstVariable=TriSysFlexiva['Variables']['ExtractFields'](sURL);return lstVariable&&lstVariable['forEach'](function(sVariableName){var sValue=TriSysFlexiva['Variables']['ReadVariableValue'](sVariableName);if(!sValue)sValue='';sVariableInURL=TriSysFlexiva['Variables']['DisplayFormat'](sVariableName),sURL=sURL['replace'](sVariableInURL,sValue);}),sURL;},'ReadVariableValue':function(sVariableName){const lstVariable=TriSysFlexiva['Variables']['_Variables'];var variable=TriSysFlexiva['Variables']['ReadVariableByNameFromList'](lstVariable['Client'],sVariableName);if(!variable)variable=TriSysFlexiva['Variables']['ReadVariableByNameFromList'](lstVariable['Server'],sVariableName);if(variable)return variable['Value'];},'ReadVariableByNameFromList':function(lst,sVariableName){var foundVariableObject=null;if(sVariableName&&sVariableName['indexOf'](TriSysFlexiva['Settings']['Constants']['CustomVariablePrefix'])>=0x0)sVariableName=sVariableName['replace'](TriSysFlexiva['Settings']['Constants']['CustomVariablePrefix'],'');if(sVariableName&&sVariableName['indexOf'](TriSysFlexiva['Settings']['Constants']['CustomVariableSuffix'])>=0x0)sVariableName=sVariableName['replace'](TriSysFlexiva['Settings']['Constants']['CustomVariableSuffix'],'');return lst['forEach'](function(variable){if(variable['Name']===sVariableName){foundVariableObject=variable;return;}}),foundVariableObject;},'Replace':function(sVariableNameWithBrackets){return sVariableNameWithBrackets&&(sVariableNameWithBrackets['indexOf'](TriSysFlexiva['Settings']['Constants']['CustomVariablePrefix'])>=0x0&&sVariableNameWithBrackets['indexOf'](TriSysFlexiva['Settings']['Constants']['CustomVariableSuffix'])>0x0&&TriSysFlexiva['Variables']['_Variables']['Client']['forEach'](function(variable){const sVariableName=TriSysFlexiva['Variables']['DisplayFormat'](variable['Name']);if(sVariableName==sVariableNameWithBrackets){sVariableNameWithBrackets=variable['Value'];return;}})),sVariableNameWithBrackets;},'WebAPI':{'Read':function(bSilent,fnCallback){var payloadObject={};payloadObject['URL']='AppStudio/ReadCustomVariables',payloadObject['OutboundDataPacket']={'TreeFormat':!![]},payloadObject['InboundDataFunction']=function(CReadCustomVariablesResponse){if(!bSilent)TriSysApex['UI']['HideWait']();if(CReadCustomVariablesResponse&&CReadCustomVariablesResponse['Success']&&fnCallback){const sJSON=CReadCustomVariablesResponse['JSON']?TriSysAPI['Encryption']['Base64']['decode'](CReadCustomVariablesResponse['JSON']):'';fnCallback(sJSON);}},payloadObject['ErrorHandlerFunction']=function(request,status,error){if(!bSilent)TriSysApex['UI']['HideWait']();console['log'](TriSysAPI['Data']['BaseAddress']()+':\x20'+status+':\x20'+error+'.\x20responseText:\x20'+request['responseText']);};if(!bSilent)TriSysApex['UI']['ShowWait'](null,'Reading\x20Variables...');TriSysAPI['Data']['PostToWebAPI'](payloadObject);},'Write':function(sJSON,fnCallback){var payloadObject={};payloadObject['URL']='AppStudio/WriteCustomVariables',payloadObject['OutboundDataPacket']={'JSON':sJSON},payloadObject['InboundDataFunction']=function(CWriteCustomVariablesResponse){TriSysApex['UI']['HideWait'](),CWriteCustomVariablesResponse&&CWriteCustomVariablesResponse['Success']&&fnCallback();},payloadObject['ErrorHandlerFunction']=function(request,status,error){TriSysApex['UI']['HideWait'](),console['log'](TriSysAPI['Data']['BaseAddress']()+':\x20'+status+':\x20'+error+'.\x20responseText:\x20'+request['responseText']);},TriSysApex['UI']['ShowWait'](null,'Saving\x20Variable...'),TriSysAPI['Data']['PostToWebAPI'](payloadObject);}},'Constants':{'Client':'Client','Server':'Server'}},'Miscellaneous':{},'Settings':{'PanelDataTag':'flexiva-data-panel','ToolboxComponentsId':'ctrlFormDesigner2024-ToolboxComponents','ToolboxFieldsId':'ctrlFormDesigner2024-ToolboxFields','FieldDataTag':'flexiva-data-field','ComponentDataTag':'flexiva-data-component','FoldersAndFilesAPI':'Folders/DevelopmentStudioSubFoldersAndFiles','ReadFileAPI':'DeveloperStudio/ReadFile','Constants':{'PanelType_Form':'Form','PanelType_Block':'Block','ControlDataTag':'flexiva-control-data','CustomVariablePrefix':'<#','CustomVariableSuffix':'#>','FormType_Lookup':'Lookup','FormType_DataEntry':'Data\x20Entry','FormType_Modal':'Modal','BodyFormat_JSON':'JSON','BodyFormat_Tree':'Tree','BodyFormat_Grid':'Grid','BodyFormat_JSON_Description':'JSON\x20-\x20JavaScript\x20Object\x20Notation','BodyFormat_Tree_Description':'Tree\x20-\x20Hierarchical\x20tree\x20of\x20folders\x20and\x20nodes','BodyFormat_Grid_Description':'Grid\x20-\x20Two\x20dimensional\x20table\x20with\x20columns\x20and\x20rows','ParameterFormat_Args':'Args','ParameterFormat_Query':'Query','ParameterFormat_Args_Description':'Argument\x20per\x20Parameter\x20e.g.\x20?param1=value&param2=value','ParameterFormat_Query_Description':'JSON\x20query\x20e.g.\x20?q={\x27param1\x27:\x27value\x27,\x20\x27param2\x27:\x27value\x27}','AuthorisationType_None':'None','AuthorisationType_InheritFromParent':'Inherit\x20from\x20parent','AuthorisationType_Basic':'Basic','AuthorisationType_BearerToken':'Bearer\x20Token','AuthorisationType_APIKey':'API\x20Keys','AuthorisationAddTo_Header':'Header','AuthorisationAddTo_QueryParameters':'Query\x20Parameters','FieldType_Array':'Array','FieldType_String':'String','FieldType_Number':'Number','FieldType_Date':'Date','FieldType_Boolean':'Boolean','FieldType_ImageURL':'Image\x20URL','FieldType_ImageBase64':'Image\x20Base64','FieldType_ImageID':'Image\x20ID','FieldType_Null':'Null','ImageSize_None':'','ImageSize_16':'16\x20x\x2016','ImageSize_24':'24\x20x\x2024','ImageSize_32':'32\x20x\x2032','ImageSize_48':'48\x20x\x2048','ImageSize_64':'64\x20x\x2064','ImageSize_96':'96\x20x\x2096','ImageSize_128':'128\x20x\x20128','ImageSize_256':'256\x20x\x20256','ImageSize_512':'512\x20x\x20512','ImageSize_1024':'1024\x20x\x201024','FieldFormat_None':'','FieldFormat_Date1':'ddd\x20DD\x20MMM\x20YYYY','FieldFormat_Date2':'dddd\x20DD\x20MMMM\x20YYYY','FieldFormat_Date3':'DD\x20MMM\x20YYYY','FieldFormat_Date4':'DD\x20MMM\x20YYYY\x20HH:mm:ss','FieldFormat_Date5':'ddd\x20DD\x20MMM\x20YYYY\x20HH:mm','FieldFormat_Date6':'ddd\x20DD\x20MMM\x20YYYY\x20HH:mm:ss','FieldFormat_Date7':'dddd\x20DD\x20MMMM\x20YYYY\x20HH:mm','FieldFormat_Date8':'dddd\x20DD\x20MMMM\x20YYYY\x20HH:mm:ss','FieldFormat_Custom':'Custom\x20Function','FieldFormat_Currency1':'','FieldFormat_Currency2':'','FieldFormat_Currency3':'$','FieldFormat_Currency4':'','FieldFormat_Currency5':'','FieldFormat_Currency6':'','FieldFormat_Number1':'#','FieldFormat_Number2':'#.0','FieldFormat_Number3':'#.00','FieldFormat_Number4':'#,###,###,###,###','FieldFormat_Number5':'#,###,###,###,###.0','FieldFormat_Number6':'#,###,###,###,###.00','GridPopulationTrigger_FormLoad':'Form\x20Loaded','GridPopulationTrigger_None':'None','GridPopulationTrigger_RecordLoad':'Record\x20Loaded','GridPopulationTrigger_Component':'Another\x20Component','ActivityMetric_Type':{'Root':'Root','Metric':'Metric'},'AppToolbar_Type':{'NavBar':'NavBar','SearchBox':'SearchBox','HistoryMenu':'HistoryMenu','AddMenu':'AddMenu','AddMenuItem':'AddMenuItem','CustomButtons':'CustomButtons','CustomButton':'CustomButton','ShowHelp':'ShowHelp','AccountSummary':'AccountSummary','AccountSummaryItem':'AccountSummaryItem'},'Bootstrap_Colours':{'Data':[{'Name':'Blue','Colour':'info'},{'Name':'Green','Colour':'success'},{'Name':'Grey','Colour':'default'},{'Name':'Red','Colour':'danger'},{'Name':'Themed','Colour':'primary'},{'Name':'Yellow','Colour':'warning'}],'List':function(){const lst=[];return TriSysFlexiva['Settings']['Constants']['Bootstrap_Colours']['Data']['forEach'](function(colourCombo){lst['push'](colourCombo['Name']);}),lst;},'ColourFromName':function(sName){var sColour='default';return TriSysFlexiva['Settings']['Constants']['Bootstrap_Colours']['Data']['forEach'](function(colourCombo){if(sName==colourCombo['Name'])sColour=colourCombo['Colour'];}),sColour;}},'ActivityMetricFrequency':{'Never':'Never','Second30':'30\x20Seconds','Minute1':'1\x20Minute','Minute2':'2\x20Minutes','Minute5':'5\x20Minutes','Minute10':'10\x20Minutes','Minute15':'15\x20Minutes','Minute30':'30\x20Minutes','Minute60':'60\x20Minutes','Hour6':'6\x20Hours','Hour12':'12\x20Hours','Hour24':'24\x20Hours'},'nowt':null},'TypeToComboItem':function(sType){return{'text':sType,'value':sType};},'StringListToComboItems':function(lst){const lstComboItems=[];return lst&&lst['forEach'](function(sItem){lstComboItems['push'](TriSysFlexiva['Settings']['TypeToComboItem'](sItem));}),lstComboItems;},'PanelTypeList':function(){var lst=[TriSysFlexiva['Settings']['TypeToComboItem'](TriSysFlexiva['Settings']['Constants']['PanelType_Form']),TriSysFlexiva['Settings']['TypeToComboItem'](TriSysFlexiva['Settings']['Constants']['PanelType_Block'])];return lst;},'FormTypeList':function(){var lst=[TriSysFlexiva['Settings']['TypeToComboItem'](TriSysFlexiva['Settings']['Constants']['FormType_Lookup']),TriSysFlexiva['Settings']['TypeToComboItem'](TriSysFlexiva['Settings']['Constants']['FormType_DataEntry']),TriSysFlexiva['Settings']['TypeToComboItem'](TriSysFlexiva['Settings']['Constants']['FormType_Modal'])];return lst;},'FieldTypeList':function(){var lst=[TriSysFlexiva['Settings']['TypeToComboItem'](TriSysFlexiva['Settings']['Constants']['FieldType_Boolean']),TriSysFlexiva['Settings']['TypeToComboItem'](TriSysFlexiva['Settings']['Constants']['FieldType_Date']),TriSysFlexiva['Settings']['TypeToComboItem'](TriSysFlexiva['Settings']['Constants']['FieldType_ImageBase64']),TriSysFlexiva['Settings']['TypeToComboItem'](TriSysFlexiva['Settings']['Constants']['FieldType_ImageID']),TriSysFlexiva['Settings']['TypeToComboItem'](TriSysFlexiva['Settings']['Constants']['FieldType_ImageURL']),TriSysFlexiva['Settings']['TypeToComboItem'](TriSysFlexiva['Settings']['Constants']['FieldType_Null']),TriSysFlexiva['Settings']['TypeToComboItem'](TriSysFlexiva['Settings']['Constants']['FieldType_Number']),TriSysFlexiva['Settings']['TypeToComboItem'](TriSysFlexiva['Settings']['Constants']['FieldType_String'])];return lst;},'ImageSizeList':function(){var lst=[TriSysFlexiva['Settings']['TypeToComboItem'](TriSysFlexiva['Settings']['Constants']['ImageSize_None']),TriSysFlexiva['Settings']['TypeToComboItem'](TriSysFlexiva['Settings']['Constants']['ImageSize_16']),TriSysFlexiva['Settings']['TypeToComboItem'](TriSysFlexiva['Settings']['Constants']['ImageSize_24']),TriSysFlexiva['Settings']['TypeToComboItem'](TriSysFlexiva['Settings']['Constants']['ImageSize_32']),TriSysFlexiva['Settings']['TypeToComboItem'](TriSysFlexiva['Settings']['Constants']['ImageSize_48']),TriSysFlexiva['Settings']['TypeToComboItem'](TriSysFlexiva['Settings']['Constants']['ImageSize_64']),TriSysFlexiva['Settings']['TypeToComboItem'](TriSysFlexiva['Settings']['Constants']['ImageSize_96']),TriSysFlexiva['Settings']['TypeToComboItem'](TriSysFlexiva['Settings']['Constants']['ImageSize_128']),TriSysFlexiva['Settings']['TypeToComboItem'](TriSysFlexiva['Settings']['Constants']['ImageSize_256']),TriSysFlexiva['Settings']['TypeToComboItem'](TriSysFlexiva['Settings']['Constants']['ImageSize_512']),TriSysFlexiva['Settings']['TypeToComboItem'](TriSysFlexiva['Settings']['Constants']['ImageSize_1024'])];return lst;},'FieldFormatList':function(){const constants=TriSysFlexiva['Settings']['Constants'];var lst=[TriSysFlexiva['Settings']['TypeToComboItem'](constants['FieldFormat_None']),TriSysFlexiva['Settings']['TypeToComboItem'](constants['FieldFormat_Custom']),TriSysFlexiva['Settings']['TypeToComboItem'](constants['FieldFormat_Currency1']),TriSysFlexiva['Settings']['TypeToComboItem'](constants['FieldFormat_Currency2']),TriSysFlexiva['Settings']['TypeToComboItem'](constants['FieldFormat_Currency3']),TriSysFlexiva['Settings']['TypeToComboItem'](constants['FieldFormat_Currency4']),TriSysFlexiva['Settings']['TypeToComboItem'](constants['FieldFormat_Currency5']),TriSysFlexiva['Settings']['TypeToComboItem'](constants['FieldFormat_Currency6']),TriSysFlexiva['Settings']['TypeToComboItem'](constants['FieldFormat_Date1']),TriSysFlexiva['Settings']['TypeToComboItem'](constants['FieldFormat_Date2']),TriSysFlexiva['Settings']['TypeToComboItem'](constants['FieldFormat_Date3']),TriSysFlexiva['Settings']['TypeToComboItem'](constants['FieldFormat_Date4']),TriSysFlexiva['Settings']['TypeToComboItem'](constants['FieldFormat_Date5']),TriSysFlexiva['Settings']['TypeToComboItem'](constants['FieldFormat_Date6']),TriSysFlexiva['Settings']['TypeToComboItem'](constants['FieldFormat_Date7']),TriSysFlexiva['Settings']['TypeToComboItem'](constants['FieldFormat_Date8']),TriSysFlexiva['Settings']['TypeToComboItem'](constants['FieldFormat_Number1']),TriSysFlexiva['Settings']['TypeToComboItem'](constants['FieldFormat_Number2']),TriSysFlexiva['Settings']['TypeToComboItem'](constants['FieldFormat_Number3']),TriSysFlexiva['Settings']['TypeToComboItem'](constants['FieldFormat_Number4']),TriSysFlexiva['Settings']['TypeToComboItem'](constants['FieldFormat_Number5']),TriSysFlexiva['Settings']['TypeToComboItem'](constants['FieldFormat_Number6'])];return lst;},'nowt':null}};